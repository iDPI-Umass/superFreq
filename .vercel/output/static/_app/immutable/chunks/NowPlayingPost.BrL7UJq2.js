import{s as K,J as q,K as H,l as ae,u as ue,m as fe,o as ce,A as Je,a as T,e as _,g as y,c as p,b as P,f as m,r as f,i as A,h as d,x as ne,D as kt,B as tt,v as bt,y as wt,z as Nt,t as te,d as le,w as X,n as R,j as Ie,H as qe,S as Ue,C as ze,Q as et}from"./scheduler.CXRP0wEC.js";import{S as Q,i as W,c as M,b as O,m as B,t as b,a as $,d as j,e as lt,g as Me,f as Oe}from"./index.a6HmqSPn.js";/* empty css              */import"./updater.C1ZFZVgO.js";import{e as Ct}from"./forms.CTZFOOt3.js";import{P as Et,a as St,b as It}from"./popover-trigger.Dez8sWdy.js";import{c as Ut}from"./index.CvmYViMX.js";import{g as de,a as me}from"./spread.CgU5AtxT.js";import{I as _e}from"./Icon.3yADeopG.js";import{d as _t}from"./parseData.CC0748Oa.js";const Pt={y:-8,start:.95,duration:200};function Tt(o,e){const r=getComputedStyle(o),l=r.transform==="none"?"":r.transform,t={...Pt,...e},n=(i,a,u)=>{const[c,E]=a,[h,N]=u;return(i-c)/(E-c)*(N-h)+h},s=i=>Object.keys(i).reduce((a,u)=>i[u]===void 0?a:`${a}${u}:${i[u]};`,"");return{duration:t.duration??200,delay:0,css:i=>{const a=n(i,[0,1],[t.y,0]),u=n(i,[0,1],[t.start,1]);return s({transform:`${l} translate3d(0, ${a}px, 0) scale(${u})`,opacity:i})},easing:Ut}}function yt(o){let e;const r=o[2].default,l=ae(r,o,o[3],null);return{c(){l&&l.c()},l(t){l&&l.l(t)},m(t,n){l&&l.m(t,n),e=!0},p(t,n){l&&l.p&&(!e||n&8)&&ue(l,r,t,t[3],e?ce(r,t[3],n,null):fe(t[3]),null)},i(t){e||(b(l,t),e=!0)},o(t){$(l,t),e=!1},d(t){l&&l.d(t)}}}function At(o){let e,r;const l=[{name:"ellipsis"},o[1],{iconNode:o[0]}];let t={$$slots:{default:[yt]},$$scope:{ctx:o}};for(let n=0;n<l.length;n+=1)t=q(t,l[n]);return e=new _e({props:t}),{c(){M(e.$$.fragment)},l(n){O(e.$$.fragment,n)},m(n,s){B(e,n,s),r=!0},p(n,[s]){const i=s&3?de(l,[l[0],s&2&&me(n[1]),s&1&&{iconNode:n[0]}]):{};s&8&&(i.$$scope={dirty:s,ctx:n}),e.$set(i)},i(n){r||(b(e.$$.fragment,n),r=!0)},o(n){$(e.$$.fragment,n),r=!1},d(n){j(e,n)}}}function Dt(o,e,r){let{$$slots:l={},$$scope:t}=e;const n=[["circle",{cx:"12",cy:"12",r:"1"}],["circle",{cx:"19",cy:"12",r:"1"}],["circle",{cx:"5",cy:"12",r:"1"}]];return o.$$set=s=>{r(1,e=q(q({},e),H(s))),"$$scope"in s&&r(3,t=s.$$scope)},e=H(e),[n,e,l,t]}class Mt extends Q{constructor(e){super(),W(this,e,Dt,At,K,{})}}function Ot(o){let e;const r=o[2].default,l=ae(r,o,o[3],null);return{c(){l&&l.c()},l(t){l&&l.l(t)},m(t,n){l&&l.m(t,n),e=!0},p(t,n){l&&l.p&&(!e||n&8)&&ue(l,r,t,t[3],e?ce(r,t[3],n,null):fe(t[3]),null)},i(t){e||(b(l,t),e=!0)},o(t){$(l,t),e=!1},d(t){l&&l.d(t)}}}function Bt(o){let e,r;const l=[{name:"pen-line"},o[1],{iconNode:o[0]}];let t={$$slots:{default:[Ot]},$$scope:{ctx:o}};for(let n=0;n<l.length;n+=1)t=q(t,l[n]);return e=new _e({props:t}),{c(){M(e.$$.fragment)},l(n){O(e.$$.fragment,n)},m(n,s){B(e,n,s),r=!0},p(n,[s]){const i=s&3?de(l,[l[0],s&2&&me(n[1]),s&1&&{iconNode:n[0]}]):{};s&8&&(i.$$scope={dirty:s,ctx:n}),e.$set(i)},i(n){r||(b(e.$$.fragment,n),r=!0)},o(n){$(e.$$.fragment,n),r=!1},d(n){j(e,n)}}}function jt(o,e,r){let{$$slots:l={},$$scope:t}=e;const n=[["path",{d:"M12 20h9"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z"}]];return o.$$set=s=>{r(1,e=q(q({},e),H(s))),"$$scope"in s&&r(3,t=s.$$scope)},e=H(e),[n,e,l,t]}class qt extends Q{constructor(e){super(),W(this,e,jt,Bt,K,{})}}function zt(o){let e;const r=o[2].default,l=ae(r,o,o[3],null);return{c(){l&&l.c()},l(t){l&&l.l(t)},m(t,n){l&&l.m(t,n),e=!0},p(t,n){l&&l.p&&(!e||n&8)&&ue(l,r,t,t[3],e?ce(r,t[3],n,null):fe(t[3]),null)},i(t){e||(b(l,t),e=!0)},o(t){$(l,t),e=!1},d(t){l&&l.d(t)}}}function Vt(o){let e,r;const l=[{name:"trash-2"},o[1],{iconNode:o[0]}];let t={$$slots:{default:[zt]},$$scope:{ctx:o}};for(let n=0;n<l.length;n+=1)t=q(t,l[n]);return e=new _e({props:t}),{c(){M(e.$$.fragment)},l(n){O(e.$$.fragment,n)},m(n,s){B(e,n,s),r=!0},p(n,[s]){const i=s&3?de(l,[l[0],s&2&&me(n[1]),s&1&&{iconNode:n[0]}]):{};s&8&&(i.$$scope={dirty:s,ctx:n}),e.$set(i)},i(n){r||(b(e.$$.fragment,n),r=!0)},o(n){$(e.$$.fragment,n),r=!1},d(n){j(e,n)}}}function Rt(o,e,r){let{$$slots:l={},$$scope:t}=e;const n=[["path",{d:"M3 6h18"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17"}]];return o.$$set=s=>{r(1,e=q(q({},e),H(s))),"$$scope"in s&&r(3,t=s.$$scope)},e=H(e),[n,e,l,t]}class Ft extends Q{constructor(e){super(),W(this,e,Rt,Vt,K,{})}}function Ht(o){let e;const r=o[2].default,l=ae(r,o,o[3],null);return{c(){l&&l.c()},l(t){l&&l.l(t)},m(t,n){l&&l.m(t,n),e=!0},p(t,n){l&&l.p&&(!e||n&8)&&ue(l,r,t,t[3],e?ce(r,t[3],n,null):fe(t[3]),null)},i(t){e||(b(l,t),e=!0)},o(t){$(l,t),e=!1},d(t){l&&l.d(t)}}}function Lt(o){let e,r;const l=[{name:"ban"},o[1],{iconNode:o[0]}];let t={$$slots:{default:[Ht]},$$scope:{ctx:o}};for(let n=0;n<l.length;n+=1)t=q(t,l[n]);return e=new _e({props:t}),{c(){M(e.$$.fragment)},l(n){O(e.$$.fragment,n)},m(n,s){B(e,n,s),r=!0},p(n,[s]){const i=s&3?de(l,[l[0],s&2&&me(n[1]),s&1&&{iconNode:n[0]}]):{};s&8&&(i.$$scope={dirty:s,ctx:n}),e.$set(i)},i(n){r||(b(e.$$.fragment,n),r=!0)},o(n){$(e.$$.fragment,n),r=!1},d(n){j(e,n)}}}function Xt(o,e,r){let{$$slots:l={},$$scope:t}=e;const n=[["circle",{cx:"12",cy:"12",r:"10"}],["path",{d:"m4.9 4.9 14.2 14.2"}]];return o.$$set=s=>{r(1,e=q(q({},e),H(s))),"$$scope"in s&&r(3,t=s.$$scope)},e=H(e),[n,e,l,t]}class Yt extends Q{constructor(e){super(),W(this,e,Xt,Lt,K,{})}}function Gt(o){let e;const r=o[2].default,l=ae(r,o,o[3],null);return{c(){l&&l.c()},l(t){l&&l.l(t)},m(t,n){l&&l.m(t,n),e=!0},p(t,n){l&&l.p&&(!e||n&8)&&ue(l,r,t,t[3],e?ce(r,t[3],n,null):fe(t[3]),null)},i(t){e||(b(l,t),e=!0)},o(t){$(l,t),e=!1},d(t){l&&l.d(t)}}}function Zt(o){let e,r;const l=[{name:"circle"},o[1],{iconNode:o[0]}];let t={$$slots:{default:[Gt]},$$scope:{ctx:o}};for(let n=0;n<l.length;n+=1)t=q(t,l[n]);return e=new _e({props:t}),{c(){M(e.$$.fragment)},l(n){O(e.$$.fragment,n)},m(n,s){B(e,n,s),r=!0},p(n,[s]){const i=s&3?de(l,[l[0],s&2&&me(n[1]),s&1&&{iconNode:n[0]}]):{};s&8&&(i.$$scope={dirty:s,ctx:n}),e.$set(i)},i(n){r||(b(e.$$.fragment,n),r=!0)},o(n){$(e.$$.fragment,n),r=!1},d(n){j(e,n)}}}function Jt(o,e,r){let{$$slots:l={},$$scope:t}=e;const n=[["circle",{cx:"12",cy:"12",r:"10"}]];return o.$$set=s=>{r(1,e=q(q({},e),H(s))),"$$scope"in s&&r(3,t=s.$$scope)},e=H(e),[n,e,l,t]}class Kt extends Q{constructor(e){super(),W(this,e,Jt,Zt,K,{})}}function Qt(o){let e;const r=o[2].default,l=ae(r,o,o[3],null);return{c(){l&&l.c()},l(t){l&&l.l(t)},m(t,n){l&&l.m(t,n),e=!0},p(t,n){l&&l.p&&(!e||n&8)&&ue(l,r,t,t[3],e?ce(r,t[3],n,null):fe(t[3]),null)},i(t){e||(b(l,t),e=!0)},o(t){$(l,t),e=!1},d(t){l&&l.d(t)}}}function Wt(o){let e,r;const l=[{name:"flag"},o[1],{iconNode:o[0]}];let t={$$slots:{default:[Qt]},$$scope:{ctx:o}};for(let n=0;n<l.length;n+=1)t=q(t,l[n]);return e=new _e({props:t}),{c(){M(e.$$.fragment)},l(n){O(e.$$.fragment,n)},m(n,s){B(e,n,s),r=!0},p(n,[s]){const i=s&3?de(l,[l[0],s&2&&me(n[1]),s&1&&{iconNode:n[0]}]):{};s&8&&(i.$$scope={dirty:s,ctx:n}),e.$set(i)},i(n){r||(b(e.$$.fragment,n),r=!0)},o(n){$(e.$$.fragment,n),r=!1},d(n){j(e,n)}}}function xt(o,e,r){let{$$slots:l={},$$scope:t}=e;const n=[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15"}]];return o.$$set=s=>{r(1,e=q(q({},e),H(s))),"$$scope"in s&&r(3,t=s.$$scope)},e=H(e),[n,e,l,t]}class nt extends Q{constructor(e){super(),W(this,e,xt,Wt,K,{})}}function el(o){let e,r;return e=new Mt({props:{size:"16",color:"var(--freq-color-text-muted)"}}),{c(){M(e.$$.fragment)},l(l){O(e.$$.fragment,l)},m(l,t){B(e,l,t),r=!0},p:R,i(l){r||(b(e.$$.fragment,l),r=!0)},o(l){$(e.$$.fragment,l),r=!1},d(l){j(e,l)}}}function tl(o){let e,r,l,t,n="edit",s,i,a,u,c,E="delete",h,N,v;return r=new qt({props:{size:"16",color:"var(--freq-color-text-muted)"}}),a=new Ft({props:{size:"16",color:"var(--freq-color-text-muted)"}}),{c(){e=_("button"),M(r.$$.fragment),l=T(),t=_("span"),t.textContent=n,s=T(),i=_("button"),M(a.$$.fragment),u=T(),c=_("span"),c.textContent=E,this.h()},l(g){e=p(g,"BUTTON",{class:!0});var U=P(e);O(r.$$.fragment,U),l=y(U),t=p(U,"SPAN",{class:!0,"data-svelte-h":!0}),X(t)!=="svelte-vtulc2"&&(t.textContent=n),U.forEach(m),s=y(g),i=p(g,"BUTTON",{class:!0});var S=P(i);O(a.$$.fragment,S),u=y(S),c=p(S,"SPAN",{class:!0,"data-svelte-h":!0}),X(c)!=="svelte-184ttx5"&&(c.textContent=E),S.forEach(m),this.h()},h(){f(t,"class","descriptor"),f(e,"class","popover-item"),f(c,"class","descriptor"),f(i,"class","popover-item")},m(g,U){A(g,e,U),B(r,e,null),d(e,l),d(e,t),A(g,s,U),A(g,i,U),B(a,i,null),d(i,u),d(i,c),h=!0,N||(v=[ne(e,"click",Ue(o[15])),ne(i,"click",Ue(o[26]))],N=!0)},p:R,i(g){h||(b(r.$$.fragment,g),b(a.$$.fragment,g),h=!0)},o(g){$(r.$$.fragment,g),$(a.$$.fragment,g),h=!1},d(g){g&&(m(e),m(s),m(i)),j(r),j(a),N=!1,bt(v)}}}function ll(o){let e,r,l,t,n="flag post",s,i,a;return r=new nt({props:{size:"16",color:"var(--freq-color-text-muted)"}}),{c(){e=_("button"),M(r.$$.fragment),l=T(),t=_("span"),t.textContent=n,this.h()},l(u){e=p(u,"BUTTON",{class:!0});var c=P(e);O(r.$$.fragment,c),l=y(c),t=p(c,"SPAN",{class:!0,"data-svelte-h":!0}),X(t)!=="svelte-19jnfya"&&(t.textContent=n),c.forEach(m),this.h()},h(){f(t,"class","descriptor"),f(e,"class","popover-item")},m(u,c){A(u,e,c),B(r,e,null),d(e,l),d(e,t),s=!0,i||(a=ne(e,"click",Ue(o[25])),i=!0)},p:R,i(u){s||(b(r.$$.fragment,u),s=!0)},o(u){$(r.$$.fragment,u),s=!1},d(u){u&&m(e),j(r),i=!1,a()}}}function nl(o){let e,r,l,t,n,s,i;const a=[sl,rl],u=[];function c(v,g){return v[2]?v[2]?1:-1:0}~(e=c(o))&&(r=u[e]=a[e](o));const E=[il,ol],h=[];function N(v,g){return v[3]?v[3]?1:-1:0}return~(t=N(o))&&(n=h[t]=E[t](o)),{c(){r&&r.c(),l=T(),n&&n.c(),s=qe()},l(v){r&&r.l(v),l=y(v),n&&n.l(v),s=qe()},m(v,g){~e&&u[e].m(v,g),A(v,l,g),~t&&h[t].m(v,g),A(v,s,g),i=!0},p(v,g){let U=e;e=c(v),e===U?~e&&u[e].p(v,g):(r&&(Me(),$(u[U],1,1,()=>{u[U]=null}),Oe()),~e?(r=u[e],r?r.p(v,g):(r=u[e]=a[e](v),r.c()),b(r,1),r.m(l.parentNode,l)):r=null);let S=t;t=N(v),t===S?~t&&h[t].p(v,g):(n&&(Me(),$(h[S],1,1,()=>{h[S]=null}),Oe()),~t?(n=h[t],n?n.p(v,g):(n=h[t]=E[t](v),n.c()),b(n,1),n.m(s.parentNode,s)):n=null)},i(v){i||(b(r),b(n),i=!0)},o(v){$(r),$(n),i=!1},d(v){v&&(m(l),m(s)),~e&&u[e].d(v),~t&&h[t].d(v)}}}function rl(o){let e,r,l,t,n="unblock user",s,i,a;return r=new Kt({props:{size:"16",color:"var(--freq-color-text-muted)"}}),{c(){e=_("button"),M(r.$$.fragment),l=T(),t=_("span"),t.textContent=n,this.h()},l(u){e=p(u,"BUTTON",{class:!0});var c=P(e);O(r.$$.fragment,c),l=y(c),t=p(c,"SPAN",{class:!0,"data-svelte-h":!0}),X(t)!=="svelte-hwt3nh"&&(t.textContent=n),c.forEach(m),this.h()},h(){f(t,"class","descriptor"),f(e,"class","popover-item")},m(u,c){A(u,e,c),B(r,e,null),d(e,l),d(e,t),s=!0,i||(a=ne(e,"click",Ue(o[22])),i=!0)},p:R,i(u){s||(b(r.$$.fragment,u),s=!0)},o(u){$(r.$$.fragment,u),s=!1},d(u){u&&m(e),j(r),i=!1,a()}}}function sl(o){let e,r,l,t,n="block user",s,i,a;return r=new Yt({props:{size:"16",color:"var(--freq-color-text-muted)"}}),{c(){e=_("button"),M(r.$$.fragment),l=T(),t=_("span"),t.textContent=n,this.h()},l(u){e=p(u,"BUTTON",{class:!0});var c=P(e);O(r.$$.fragment,c),l=y(c),t=p(c,"SPAN",{class:!0,"data-svelte-h":!0}),X(t)!=="svelte-zaapiu"&&(t.textContent=n),c.forEach(m),this.h()},h(){f(t,"class","descriptor"),f(e,"class","popover-item")},m(u,c){A(u,e,c),B(r,e,null),d(e,l),d(e,t),s=!0,i||(a=ne(e,"click",Ue(o[21])),i=!0)},p:R,i(u){s||(b(r.$$.fragment,u),s=!0)},o(u){$(r.$$.fragment,u),s=!1},d(u){u&&m(e),j(r),i=!1,a()}}}function ol(o){let e,r,l,t,n="user reported",s,i,a;return r=new nt({props:{size:"16",color:"var(--freq-color-text-muted)"}}),{c(){e=_("button"),M(r.$$.fragment),l=T(),t=_("span"),t.textContent=n,this.h()},l(u){e=p(u,"BUTTON",{class:!0});var c=P(e);O(r.$$.fragment,c),l=y(c),t=p(c,"SPAN",{class:!0,"data-svelte-h":!0}),X(t)!=="svelte-pcrjmo"&&(t.textContent=n),c.forEach(m),this.h()},h(){f(t,"class","descriptor"),f(e,"class","popover-item"),e.disabled=!0},m(u,c){A(u,e,c),B(r,e,null),d(e,l),d(e,t),s=!0,i||(a=ne(e,"click",Ue(o[24])),i=!0)},p:R,i(u){s||(b(r.$$.fragment,u),s=!0)},o(u){$(r.$$.fragment,u),s=!1},d(u){u&&m(e),j(r),i=!1,a()}}}function il(o){let e,r,l,t,n="report user",s,i,a;return r=new nt({props:{size:"16",color:"var(--freq-color-text-muted)"}}),{c(){e=_("button"),M(r.$$.fragment),l=T(),t=_("span"),t.textContent=n,this.h()},l(u){e=p(u,"BUTTON",{class:!0});var c=P(e);O(r.$$.fragment,c),l=y(c),t=p(c,"SPAN",{class:!0,"data-svelte-h":!0}),X(t)!=="svelte-1bambbl"&&(t.textContent=n),c.forEach(m),this.h()},h(){f(t,"class","descriptor"),f(e,"class","popover-item")},m(u,c){A(u,e,c),B(r,e,null),d(e,l),d(e,t),s=!0,i||(a=ne(e,"click",Ue(o[23])),i=!0)},p:R,i(u){s||(b(r.$$.fragment,u),s=!0)},o(u){$(r.$$.fragment,u),s=!1},d(u){u&&m(e),j(r),i=!1,a()}}}function al(o){let e,r,l,t;const n=[nl,ll,tl],s=[];function i(a,u){return a[0]=="profileMenu"?0:(a[0]="postMenu")?1:a[0]=="sessionUserPostMenu"?2:-1}return~(e=i(o))&&(r=s[e]=n[e](o)),{c(){r&&r.c(),l=qe()},l(a){r&&r.l(a),l=qe()},m(a,u){~e&&s[e].m(a,u),A(a,l,u),t=!0},p(a,u){let c=e;e=i(a),e===c?~e&&s[e].p(a,u):(r&&(Me(),$(s[c],1,1,()=>{s[c]=null}),Oe()),~e?(r=s[e],r?r.p(a,u):(r=s[e]=n[e](a),r.c()),b(r,1),r.m(l.parentNode,l)):r=null)},i(a){t||(b(r),t=!0)},o(a){$(r),t=!1},d(a){a&&m(l),~e&&s[e].d(a)}}}function ul(o){let e,r,l,t;return e=new St({props:{$$slots:{default:[el]},$$scope:{ctx:o}}}),l=new It({props:{transition:Tt,$$slots:{default:[al]},$$scope:{ctx:o}}}),{c(){M(e.$$.fragment),r=T(),M(l.$$.fragment)},l(n){O(e.$$.fragment,n),r=y(n),O(l.$$.fragment,n)},m(n,s){B(e,n,s),A(n,r,s),B(l,n,s),t=!0},p(n,s){const i={};s&1073741824&&(i.$$scope={dirty:s,ctx:n}),e.$set(i);const a={};s&1073741837&&(a.$$scope={dirty:s,ctx:n}),l.$set(a)},i(n){t||(b(e.$$.fragment,n),b(l.$$.fragment,n),t=!0)},o(n){$(e.$$.fragment,n),$(l.$$.fragment,n),t=!1},d(n){n&&m(r),j(e,n),j(l,n)}}}function fl(o){let e,r,l,t="close",n,s;return{c(){e=te(`Something went wrong
        `),r=_("div"),l=_("button"),l.textContent=t,this.h()},l(i){e=le(i,`Something went wrong
        `),r=p(i,"DIV",{class:!0});var a=P(r);l=p(a,"BUTTON",{"aria-label":!0,formmethod:!0,class:!0,"data-svelte-h":!0}),X(l)!=="svelte-f8e6nc"&&(l.textContent=t),a.forEach(m),this.h()},h(){f(l,"aria-label","close modal"),f(l,"formmethod","dialog"),f(l,"class","svelte-17rjaxj"),f(r,"class","dialog-options svelte-17rjaxj")},m(i,a){A(i,e,a),A(i,r,a),d(r,l),n||(s=ne(l,"click",o[17]),n=!0)},p:R,d(i){i&&(m(e),m(r)),n=!1,s()}}}function cl(o){let e,r,l,t="close",n,s;return{c(){e=te(`Successful submission
        `),r=_("div"),l=_("button"),l.textContent=t,this.h()},l(i){e=le(i,`Successful submission
        `),r=p(i,"DIV",{class:!0});var a=P(r);l=p(a,"BUTTON",{"aria-label":!0,formmethod:!0,class:!0,"data-svelte-h":!0}),X(l)!=="svelte-f8e6nc"&&(l.textContent=t),a.forEach(m),this.h()},h(){f(l,"aria-label","close modal"),f(l,"formmethod","dialog"),f(l,"class","svelte-17rjaxj"),f(r,"class","dialog-options svelte-17rjaxj")},m(i,a){A(i,e,a),A(i,r,a),d(r,l),n||(s=ne(l,"click",o[17]),n=!0)},p:R,d(i){i&&(m(e),m(r)),n=!1,s()}}}function dl(o){let e,r=o[10][o[9]]+"",l,t,n=o[11][o[9]]+"",s,i,a,u,c="cancel",E,h,N=o[12][o[9]]+"",v,g,U,S;return{c(){e=_("h2"),l=te(r),t=T(),s=te(n),i=T(),a=_("div"),u=_("button"),u.textContent=c,E=T(),h=_("button"),v=te(N),this.h()},l(C){e=p(C,"H2",{});var I=P(e);l=le(I,r),I.forEach(m),t=y(C),s=le(C,n),i=y(C),a=p(C,"DIV",{class:!0});var k=P(a);u=p(k,"BUTTON",{"aria-label":!0,formmethod:!0,class:!0,"data-svelte-h":!0}),X(u)!=="svelte-gp2y5i"&&(u.textContent=c),E=y(k),h=p(k,"BUTTON",{"aria-label":!0,type:!0,formaction:!0,class:!0});var z=P(h);v=le(z,N),z.forEach(m),k.forEach(m),this.h()},h(){f(u,"aria-label","close modal"),f(u,"formmethod","dialog"),f(u,"class","svelte-17rjaxj"),f(h,"aria-label","submit"),f(h,"type","submit"),f(h,"formaction",g=o[14][o[9]]),f(h,"class","svelte-17rjaxj"),f(a,"class","dialog-options svelte-17rjaxj")},m(C,I){A(C,e,I),d(e,l),A(C,t,I),A(C,s,I),A(C,i,I),A(C,a,I),d(a,u),d(a,E),d(a,h),d(h,v),U||(S=ne(u,"click",o[17]),U=!0)},p(C,I){I&512&&r!==(r=C[10][C[9]]+"")&&Ie(l,r),I&512&&n!==(n=C[11][C[9]]+"")&&Ie(s,n),I&512&&N!==(N=C[12][C[9]]+"")&&Ie(v,N),I&512&&g!==(g=C[14][C[9]])&&f(h,"formaction",g)},d(C){C&&(m(e),m(t),m(s),m(i),m(a)),U=!1,S()}}}function ml(o){let e,r,l,t,n,s,i,a,u,c,E,h,N,v;function g(k){o[27](k)}let U={closeOnEscape:!0,closeOnOutsideClick:!0,$$slots:{default:[ul]},$$scope:{ctx:o}};o[8]!==void 0&&(U.open=o[8]),e=new Et({props:U}),Je.push(()=>lt(e,"open",g));function S(k,z){if(k[5]==null)return dl;if(k[5]==!0)return cl;if(k[5]==!1)return fl}let C=S(o),I=C&&C(o);return{c(){M(e.$$.fragment),l=T(),t=_("dialog"),n=_("form"),s=_("input"),i=T(),a=_("input"),u=T(),I&&I.c(),this.h()},l(k){O(e.$$.fragment,k),l=y(k),t=p(k,"DIALOG",{"aria-label":!0,class:!0});var z=P(t);n=p(z,"FORM",{method:!0,id:!0,action:!0});var L=P(n);s=p(L,"INPUT",{type:!0,id:!0,name:!0}),i=y(L),a=p(L,"INPUT",{type:!0,id:!0,name:!0}),u=y(L),I&&I.l(L),L.forEach(m),z.forEach(m),this.h()},h(){f(s,"type","hidden"),f(s,"id","profile-user-id"),f(s,"name","profile-user-id"),s.value=o[1],f(a,"type","hidden"),f(a,"id","post-id"),f(a,"name","post-id"),a.value=o[4],f(n,"method","POST"),f(n,"id",c=o[13][o[9]]),f(n,"action",E=o[14][o[9]]),f(t,"aria-label","modal"),f(t,"class","svelte-17rjaxj")},m(k,z){B(e,k,z),A(k,l,z),A(k,t,z),d(t,n),d(n,s),d(n,i),d(n,a),d(n,u),I&&I.m(n,null),o[28](t),h=!0,N||(v=[ne(window,"keydown",o[20]),kt(Ct.call(null,n)),ne(t,"close",o[29])],N=!0)},p(k,[z]){const L={};z&1073741837&&(L.$$scope={dirty:z,ctx:k}),!r&&z&256&&(r=!0,L.open=k[8],tt(()=>r=!1)),e.$set(L),(!h||z&2)&&(s.value=k[1]),(!h||z&16)&&(a.value=k[4]),C===(C=S(k))&&I?I.p(k,z):(I&&I.d(1),I=C&&C(k),I&&(I.c(),I.m(n,null))),(!h||z&512&&c!==(c=k[13][k[9]]))&&f(n,"id",c),(!h||z&512&&E!==(E=k[14][k[9]]))&&f(n,"action",E)},i(k){h||(b(e.$$.fragment,k),h=!0)},o(k){$(e.$$.fragment,k),h=!1},d(k){k&&(m(l),m(t)),j(e,k),I&&I.d(),o[28](null),N=!1,bt(v)}}}function _l(o,e,r){let{editState:l=!1}=e,{mode:t}=e,{profileUserId:n=null}=e,{blocked:s=!1}=e,{flagged:i=!1}=e,{postId:a=null}=e,{success:u=null}=e,c,E=!1,h;const N={blockUser:"Block uesr?",deletePost:"Delete post?",flagPost:"Flag post?",reportUser:"Report user?",unblockUser:"Unblock user?"},v={blockUser:"This user will no longer be able to see or interact with your profile data, posts, or private collections. They will be able to see your public and open collections.",deletePost:"This post will be permanently removed.",flagPost:"This will notify site admins that something about this post is fishy.",reportUser:"This will notify site admins that something about this user is fishy.",unblockUser:"This grants this user the same permission to see your activity that everyone else has."},g={blockUser:"block",deletePost:"delete",flagPost:"flag",reportUser:"report",unblockUser:"unblock"},U={blockUser:"block",deletePost:"delete",flagPost:"flagPost",reportUser:"flag",unblockUser:"unblock"},S={blockUser:"?/blockUser",deletePost:"?/deletePost",flagPost:"?/flagPost",reportUser:"?/reportUser",unblockUser:"?/blockUser"};let C;function I(){r(19,l=!l),r(8,c=!c)}function k(D){r(8,c=!c),r(9,C=D),r(6,E=!0)}function z(){r(6,E=!1)}wt(()=>{h.addEventListener("click",D=>{const be=h.getBoundingClientRect();(D.clientX<be.left||D.clientX>be.right||D.clientY<be.top||D.clientY>be.bottom)&&h.close()})});const L=Nt(),pe=D=>{D.key==="Escape"&&L(h.close())},Ve=()=>k("blockUser"),Y=()=>k("unblockUser"),x=()=>k("reportUser"),he=()=>k("reportUser"),Re=()=>k("flagPost"),Pe=()=>k("deletePost");function Be(D){c=D,r(8,c)}function Fe(D){Je[D?"unshift":"push"](()=>{h=D,r(7,h)})}const Te=()=>r(6,E=!1);return o.$$set=D=>{"editState"in D&&r(19,l=D.editState),"mode"in D&&r(0,t=D.mode),"profileUserId"in D&&r(1,n=D.profileUserId),"blocked"in D&&r(2,s=D.blocked),"flagged"in D&&r(3,i=D.flagged),"postId"in D&&r(4,a=D.postId),"success"in D&&r(5,u=D.success)},o.$$.update=()=>{o.$$.dirty&192&&h&&E==!0&&h.showModal(),o.$$.dirty&192&&h&&!E&&h.close()},[t,n,s,i,a,u,E,h,c,C,N,v,g,U,S,I,k,z,L,l,pe,Ve,Y,x,he,Re,Pe,Be,Fe,Te]}class $t extends Q{constructor(e){super(),W(this,e,_l,ml,K,{editState:19,mode:0,profileUserId:1,blocked:2,flagged:3,postId:4,success:5})}}function pl(o){let e,r,l,t,n,s,i,a,u="cancel",c,E,h="submit edit",N,v;return{c(){e=_("form"),r=_("input"),l=T(),t=_("textarea"),s=T(),i=_("div"),a=_("button"),a.textContent=u,c=T(),E=_("button"),E.textContent=h,this.h()},l(g){e=p(g,"FORM",{name:!0,class:!0,action:!0});var U=P(e);r=p(U,"INPUT",{id:!0,name:!0,type:!0}),l=y(U),t=p(U,"TEXTAREA",{cols:!0,rows:!0,id:!0,name:!0,spellcheck:!0}),P(t).forEach(m),s=y(U),i=p(U,"DIV",{class:!0});var S=P(i);a=p(S,"BUTTON",{class:!0,"data-svelte-h":!0}),X(a)!=="svelte-1aodm5e"&&(a.textContent=u),c=y(S),E=p(S,"BUTTON",{class:!0,formaction:!0,"data-svelte-h":!0}),X(E)!=="svelte-nvbt7d"&&(E.textContent=h),S.forEach(m),U.forEach(m),this.h()},h(){f(r,"id","post-data"),f(r,"name","post-data"),f(r,"type","hidden"),r.value=o[0],f(t,"cols","1"),f(t,"rows","4"),f(t,"id","edited-text"),f(t,"name","edited-text"),f(t,"spellcheck","true"),t.required=!0,t.value=n=o[0].text,f(a,"class","standard"),f(E,"class","standard"),f(E,"formaction","?/editPost"),f(i,"class","edit-submit-options svelte-1hf0syz"),f(e,"name","editPostText"),f(e,"class","vertical"),f(e,"action","?/editPost")},m(g,U){A(g,e,U),d(e,r),d(e,l),d(e,t),d(e,s),d(e,i),d(i,a),d(i,c),d(i,E),N||(v=ne(a,"click",Ue(o[1])),N=!0)},p(g,[U]){U&1&&(r.value=g[0]),U&1&&n!==(n=g[0].text)&&(t.value=n)},i:R,o:R,d(g){g&&m(e),N=!1,v()}}}function hl(o,e,r){let{postData:l}=e,{editState:t=!1}=e;function n(){r(2,t=!t)}return o.$$set=s=>{"postData"in s&&r(0,l=s.postData),"editState"in s&&r(2,t=s.editState)},[l,n,t]}class gl extends Q{constructor(e){super(),W(this,e,hl,pl,K,{postData:0,editState:2})}}function bl(o){let e;const r=o[2].default,l=ae(r,o,o[3],null);return{c(){l&&l.c()},l(t){l&&l.l(t)},m(t,n){l&&l.m(t,n),e=!0},p(t,n){l&&l.p&&(!e||n&8)&&ue(l,r,t,t[3],e?ce(r,t[3],n,null):fe(t[3]),null)},i(t){e||(b(l,t),e=!0)},o(t){$(l,t),e=!1},d(t){l&&l.d(t)}}}function $l(o){let e,r;const l=[{name:"heart"},o[1],{iconNode:o[0]}];let t={$$slots:{default:[bl]},$$scope:{ctx:o}};for(let n=0;n<l.length;n+=1)t=q(t,l[n]);return e=new _e({props:t}),{c(){M(e.$$.fragment)},l(n){O(e.$$.fragment,n)},m(n,s){B(e,n,s),r=!0},p(n,[s]){const i=s&3?de(l,[l[0],s&2&&me(n[1]),s&1&&{iconNode:n[0]}]):{};s&8&&(i.$$scope={dirty:s,ctx:n}),e.$set(i)},i(n){r||(b(e.$$.fragment,n),r=!0)},o(n){$(e.$$.fragment,n),r=!1},d(n){j(e,n)}}}function vl(o,e,r){let{$$slots:l={},$$scope:t}=e;const n=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z"}]];return o.$$set=s=>{r(1,e=q(q({},e),H(s))),"$$scope"in s&&r(3,t=s.$$scope)},e=H(e),[n,e,l,t]}class vt extends Q{constructor(e){super(),W(this,e,vl,$l,K,{})}}function kl(o){let e,r;return e=new vt({props:{class:"icon",size:"16",color:"var(--freq-color-text-muted)",fill:"var(--freq-color-text-muted)"}}),{c(){M(e.$$.fragment)},l(l){O(e.$$.fragment,l)},m(l,t){B(e,l,t),r=!0},i(l){r||(b(e.$$.fragment,l),r=!0)},o(l){$(e.$$.fragment,l),r=!1},d(l){j(e,l)}}}function wl(o){let e,r;return e=new vt({props:{class:"icon",size:"16",color:"var(--freq-color-text-muted)"}}),{c(){M(e.$$.fragment)},l(l){O(e.$$.fragment,l)},m(l,t){B(e,l,t),r=!0},i(l){r||(b(e.$$.fragment,l),r=!0)},o(l){$(e.$$.fragment,l),r=!1},d(l){j(e,l)}}}function Nl(o){let e,r,l,t,n,s,i,a,u,c,E,h="like",N;const v=[wl,kl],g=[];function U(S,C){return S[1]?1:0}return a=U(o),u=g[a]=v[a](o),{c(){e=_("form"),r=_("input"),l=T(),t=_("input"),n=T(),s=_("button"),i=_("div"),u.c(),c=T(),E=_("span"),E.textContent=h,this.h()},l(S){e=p(S,"FORM",{method:!0,action:!0});var C=P(e);r=p(C,"INPUT",{type:!0,name:!0,id:!0}),l=y(C),t=p(C,"INPUT",{type:!0,name:!0,id:!0}),n=y(C),s=p(C,"BUTTON",{class:!0,formaction:!0});var I=P(s);i=p(I,"DIV",{class:!0});var k=P(i);u.l(k),c=y(k),E=p(k,"SPAN",{class:!0,"data-svelte-h":!0}),X(E)!=="svelte-1863h6x"&&(E.textContent=h),k.forEach(m),I.forEach(m),C.forEach(m),this.h()},h(){f(r,"type","hidden"),f(r,"name","post-id"),f(r,"id","post-id"),r.value=o[0],f(t,"type","hidden"),f(t,"name","reaction-type"),f(t,"id","reaction-type"),t.value="like",f(E,"class","descriptor"),f(i,"class","row-group-icon-description"),f(s,"class","like"),f(s,"formaction","?/submitReaction"),f(e,"method","POST"),f(e,"action","?/submitReaction")},m(S,C){A(S,e,C),d(e,r),d(e,l),d(e,t),d(e,n),d(e,s),d(s,i),g[a].m(i,null),d(i,c),d(i,E),N=!0},p(S,[C]){(!N||C&1)&&(r.value=S[0]);let I=a;a=U(S),a!==I&&(Me(),$(g[I],1,1,()=>{g[I]=null}),Oe(),u=g[a],u||(u=g[a]=v[a](S),u.c()),b(u,1),u.m(i,c))},i(S){N||(b(u),N=!0)},o(S){$(u),N=!1},d(S){S&&m(e),g[a].d()}}}function Cl(o,e,r){let{postId:l}=e,{reactionActive:t}=e;return o.$$set=n=>{"postId"in n&&r(0,l=n.postId),"reactionActive"in n&&r(1,t=n.reactionActive)},[l,t]}class El extends Q{constructor(e){super(),W(this,e,Cl,Nl,K,{postId:0,reactionActive:1})}}function Sl(o){let e;const r=o[2].default,l=ae(r,o,o[3],null);return{c(){l&&l.c()},l(t){l&&l.l(t)},m(t,n){l&&l.m(t,n),e=!0},p(t,n){l&&l.p&&(!e||n&8)&&ue(l,r,t,t[3],e?ce(r,t[3],n,null):fe(t[3]),null)},i(t){e||(b(l,t),e=!0)},o(t){$(l,t),e=!1},d(t){l&&l.d(t)}}}function Il(o){let e,r;const l=[{name:"reply"},o[1],{iconNode:o[0]}];let t={$$slots:{default:[Sl]},$$scope:{ctx:o}};for(let n=0;n<l.length;n+=1)t=q(t,l[n]);return e=new _e({props:t}),{c(){M(e.$$.fragment)},l(n){O(e.$$.fragment,n)},m(n,s){B(e,n,s),r=!0},p(n,[s]){const i=s&3?de(l,[l[0],s&2&&me(n[1]),s&1&&{iconNode:n[0]}]):{};s&8&&(i.$$scope={dirty:s,ctx:n}),e.$set(i)},i(n){r||(b(e.$$.fragment,n),r=!0)},o(n){$(e.$$.fragment,n),r=!1},d(n){j(e,n)}}}function Ul(o,e,r){let{$$slots:l={},$$scope:t}=e;const n=[["polyline",{points:"9 17 4 12 9 7"}],["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4"}]];return o.$$set=s=>{r(1,e=q(q({},e),H(s))),"$$scope"in s&&r(3,t=s.$$scope)},e=H(e),[n,e,l,t]}class Pl extends Q{constructor(e){super(),W(this,e,Ul,Il,K,{})}}function Tl(o){let e;const r=o[2].default,l=ae(r,o,o[3],null);return{c(){l&&l.c()},l(t){l&&l.l(t)},m(t,n){l&&l.m(t,n),e=!0},p(t,n){l&&l.p&&(!e||n&8)&&ue(l,r,t,t[3],e?ce(r,t[3],n,null):fe(t[3]),null)},i(t){e||(b(l,t),e=!0)},o(t){$(l,t),e=!1},d(t){l&&l.d(t)}}}function yl(o){let e,r;const l=[{name:"link-2"},o[1],{iconNode:o[0]}];let t={$$slots:{default:[Tl]},$$scope:{ctx:o}};for(let n=0;n<l.length;n+=1)t=q(t,l[n]);return e=new _e({props:t}),{c(){M(e.$$.fragment)},l(n){O(e.$$.fragment,n)},m(n,s){B(e,n,s),r=!0},p(n,[s]){const i=s&3?de(l,[l[0],s&2&&me(n[1]),s&1&&{iconNode:n[0]}]):{};s&8&&(i.$$scope={dirty:s,ctx:n}),e.$set(i)},i(n){r||(b(e.$$.fragment,n),r=!0)},o(n){$(e.$$.fragment,n),r=!1},d(n){j(e,n)}}}function Al(o,e,r){let{$$slots:l={},$$scope:t}=e;const n=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12"}]];return o.$$set=s=>{r(1,e=q(q({},e),H(s))),"$$scope"in s&&r(3,t=s.$$scope)},e=H(e),[n,e,l,t]}class Dl extends Q{constructor(e){super(),W(this,e,Al,yl,K,{})}}function Ml(o){let e;const r=o[2].default,l=ae(r,o,o[3],null);return{c(){l&&l.c()},l(t){l&&l.l(t)},m(t,n){l&&l.m(t,n),e=!0},p(t,n){l&&l.p&&(!e||n&8)&&ue(l,r,t,t[3],e?ce(r,t[3],n,null):fe(t[3]),null)},i(t){e||(b(l,t),e=!0)},o(t){$(l,t),e=!1},d(t){l&&l.d(t)}}}function Ol(o){let e,r;const l=[{name:"music"},o[1],{iconNode:o[0]}];let t={$$slots:{default:[Ml]},$$scope:{ctx:o}};for(let n=0;n<l.length;n+=1)t=q(t,l[n]);return e=new _e({props:t}),{c(){M(e.$$.fragment)},l(n){O(e.$$.fragment,n)},m(n,s){B(e,n,s),r=!0},p(n,[s]){const i=s&3?de(l,[l[0],s&2&&me(n[1]),s&1&&{iconNode:n[0]}]):{};s&8&&(i.$$scope={dirty:s,ctx:n}),e.$set(i)},i(n){r||(b(e.$$.fragment,n),r=!0)},o(n){$(e.$$.fragment,n),r=!1},d(n){j(e,n)}}}function Bl(o,e,r){let{$$slots:l={},$$scope:t}=e;const n=[["path",{d:"M9 18V5l12-2v13"}],["circle",{cx:"6",cy:"18",r:"3"}],["circle",{cx:"18",cy:"16",r:"3"}]];return o.$$set=s=>{r(1,e=q(q({},e),H(s))),"$$scope"in s&&r(3,t=s.$$scope)},e=H(e),[n,e,l,t]}class pt extends Q{constructor(e){super(),W(this,e,Bl,Ol,K,{})}}function jl(o){let e,r;return{c(){e=_("iframe"),this.h()},l(l){e=p(l,"IFRAME",{width:!0,height:!0,src:!0,frameborder:!0,title:!0}),P(e).forEach(m),this.h()},h(){f(e,"width","100%"),f(e,"height","120"),ze(e.src,r="https://player-widget.mixcloud.com/widget/iframe/?hide_cover=1&feed="+o[1])||f(e,"src",r),f(e,"frameborder","0"),f(e,"title","Mixcloud player")},m(l,t){A(l,e,t)},p:R,d(l){l&&m(e)}}}function ql(o){let e,r;return{c(){e=_("iframe"),this.h()},l(l){e=p(l,"IFRAME",{width:!0,height:!0,src:!0,title:!0,frameborder:!0,allow:!0,referrerpolicy:!0}),P(e).forEach(m),this.h()},h(){f(e,"width","560"),f(e,"height","315"),ze(e.src,r="https://www.youtube.com/embed/"+o[1])||f(e,"src",r),f(e,"title","YouTube video player"),f(e,"frameborder","0"),f(e,"allow","accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"),f(e,"referrerpolicy","strict-origin-when-cross-origin"),e.allowFullscreen=!0},m(l,t){A(l,e,t)},p:R,d(l){l&&m(e)}}}function zl(o){let e,r;return{c(){e=_("iframe"),this.h()},l(l){e=p(l,"IFRAME",{width:!0,height:!0,scrolling:!0,frameborder:!0,allow:!0,src:!0,title:!0}),P(e).forEach(m),this.h()},h(){f(e,"width","100%"),f(e,"height","166"),f(e,"scrolling","no"),f(e,"frameborder","no"),f(e,"allow","autoplay"),ze(e.src,r="https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/"+o[1]+"&color=%23ff5500&auto_play=false&hide_related=false&show_comments=true&show_user=true&show_reposts=false&show_teaser=true")||f(e,"src",r),f(e,"title","Soundcloud player")},m(l,t){A(l,e,t)},p:R,d(l){l&&m(e)}}}function Vl(o){let e,r,l,t,n,s;return{c(){e=_("iframe"),r=_("a"),l=te(o[3]),t=te(" by "),n=te(o[4]),this.h()},l(i){e=p(i,"IFRAME",{style:!0,src:!0,title:!0,seamless:!0});var a=P(e);r=p(a,"A",{href:!0});var u=P(r);l=le(u,o[3]),t=le(u," by "),n=le(u,o[4]),u.forEach(m),a.forEach(m),this.h()},h(){f(r,"href",o[0]),et(e,"border","0"),et(e,"width","100%"),et(e,"height","42px"),ze(e.src,s="https://bandcamp.com/EmbeddedPlayer/"+o[1]+"/size=small/bgcol=333333/linkcol=ffffff/transparent=true/")||f(e,"src",s),f(e,"title","Bandcamp player"),f(e,"seamless","")},m(i,a){A(i,e,a),d(e,r),d(r,l),d(r,t),d(r,n)},p:R,d(i){i&&m(e)}}}function Rl(o){let e;function r(n,s){if(n[2]=="bandcamp")return Vl;if(n[2]=="soundcloud")return zl;if(n[2]=="youtube")return ql;if(n[2]=="mixcloud")return jl}let l=r(o),t=l&&l(o);return{c(){t&&t.c(),e=qe()},l(n){t&&t.l(n),e=qe()},m(n,s){t&&t.m(n,s),A(n,e,s)},p(n,[s]){t&&t.p(n,s)},i:R,o:R,d(n){n&&m(e),t&&t.d(n)}}}function Fl(o,e,r){let{embedInfo:l}=e;const t=l.url,n=l.id,s=l.source,i=l.title,a=l.artist;return o.$$set=u=>{"embedInfo"in u&&r(5,l=u.embedInfo)},[t,n,s,i,a,l]}class Hl extends Q{constructor(e){super(),W(this,e,Fl,Rl,K,{embedInfo:5})}}function ht(o){let e,r="edited";return{c(){e=_("span"),e.textContent=r,this.h()},l(l){e=p(l,"SPAN",{class:!0,"data-svelte-h":!0}),X(e)!=="svelte-8r9s0c"&&(e.textContent=r),this.h()},h(){f(e,"class","status-badge")},m(l,t){A(l,e,t)},d(l){l&&m(e)}}}function Ll(o){let e,r,l;function t(s){o[8](s)}let n={postData:o[2]};return o[0]!==void 0&&(n.editState=o[0]),e=new gl({props:n}),Je.push(()=>lt(e,"editState",t)),{c(){M(e.$$.fragment)},l(s){O(e.$$.fragment,s)},m(s,i){B(e,s,i),l=!0},p(s,i){const a={};i&4&&(a.postData=s[2]),!r&&i&1&&(r=!0,a.editState=s[0],tt(()=>r=!1)),e.$set(a)},i(s){l||(b(e.$$.fragment,s),l=!0)},o(s){$(e.$$.fragment,s),l=!1},d(s){j(e,s)}}}function Xl(o){let e,r=o[2].text+"",l;return{c(){e=_("p"),l=te(r),this.h()},l(t){e=p(t,"P",{class:!0});var n=P(e);l=le(n,r),n.forEach(m),this.h()},h(){f(e,"class","post-text")},m(t,n){A(t,e,n),d(e,l)},p(t,n){n&4&&r!==(r=t[2].text+"")&&Ie(l,r)},i:R,o:R,d(t){t&&m(e)}}}function Yl(o){let e,r="edit failed";return{c(){e=_("p"),e.textContent=r},l(l){e=p(l,"P",{"data-svelte-h":!0}),X(e)!=="svelte-132trq5"&&(e.textContent=r)},m(l,t){A(l,e,t)},d(l){l&&m(e)}}}function Gl(o){let e,r="edited!";return{c(){e=_("p"),e.textContent=r},l(l){e=p(l,"P",{"data-svelte-h":!0}),X(e)!=="svelte-131au2c"&&(e.textContent=r)},m(l,t){A(l,e,t)},d(l){l&&m(e)}}}function gt(o){let e,r,l,t,n="reply",s;return r=new Pl({props:{size:"16",color:"var(--freq-color-text-muted)"}}),{c(){e=_("a"),M(r.$$.fragment),l=T(),t=_("span"),t.textContent=n,this.h()},l(i){e=p(i,"A",{href:!0});var a=P(e);O(r.$$.fragment,a),l=y(a),t=p(a,"SPAN",{class:!0,"data-svelte-h":!0}),X(t)!=="svelte-icuw6m"&&(t.textContent=n),a.forEach(m),this.h()},h(){f(t,"class","descriptor"),f(e,"href",o[6])},m(i,a){A(i,e,a),B(r,e,null),d(e,l),d(e,t),s=!0},p:R,i(i){s||(b(r.$$.fragment,i),s=!0)},o(i){$(r.$$.fragment,i),s=!1},d(i){i&&m(e),j(r)}}}function Zl(o){let e,r;return e=new $t({props:{mode:"postMenu"}}),{c(){M(e.$$.fragment)},l(l){O(e.$$.fragment,l)},m(l,t){B(e,l,t),r=!0},p:R,i(l){r||(b(e.$$.fragment,l),r=!0)},o(l){$(e.$$.fragment,l),r=!1},d(l){j(e,l)}}}function Jl(o){let e,r,l;function t(s){o[9](s)}let n={mode:"sessionUserPostMenu"};return o[0]!==void 0&&(n.editState=o[0]),e=new $t({props:n}),Je.push(()=>lt(e,"editState",t)),{c(){M(e.$$.fragment)},l(s){O(e.$$.fragment,s)},m(s,i){B(e,s,i),l=!0},p(s,i){const a={};!r&&i&1&&(r=!0,a.editState=s[0],tt(()=>r=!1)),e.$set(a)},i(s){l||(b(e.$$.fragment,s),l=!0)},o(s){$(e.$$.fragment,s),l=!1},d(s){j(e,s)}}}function Kl(o){let e,r,l,t,n,s,i,a,u,c,E,h=o[2].display_name+"",N,v,g,U,S,C=_t(o[2].created_at??o[2].feed_item_timestamp)+"",I,k,z,L,pe,Ve,Y,x,he,Re,Pe=o[2].artist_name+"",Be,Fe,Te=(o[2].recording_name??o[2].release_group_name??o[2].episode_title)+"",D,be,ye,Ke,re,se,He,Le,Ae,Qe,$e,ge,ve,We,xe,De,G,Z,oe;z=new Dl({props:{size:"15",color:"var(--freq-color-text-muted)"}});let J=o[2].status==="edited"&&ht();he=new pt({props:{size:"16",color:"var(--freq-color-text-medium-dark)"}}),ye=new pt({props:{size:"16",color:"var(--freq-color-text-medium-dark)"}});const rt=[Xl,Ll],ke=[];function st(w,V){return w[0]?1:0}re=st(o),se=ke[re]=rt[re](o);function ot(w,V){if(w[3]==!0)return Gl;if(w[3]==!1)return Yl}let je=ot(o),ee=je&&je(o);Ae=new Hl({props:{embedInfo:o[7]}}),ve=new El({props:{postId:o[2].id,reactionActive:o[4]??!1}});let F=o[5]=="feed"&&gt(o);const it=[Jl,Zl],we=[];function at(w,V){return w[2].user_id==w[1]?0:w[1]?1:-1}return~(G=at(o))&&(Z=we[G]=it[G](o)),{c(){e=_("div"),r=_("div"),l=_("div"),t=_("div"),n=_("img"),a=T(),u=_("div"),c=_("a"),E=_("span"),N=te(h),g=T(),U=_("a"),S=_("span"),I=te(C),k=T(),M(z.$$.fragment),L=T(),pe=_("div"),J&&J.c(),Ve=T(),Y=_("div"),x=_("span"),M(he.$$.fragment),Re=T(),Be=te(Pe),Fe=te(" • "),D=te(Te),be=T(),M(ye.$$.fragment),Ke=T(),se.c(),He=T(),ee&&ee.c(),Le=T(),M(Ae.$$.fragment),Qe=T(),$e=_("div"),ge=_("div"),M(ve.$$.fragment),We=T(),F&&F.c(),xe=T(),De=_("div"),Z&&Z.c(),this.h()},l(w){e=p(w,"DIV",{class:!0});var V=P(e);r=p(V,"DIV",{class:!0});var ie=P(r);l=p(ie,"DIV",{class:!0});var Ne=P(l);t=p(Ne,"DIV",{class:!0});var Ce=P(t);n=p(Ce,"IMG",{class:!0,src:!0,alt:!0}),a=y(Ce),u=p(Ce,"DIV",{class:!0});var Xe=P(u);c=p(Xe,"A",{href:!0});var ut=P(c);E=p(ut,"SPAN",{class:!0});var ft=P(E);N=le(ft,h),ft.forEach(m),ut.forEach(m),g=y(Xe),U=p(Xe,"A",{href:!0});var ct=P(U);S=p(ct,"SPAN",{class:!0,"aria-label":!0});var Ye=P(S);I=le(Ye,C),k=y(Ye),O(z.$$.fragment,Ye),Ye.forEach(m),ct.forEach(m),Xe.forEach(m),Ce.forEach(m),L=y(Ne),pe=p(Ne,"DIV",{class:!0});var dt=P(pe);J&&J.l(dt),dt.forEach(m),Ne.forEach(m),Ve=y(ie),Y=p(ie,"DIV",{class:!0});var Ee=P(Y);x=p(Ee,"SPAN",{class:!0});var Se=P(x);O(he.$$.fragment,Se),Re=y(Se),Be=le(Se,Pe),Fe=le(Se," • "),D=le(Se,Te),be=y(Se),O(ye.$$.fragment,Se),Se.forEach(m),Ke=y(Ee),se.l(Ee),He=y(Ee),ee&&ee.l(Ee),Le=y(Ee),O(Ae.$$.fragment,Ee),Ee.forEach(m),Qe=y(ie),$e=p(ie,"DIV",{class:!0});var Ge=P($e);ge=p(Ge,"DIV",{class:!0});var Ze=P(ge);O(ve.$$.fragment,Ze),We=y(Ze),F&&F.l(Ze),Ze.forEach(m),xe=y(Ge),De=p(Ge,"DIV",{class:!0});var mt=P(De);Z&&Z.l(mt),mt.forEach(m),Ge.forEach(m),ie.forEach(m),V.forEach(m),this.h()},h(){f(n,"class","avatar"),ze(n.src,s=o[2].avatar_url)||f(n,"src",s),f(n,"alt",i=`${o[2].display_name}'s avatar`),f(E,"class","display-name"),f(c,"href",v="/user/"+o[2].username),f(S,"class","date"),f(S,"aria-label","permalink"),f(U,"href",o[6]),f(u,"class","row-group-column"),f(t,"class","row-group-user-data"),f(pe,"class","row-group"),f(l,"class","post-row"),f(x,"class","now-playing-text"),f(Y,"class","post-body"),f(ge,"class","row-group-icons"),f(De,"class","row-group-icon-description"),f($e,"class","post-row"),f(r,"class","double-border svelte-oprcbh"),f(e,"class","box svelte-oprcbh")},m(w,V){A(w,e,V),d(e,r),d(r,l),d(l,t),d(t,n),d(t,a),d(t,u),d(u,c),d(c,E),d(E,N),d(u,g),d(u,U),d(U,S),d(S,I),d(S,k),B(z,S,null),d(l,L),d(l,pe),J&&J.m(pe,null),d(r,Ve),d(r,Y),d(Y,x),B(he,x,null),d(x,Re),d(x,Be),d(x,Fe),d(x,D),d(x,be),B(ye,x,null),d(Y,Ke),ke[re].m(Y,null),d(Y,He),ee&&ee.m(Y,null),d(Y,Le),B(Ae,Y,null),d(r,Qe),d(r,$e),d($e,ge),B(ve,ge,null),d(ge,We),F&&F.m(ge,null),d($e,xe),d($e,De),~G&&we[G].m(De,null),oe=!0},p(w,[V]){(!oe||V&4&&!ze(n.src,s=w[2].avatar_url))&&f(n,"src",s),(!oe||V&4&&i!==(i=`${w[2].display_name}'s avatar`))&&f(n,"alt",i),(!oe||V&4)&&h!==(h=w[2].display_name+"")&&Ie(N,h),(!oe||V&4&&v!==(v="/user/"+w[2].username))&&f(c,"href",v),(!oe||V&4)&&C!==(C=_t(w[2].created_at??w[2].feed_item_timestamp)+"")&&Ie(I,C),w[2].status==="edited"?J||(J=ht(),J.c(),J.m(pe,null)):J&&(J.d(1),J=null),(!oe||V&4)&&Pe!==(Pe=w[2].artist_name+"")&&Ie(Be,Pe),(!oe||V&4)&&Te!==(Te=(w[2].recording_name??w[2].release_group_name??w[2].episode_title)+"")&&Ie(D,Te);let ie=re;re=st(w),re===ie?ke[re].p(w,V):(Me(),$(ke[ie],1,1,()=>{ke[ie]=null}),Oe(),se=ke[re],se?se.p(w,V):(se=ke[re]=rt[re](w),se.c()),b(se,1),se.m(Y,He)),je!==(je=ot(w))&&(ee&&ee.d(1),ee=je&&je(w),ee&&(ee.c(),ee.m(Y,Le)));const Ne={};V&4&&(Ne.postId=w[2].id),V&16&&(Ne.reactionActive=w[4]??!1),ve.$set(Ne),w[5]=="feed"?F?(F.p(w,V),V&32&&b(F,1)):(F=gt(w),F.c(),b(F,1),F.m(ge,null)):F&&(Me(),$(F,1,1,()=>{F=null}),Oe());let Ce=G;G=at(w),G===Ce?~G&&we[G].p(w,V):(Z&&(Me(),$(we[Ce],1,1,()=>{we[Ce]=null}),Oe()),~G?(Z=we[G],Z?Z.p(w,V):(Z=we[G]=it[G](w),Z.c()),b(Z,1),Z.m(De,null)):Z=null)},i(w){oe||(b(z.$$.fragment,w),b(he.$$.fragment,w),b(ye.$$.fragment,w),b(se),b(Ae.$$.fragment,w),b(ve.$$.fragment,w),b(F),b(Z),oe=!0)},o(w){$(z.$$.fragment,w),$(he.$$.fragment,w),$(ye.$$.fragment,w),$(se),$(Ae.$$.fragment,w),$(ve.$$.fragment,w),$(F),$(Z),oe=!1},d(w){w&&m(e),j(z),J&&J.d(),j(he),j(ye),ke[re].d(),ee&&ee.d(),j(Ae),j(ve),F&&F.d(),~G&&we[G].d()}}}function Ql(o,e,r){let{sessionUserId:l=null}=e,{post:t}=e,{formData:n=null}=e,{reactionActive:s=null}=e,{editState:i=null}=e,{mode:a=null}=e;const u=`/posts/${t.username}/now-playing/${(t.created_at??t.feed_item_timestamp).toISOString()}`,c={id:t==null?void 0:t.embed_id,source:t==null?void 0:t.embed_source,title:(t==null?void 0:t.release_group_name)??(t==null?void 0:t.recording_name)??(t==null?void 0:t.episode_title),artist:t==null?void 0:t.artist_name,account:t==null?void 0:t.embed_account};function E(N){i=N,r(0,i)}function h(N){i=N,r(0,i)}return o.$$set=N=>{"sessionUserId"in N&&r(1,l=N.sessionUserId),"post"in N&&r(2,t=N.post),"formData"in N&&r(3,n=N.formData),"reactionActive"in N&&r(4,s=N.reactionActive),"editState"in N&&r(0,i=N.editState),"mode"in N&&r(5,a=N.mode)},o.$$.update=()=>{o.$$.dirty&1},[i,l,t,n,s,a,u,c,E,h]}class un extends Q{constructor(e){super(),W(this,e,Ql,Kl,K,{sessionUserId:1,post:2,formData:3,reactionActive:4,editState:0,mode:5})}}export{un as N,$t as U};
