import"./CWj6FrbW.js";import{J as Hr,G as tr,w as jr,aI as Yr,O as Vr,F as qr,x as Kr,U as Xr,au as Jr,$ as Qr,a1 as Q,p as wt,f as Z,b as Ot,c as B,r as z,n as dt,a as $r,u as en,s as Mt,g as L,t as Y,d as be,e as ut}from"./DKxP8oaF.js";import{s as me}from"./d8TzcK2t.js";import{l as rr,C as $e,w as nr}from"./mnVZ5n0Q.js";import{i as I}from"./XPA7DDzn.js";import{c as tn,e as Ft,i as ar}from"./Cpe_MceB.js";import{d as pe,a as m,t as F,b as Be}from"./DCT9fmD9.js";import{a as ir}from"./Pq-04fzQ.js";import{a as ct,c as ft,s as De}from"./DubPOQGL.js";import{d as rn,e as or}from"./o4T939ll.js";import{p as je}from"./DIWzF7VF.js";import{s as Er,r as Tr,p as Ye}from"./C6N4_jbr.js";import{c as nn,D as an,M as on,B as sn}from"./BpsuVaJI.js";import{s as wr}from"./BpB5Zjcp.js";import{I as Or}from"./bAKNv2QX.js";import{l as ln}from"./-Ocsa0V4.js";function sr(e,t,r){tr&&jr();var n=e,a=Xr,i,o=Yr;Hr(()=>{o(a,a=t())&&(i&&Vr(i),i=qr(()=>r(n)))}),tr&&(n=Kr)}const dn=()=>performance.now(),Le={tick:e=>requestAnimationFrame(e),now:()=>dn(),tasks:new Set};function Ar(){const e=Le.now();Le.tasks.forEach(t=>{t.c(e)||(Le.tasks.delete(t),t.f())}),Le.tasks.size!==0&&Le.tick(Ar)}function un(e){let t;return Le.tasks.size===0&&Le.tick(Ar),{promise:new Promise(r=>{Le.tasks.add(t={c:e,f:r})}),abort(){Le.tasks.delete(t)}}}function cn(e){if(e==="float")return"cssFloat";if(e==="offset")return"cssOffset";if(e.startsWith("--"))return e;const t=e.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(r=>r[0].toUpperCase()+r.slice(1)).join("")}function lr(e){const t={},r=e.split(";");for(const n of r){const[a,i]=n.split(":");if(!a||i===void 0)break;const o=cn(a.trim());t[o]=i.trim()}return t}const fn=e=>e;function vn(e,t,r){var n=tn,a,i,o,l=null;n.a??(n.a={element:e,measure(){a=this.element.getBoundingClientRect()},apply(){if(o==null||o.abort(),i=this.element.getBoundingClientRect(),a.left!==i.left||a.right!==i.right||a.top!==i.top||a.bottom!==i.bottom){const d=t()(this.element,{from:a,to:i},r==null?void 0:r());o=xr(this.element,d,void 0,1,()=>{o==null||o.abort(),o=void 0})}},fix(){if(!e.getAnimations().length){var{position:d,width:v,height:u}=getComputedStyle(e);if(d!=="absolute"&&d!=="fixed"){var g=e.style;l={position:g.position,width:g.width,height:g.height,transform:g.transform},g.position="absolute",g.width=v,g.height=u;var c=e.getBoundingClientRect();if(a.left!==c.left||a.top!==c.top){var f=`translate(${a.left-c.left}px, ${a.top-c.top}px)`;g.transform=g.transform?`${g.transform} ${f}`:f}}}},unfix(){if(l){var d=e.style;d.position=l.position,d.width=l.width,d.height=l.height,d.transform=l.transform}}}),n.a.element=e}function xr(e,t,r,n,a){if(Jr(t)){var i,o=!1;return Qr(()=>{if(!o){var b=t({direction:"in"});i=xr(e,b,r,n,a)}}),{abort:()=>{o=!0,i==null||i.abort()},deactivate:()=>i.deactivate(),reset:()=>i.reset(),t:()=>i.t()}}if(!(t!=null&&t.duration))return a(),{abort:Q,deactivate:Q,reset:Q,t:()=>n};const{delay:l=0,css:d,tick:v,easing:u=fn}=t;var g=[];if(v&&v(0,1),d){var c=lr(d(0,1));g.push(c,c)}var f=()=>1-n,y=e.animate(g,{duration:l});return y.onfinish=()=>{var b=1-n,D=n-b,O=t.duration*Math.abs(D),T=[];if(O>0){var H=!1;if(d)for(var N=Math.ceil(O/16.666666666666668),$=0;$<=N;$+=1){var ee=b+D*u($/N),te=lr(d(ee,1-ee));T.push(te),H||(H=te.overflow==="hidden")}H&&(e.style.overflow="hidden"),f=()=>{var j=y.currentTime;return b+D*u(j/O)},v&&un(()=>{if(y.playState!=="running")return!1;var j=f();return v(j,1-j),!0})}y=e.animate(T,{duration:O,fill:"forwards"}),y.onfinish=()=>{f=()=>n,v==null||v(n,1-n),a()}},{abort:()=>{y&&(y.cancel(),y.effect=null,y.onfinish=Q)},deactivate:()=>{a=Q},reset:()=>{},t:()=>f()}}function gn(e,{from:t,to:r},n={}){var{delay:a=0,duration:i=ee=>Math.sqrt(ee)*120,easing:o=nn}=n,l=getComputedStyle(e),d=l.transform==="none"?"":l.transform,[v,u]=l.transformOrigin.split(" ").map(parseFloat);v/=e.clientWidth,u/=e.clientHeight;var g=mn(e),c=e.clientWidth/r.width/g,f=e.clientHeight/r.height/g,y=t.left+t.width*v,b=t.top+t.height*u,D=r.left+r.width*v,O=r.top+r.height*u,T=(y-D)*c,H=(b-O)*f,N=t.width/r.width,$=t.height/r.height;return{delay:a,duration:typeof i=="function"?i(Math.sqrt(T*T+H*H)):i,easing:o,css:(ee,te)=>{var j=te*T,p=te*H,s=ee+te*N,h=ee+te*$;return`transform: ${d} translate(${j}px, ${p}px) scale(${s}, ${h});`}}}function mn(e){if("currentCSSZoom"in e)return e.currentCSSZoom;for(var t=e,r=1;t!==null;)r*=+getComputedStyle(t).zoom,t=t.parentElement;return r}function dr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Re(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dr(Object(r),!0).forEach(function(n){Ke(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dr(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tt(e){"@babel/helpers - typeof";return tt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tt(e)}function Ke(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pn(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function hn(e,t){if(e==null)return{};var r=pn(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function _n(e,t){return bn(e)||En(e,t)||Kt(e,t)||wn()}function we(e){return yn(e)||Dn(e)||Kt(e)||Tn()}function yn(e){if(Array.isArray(e))return Ut(e)}function bn(e){if(Array.isArray(e))return e}function Dn(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function En(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],a=!0,i=!1,o,l;try{for(r=r.call(e);!(a=(o=r.next()).done)&&(n.push(o.value),!(t&&n.length===t));a=!0);}catch(d){i=!0,l=d}finally{try{!a&&r.return!=null&&r.return()}finally{if(i)throw l}}return n}}function Kt(e,t){if(e){if(typeof e=="string")return Ut(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ut(e,t)}}function Ut(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Tn(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wn(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ot(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=Kt(e))||t){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(d){throw d},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i=!0,o=!1,l;return{s:function(){r=r.call(e)},n:function(){var d=r.next();return i=d.done,d},e:function(d){o=!0,l=d},f:function(){try{!i&&r.return!=null&&r.return()}finally{if(o)throw l}}}}var On="finalize",An="consider";function Xe(e,t,r){e.dispatchEvent(new CustomEvent(On,{detail:{items:t,info:r}}))}function Ge(e,t,r){e.dispatchEvent(new CustomEvent(An,{detail:{items:t,info:r}}))}var At="draggedEntered",st="draggedLeft",xt="draggedOverIndex",Xt="draggedLeftDocument",_t={LEFT_FOR_ANOTHER:"leftForAnother",OUTSIDE_OF_ANY:"outsideOfAny"};function xn(e,t,r){e.dispatchEvent(new CustomEvent(At,{detail:{indexObj:t,draggedEl:r}}))}function In(e,t,r){e.dispatchEvent(new CustomEvent(st,{detail:{draggedEl:t,type:_t.LEFT_FOR_ANOTHER,theOtherDz:r}}))}function Sn(e,t){e.dispatchEvent(new CustomEvent(st,{detail:{draggedEl:t,type:_t.OUTSIDE_OF_ANY}}))}function Cn(e,t,r){e.dispatchEvent(new CustomEvent(xt,{detail:{indexObj:t,draggedEl:r}}))}function Rn(e){window.dispatchEvent(new CustomEvent(Xt,{detail:{draggedEl:e}}))}var ce={DRAG_STARTED:"dragStarted",DRAGGED_ENTERED:At,DRAGGED_ENTERED_ANOTHER:"dragEnteredAnother",DRAGGED_OVER_INDEX:xt,DRAGGED_LEFT:st,DRAGGED_LEFT_ALL:"draggedLeftAll",DROPPED_INTO_ZONE:"droppedIntoZone",DROPPED_INTO_ANOTHER:"droppedIntoAnother",DROPPED_OUTSIDE_OF_ANY:"droppedOutsideOfAny",DRAG_STOPPED:"dragStopped"},fe={POINTER:"pointer",KEYBOARD:"keyboard"},It="isDndShadowItem",St="data-is-dnd-shadow-item-internal",Nn="data-is-dnd-shadow-item-hint",Ln="id:dnd-shadow-placeholder-0000",Pn="dnd-action-dragged-el",ne="id",Wt=0;function Ir(){Wt++}function Sr(){if(Wt===0)throw new Error("Bug! trying to decrement when there are no dropzones");Wt--}var Jt=typeof window>"u";function Zt(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r,n=t?zn(e):e.getBoundingClientRect(),a=getComputedStyle(e),i=a.transform;if(i){var o,l,d,v;if(i.startsWith("matrix3d("))r=i.slice(9,-1).split(/, /),o=+r[0],l=+r[5],d=+r[12],v=+r[13];else if(i.startsWith("matrix("))r=i.slice(7,-1).split(/, /),o=+r[0],l=+r[3],d=+r[4],v=+r[5];else return n;var u=a.transformOrigin,g=n.x-d-(1-o)*parseFloat(u),c=n.y-v-(1-l)*parseFloat(u.slice(u.indexOf(" ")+1)),f=o?n.width/o:e.offsetWidth,y=l?n.height/l:e.offsetHeight;return{x:g,y:c,width:f,height:y,top:c,right:g+f,bottom:c+y,left:g}}else return n}function Cr(e){var t=Zt(e);return{top:t.top+window.scrollY,bottom:t.bottom+window.scrollY,left:t.left+window.scrollX,right:t.right+window.scrollX}}function Rr(e){var t=e.getBoundingClientRect();return{top:t.top+window.scrollY,bottom:t.bottom+window.scrollY,left:t.left+window.scrollX,right:t.right+window.scrollX}}function Nr(e){return{x:(e.left+e.right)/2,y:(e.top+e.bottom)/2}}function Mn(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Ct(e,t){return e.y<=t.bottom&&e.y>=t.top&&e.x>=t.left&&e.x<=t.right}function nt(e){return Nr(Rr(e))}function ur(e,t){var r=nt(e),n=Cr(t);return Ct(r,n)}function Fn(e,t){var r=nt(e),n=nt(t);return Mn(r,n)}function kn(e){var t=Rr(e);return t.right<0||t.left>document.documentElement.scrollWidth||t.bottom<0||t.top>document.documentElement.scrollHeight}function zn(e){for(var t=e.getBoundingClientRect(),r={top:t.top,bottom:t.bottom,left:t.left,right:t.right},n=e.parentElement;n&&n!==document.body;){var a=n.getBoundingClientRect(),i=window.getComputedStyle(n).overflowY,o=window.getComputedStyle(n).overflowX,l=i==="scroll"||i==="auto",d=o==="scroll"||o==="auto";l&&(r.top=Math.max(r.top,a.top),r.bottom=Math.min(r.bottom,a.bottom)),d&&(r.left=Math.max(r.left,a.left),r.right=Math.min(r.right,a.right)),n=n.parentElement}return r.top=Math.max(r.top,0),r.bottom=Math.min(r.bottom,window.innerHeight),r.left=Math.max(r.left,0),r.right=Math.min(r.right,window.innerWidth),{top:r.top,bottom:r.bottom,left:r.left,right:r.right,width:Math.max(0,r.right-r.left),height:Math.max(0,r.bottom-r.top)}}var Ve;function Qt(){Ve=new Map}Qt();function Gn(e){var t=Array.from(e.children).findIndex(function(r){return r.getAttribute(St)});if(t>=0)return Ve.has(e)||Ve.set(e,new Map),Ve.get(e).set(t,Cr(e.children[t])),t}function Bn(e,t){if(!ur(e,t))return null;var r=t.children;if(r.length===0)return{index:0,isProximityBased:!0};for(var n=Gn(t),a=0;a<r.length;a++)if(ur(e,r[a])){var i=Ve.has(t)&&Ve.get(t).get(a);return i&&!Ct(nt(e),i)?{index:n,isProximityBased:!1}:{index:a,isProximityBased:!1}}for(var o=Number.MAX_VALUE,l=void 0,d=0;d<r.length;d++){var v=Fn(e,r[d]);v<o&&(o=v,l=d)}return{index:l,isProximityBased:!0}}function vt(e){return JSON.stringify(e,null,2)}function yt(e){if(!e)throw new Error("cannot get depth of a falsy node");return Lr(e,0)}function Lr(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.parentElement?Lr(e.parentElement,t+1):t-1}function Un(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var r in e)if(!{}.hasOwnProperty.call(t,r)||t[r]!==e[r])return!1;return!0}function Wn(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}var Zn=200,cr=10,Ht;function Hn(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Zn,n=arguments.length>3?arguments[3]:void 0,a,i,o=!1,l,d=Array.from(t).sort(function(u,g){return yt(g)-yt(u)});function v(){var u=nt(e),g=n.multiScrollIfNeeded();if(!g&&l&&Math.abs(l.x-u.x)<cr&&Math.abs(l.y-u.y)<cr){Ht=window.setTimeout(v,r);return}if(kn(e)){Rn(e);return}l=u;var c=!1,f=ot(d),y;try{for(f.s();!(y=f.n()).done;){var b=y.value;g&&Qt();var D=Bn(e,b);if(D!==null){var O=D.index;c=!0,b!==a?(a&&In(a,e,b),xn(b,D,e),a=b):O!==i&&(Cn(b,D,e),i=O);break}}}catch(T){f.e(T)}finally{f.f()}!c&&o&&a?(Sn(a,e),a=void 0,i=void 0,o=!1):o=!0,Ht=window.setTimeout(v,r)}v()}function jn(){clearTimeout(Ht),Qt()}var et=30;function Yn(){var e;function t(){e={directionObj:void 0,stepPx:0}}t();function r(i){var o=e,l=o.directionObj,d=o.stepPx;l&&(i.scrollBy(l.x*d,l.y*d),window.requestAnimationFrame(function(){return r(i)}))}function n(i){return et-i}function a(i,o){if(!o)return!1;var l=Vn(i,o),d=!!e.directionObj;if(l===null)return d&&t(),!1;var v=!1,u=!1;return o.scrollHeight>o.clientHeight&&(l.bottom<et?(v=!0,e.directionObj={x:0,y:1},e.stepPx=n(l.bottom)):l.top<et&&(v=!0,e.directionObj={x:0,y:-1},e.stepPx=n(l.top)),!d&&v)||o.scrollWidth>o.clientWidth&&(l.right<et?(u=!0,e.directionObj={x:1,y:0},e.stepPx=n(l.right)):l.left<et&&(u=!0,e.directionObj={x:-1,y:0},e.stepPx=n(l.left)),!d&&u)?(r(o),!0):(t(),!1)}return{scrollIfNeeded:a,resetScrolling:t}}function Vn(e,t){var r=t===document.scrollingElement?{top:0,bottom:window.innerHeight,left:0,right:window.innerWidth}:t.getBoundingClientRect();return Ct(e,r)?{top:e.y-r.top,bottom:r.bottom-e.y,left:e.x-r.left,right:r.right-e.x}:null}function qn(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,r=Xn(e),n=Array.from(r).sort(function(d,v){return yt(v)-yt(d)}),a=Yn(),i=a.scrollIfNeeded,o=a.resetScrolling;function l(){var d=t();if(!d||!n)return!1;for(var v=n.filter(function(c){return Ct(d,c.getBoundingClientRect())||c===document.scrollingElement}),u=0;u<v.length;u++){var g=i(d,v[u]);if(g)return!0}return!1}return{multiScrollIfNeeded:r.size>0?l:function(){return!1},destroy:function(){return o()}}}function Kn(e){if(!e)return[];for(var t=[],r=e;r;){var n=window.getComputedStyle(r),a=n.overflow;a.split(" ").some(function(i){return i.includes("auto")||i.includes("scroll")})&&t.push(r),r=r.parentElement}return t}function Xn(e){var t=new Set,r=ot(e),n;try{for(r.s();!(n=r.n()).done;){var a=n.value;Kn(a).forEach(function(i){return t.add(i)})}}catch(i){r.e(i)}finally{r.f()}return(document.scrollingElement.scrollHeight>document.scrollingElement.clientHeight||document.scrollingElement.scrollWidth>document.scrollingElement.clientHeight)&&t.add(document.scrollingElement),t}function Jn(e){var t=e.cloneNode(!0),r=[],n=e.tagName==="SELECT",a=n?[e]:we(e.querySelectorAll("select")),i=ot(a),o;try{for(i.s();!(o=i.n()).done;){var l=o.value;r.push(l.value)}}catch(H){i.e(H)}finally{i.f()}if(a.length>0)for(var d=n?[t]:we(t.querySelectorAll("select")),v=0;v<d.length;v++){var u=d[v],g=r[v],c=u.querySelector('option[value="'.concat(g,'"'));c&&c.setAttribute("selected",!0)}var f=e.tagName==="CANVAS",y=f?[e]:we(e.querySelectorAll("canvas"));if(y.length>0)for(var b=f?[t]:we(t.querySelectorAll("canvas")),D=0;D<b.length;D++){var O=y[D],T=b[D];T.width=O.width,T.height=O.height,O.width>0&&O.height>0&&T.getContext("2d").drawImage(O,0,0)}return t}var at=Object.freeze({USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT:"USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT"}),Qn=Ke({},at.USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT,!1);function Pr(e){if(!at[e])throw new Error("Can't get non existing feature flag ".concat(e,"! Supported flags: ").concat(Object.keys(at)));return Qn[e]}var $n=.2;function Ue(e){return"".concat(e," ").concat($n,"s ease")}function ea(e,t){var r=e.getBoundingClientRect(),n=Jn(e);Mr(e,n),n.id=Pn,n.style.position="fixed";var a=r.top,i=r.left;if(n.style.top="".concat(a,"px"),n.style.left="".concat(i,"px"),t){var o=Nr(r);a-=o.y-t.y,i-=o.x-t.x,window.setTimeout(function(){n.style.top="".concat(a,"px"),n.style.left="".concat(i,"px")},0)}return n.style.margin="0",n.style.boxSizing="border-box",n.style.height="".concat(r.height,"px"),n.style.width="".concat(r.width,"px"),n.style.transition="".concat(Ue("top"),", ").concat(Ue("left"),", ").concat(Ue("background-color"),", ").concat(Ue("opacity"),", ").concat(Ue("color")," "),window.setTimeout(function(){return n.style.transition+=", ".concat(Ue("width"),", ").concat(Ue("height"))},0),n.style.zIndex="9999",n.style.cursor="grabbing",n}function ta(e){e.style.cursor="grab"}function ra(e,t,r,n){Mr(t,e);var a=t.getBoundingClientRect(),i=e.getBoundingClientRect(),o=a.width-i.width,l=a.height-i.height;if(o||l){var d={left:(r-i.left)/i.width,top:(n-i.top)/i.height};Pr(at.USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT)||(e.style.height="".concat(a.height,"px"),e.style.width="".concat(a.width,"px")),e.style.left="".concat(parseFloat(e.style.left)-d.left*o,"px"),e.style.top="".concat(parseFloat(e.style.top)-d.top*l,"px")}}function Mr(e,t){var r=window.getComputedStyle(e);Array.from(r).filter(function(n){return n.startsWith("background")||n.startsWith("padding")||n.startsWith("font")||n.startsWith("text")||n.startsWith("align")||n.startsWith("justify")||n.startsWith("display")||n.startsWith("flex")||n.startsWith("border")||n==="opacity"||n==="color"||n==="list-style-type"||Pr(at.USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT)&&(n==="width"||n==="height")}).forEach(function(n){return t.style.setProperty(n,r.getPropertyValue(n),r.getPropertyPriority(n))})}function na(e,t){e.draggable=!1,e.ondragstart=function(){return!1},t?(e.style.userSelect="",e.style.WebkitUserSelect="",e.style.cursor=""):(e.style.userSelect="none",e.style.WebkitUserSelect="none",e.style.cursor="grab")}function Fr(e){e.style.display="none",e.style.position="fixed",e.style.zIndex="-5"}function aa(e){e.style.visibility="hidden",e.setAttribute(St,"true")}function ia(e){e.style.visibility="",e.removeAttribute(St)}function pt(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){return[]};e.forEach(function(n){var a=t(n);Object.keys(a).forEach(function(i){n.style[i]=a[i]}),r(n).forEach(function(i){return n.classList.add(i)})})}function bt(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){return[]};e.forEach(function(n){var a=t(n);Object.keys(a).forEach(function(i){n.style[i]=""}),r(n).forEach(function(i){return n.classList.contains(i)&&n.classList.remove(i)})})}function oa(e){var t=e.style.minHeight;e.style.minHeight=window.getComputedStyle(e).getPropertyValue("height");var r=e.style.minWidth;return e.style.minWidth=window.getComputedStyle(e).getPropertyValue("width"),function(){e.style.minHeight=t,e.style.minWidth=r}}var sa="--any--",la=100,da=20,fr=3,vr={outline:"rgba(255, 255, 102, 0.7) solid 2px"},gr="data-is-dnd-original-dragged-item",xe,de,_e,Rt,U,Nt,ze,se,Me,Ee,Pe=!1,$t=!1,er,lt=!1,ht=[],rt,Se=new Map,V=new Map,kt=new WeakMap;function ua(e,t){Se.has(t)||Se.set(t,new Set),Se.get(t).has(e)||(Se.get(t).add(e),Ir())}function mr(e,t){Se.get(t).delete(e),Sr(),Se.get(t).size===0&&Se.delete(t)}function ca(){var e=Se.get(Rt),t=ot(e),r;try{for(t.s();!(r=t.n()).done;){var n=r.value;n.addEventListener(At,kr),n.addEventListener(st,zr),n.addEventListener(xt,Gr)}}catch(o){t.e(o)}finally{t.f()}window.addEventListener(Xt,Je);var a=Math.max.apply(Math,we(Array.from(e.keys()).map(function(o){return V.get(o).dropAnimationDurationMs}))),i=a===0?da:Math.max(a,la);rt=qn(e,function(){return Ee}),Hn(de,e,i*1.07,rt)}function fa(){var e=Se.get(Rt),t=ot(e),r;try{for(t.s();!(r=t.n()).done;){var n=r.value;n.removeEventListener(At,kr),n.removeEventListener(st,zr),n.removeEventListener(xt,Gr)}}catch(a){t.e(a)}finally{t.f()}window.removeEventListener(Xt,Je),rt&&(rt.destroy(),rt=void 0),jn()}function Lt(e){return e.findIndex(function(t){return!!t[It]})}function va(e){var t;return Re(Re({},e),{},(t={},Ke(t,It,!0),Ke(t,ne,Ln),t))}function kr(e){var t=V.get(e.currentTarget),r=t.items,n=t.dropFromOthersDisabled;if(!(n&&e.currentTarget!==U)){if(lt=!1,r=r.filter(function(u){return u[ne]!==ze[ne]}),U!==e.currentTarget){var a=V.get(U).items,i=a.filter(function(u){return!u[It]});Ge(U,i,{trigger:ce.DRAGGED_ENTERED_ANOTHER,id:_e[ne],source:fe.POINTER})}var o=e.detail.indexObj,l=o.index,d=o.isProximityBased,v=d&&l===e.currentTarget.children.length-1?l+1:l;se=e.currentTarget,r.splice(v,0,ze),Ge(e.currentTarget,r,{trigger:ce.DRAGGED_ENTERED,id:_e[ne],source:fe.POINTER})}}function zr(e){if(Pe){var t=V.get(e.currentTarget),r=t.items,n=t.dropFromOthersDisabled;if(!(n&&e.currentTarget!==U&&e.currentTarget!==se)){var a=we(r),i=Lt(a);i!==-1&&a.splice(i,1);var o=se;se=void 0;var l=e.detail,d=l.type,v=l.theOtherDz;if(d===_t.OUTSIDE_OF_ANY||d===_t.LEFT_FOR_ANOTHER&&v!==U&&V.get(v).dropFromOthersDisabled){lt=!0,se=U;var u=o===U?a:we(V.get(U).items);u.splice(Nt,0,ze),Ge(U,u,{trigger:ce.DRAGGED_LEFT_ALL,id:_e[ne],source:fe.POINTER})}Ge(e.currentTarget,a,{trigger:ce.DRAGGED_LEFT,id:_e[ne],source:fe.POINTER})}}}function Gr(e){var t=V.get(e.currentTarget),r=t.items,n=t.dropFromOthersDisabled;if(!(n&&e.currentTarget!==U)){var a=we(r);lt=!1;var i=e.detail.indexObj.index,o=Lt(a);o!==-1&&a.splice(o,1),a.splice(i,0,ze),Ge(e.currentTarget,a,{trigger:ce.DRAGGED_OVER_INDEX,id:_e[ne],source:fe.POINTER})}}function Dt(e){e.preventDefault();var t=e.touches?e.touches[0]:e;Ee={x:t.clientX,y:t.clientY},de.style.transform="translate3d(".concat(Ee.x-Me.x,"px, ").concat(Ee.y-Me.y,"px, 0)")}function Je(){$t=!0,window.removeEventListener("mousemove",Dt),window.removeEventListener("touchmove",Dt),window.removeEventListener("mouseup",Je),window.removeEventListener("touchend",Je),fa(),ta(de),se||(se=U);var e=V.get(se),t=e.items,r=e.type;bt(Se.get(r),function(i){return V.get(i).dropTargetStyle},function(i){return V.get(i).dropTargetClasses});var n=Lt(t);n===-1&&se===U&&(n=Nt),t=t.map(function(i){return i[It]?_e:i});function a(){er(),Xe(se,t,{trigger:lt?ce.DROPPED_OUTSIDE_OF_ANY:ce.DROPPED_INTO_ZONE,id:_e[ne],source:fe.POINTER}),se!==U&&Xe(U,V.get(U).items,{trigger:ce.DROPPED_INTO_ANOTHER,id:_e[ne],source:fe.POINTER});var i=Array.from(se.children).find(function(o){return o.getAttribute(St)});i&&ia(i),pa()}V.get(se).dropAnimationDisabled?a():ga(n,a)}function ga(e,t){var r=e>-1?Zt(se.children[e],!1):Zt(se,!1),n={x:r.left-parseFloat(de.style.left),y:r.top-parseFloat(de.style.top)},a=V.get(se),i=a.dropAnimationDurationMs,o="transform ".concat(i,"ms ease");de.style.transition=de.style.transition?de.style.transition+","+o:o,de.style.transform="translate3d(".concat(n.x,"px, ").concat(n.y,"px, 0)"),window.setTimeout(t,i)}function ma(e,t){ht.push({dz:e,destroy:t}),window.requestAnimationFrame(function(){Fr(e),document.body.appendChild(e)})}function pa(){de.remove(),xe.remove(),ht.length&&(ht.forEach(function(e){var t=e.dz,r=e.destroy;r(),t.remove()}),ht=[]),de=void 0,xe=void 0,_e=void 0,Rt=void 0,U=void 0,Nt=void 0,ze=void 0,se=void 0,Me=void 0,Ee=void 0,Pe=!1,$t=!1,er=void 0,lt=!1}function ha(e,t){var r=!1,n={items:void 0,type:void 0,flipDurationMs:0,dragDisabled:!1,morphDisabled:!1,dropFromOthersDisabled:!1,dropTargetStyle:vr,dropTargetClasses:[],transformDraggedElement:function(){},centreDraggedOnCursor:!1,dropAnimationDisabled:!1},a=new Map;function i(){window.addEventListener("mousemove",d,{passive:!1}),window.addEventListener("touchmove",d,{passive:!1,capture:!1}),window.addEventListener("mouseup",l,{passive:!1}),window.addEventListener("touchend",l,{passive:!1})}function o(){window.removeEventListener("mousemove",d),window.removeEventListener("touchmove",d),window.removeEventListener("mouseup",l),window.removeEventListener("touchend",l)}function l(c){if(o(),xe=void 0,Me=void 0,Ee=void 0,c.type==="touchend"){var f=new Event("click",{bubbles:!0,cancelable:!0});c.target.dispatchEvent(f)}}function d(c){c.preventDefault();var f=c.touches?c.touches[0]:c;Ee={x:f.clientX,y:f.clientY},(Math.abs(Ee.x-Me.x)>=fr||Math.abs(Ee.y-Me.y)>=fr)&&(o(),u())}function v(c){if(!(c.target!==c.currentTarget&&(c.target.value!==void 0||c.target.isContentEditable))&&!c.button&&!Pe){c.preventDefault(),c.stopPropagation();var f=c.touches?c.touches[0]:c;Me={x:f.clientX,y:f.clientY},Ee=Re({},Me),xe=c.currentTarget,i()}}function u(){Pe=!0;var c=a.get(xe);Nt=c,U=xe.parentElement;var f=U.closest("dialog")||U.closest("[popover]")||U.getRootNode(),y=f.body||f,b=n.items,D=n.type,O=n.centreDraggedOnCursor,T=we(b);_e=T[c],Rt=D,ze=va(_e),de=ea(xe,O&&Ee),y.appendChild(de);function H(){xe.parentElement?window.requestAnimationFrame(H):(xe.setAttribute(gr,!0),y.appendChild(xe),ca(),Fr(xe),ze[ne]=_e[ne],de.focus())}window.requestAnimationFrame(H),pt(Array.from(Se.get(n.type)).filter(function(N){return N===U||!V.get(N).dropFromOthersDisabled}),function(N){return V.get(N).dropTargetStyle},function(N){return V.get(N).dropTargetClasses}),T.splice(c,1,ze),er=oa(U),Ge(U,T,{trigger:ce.DRAG_STARTED,id:_e[ne],source:fe.POINTER}),window.addEventListener("mousemove",Dt,{passive:!1}),window.addEventListener("touchmove",Dt,{passive:!1,capture:!1}),window.addEventListener("mouseup",Je,{passive:!1}),window.addEventListener("touchend",Je,{passive:!1})}function g(c){var f=c.items,y=f===void 0?void 0:f,b=c.flipDurationMs,D=b===void 0?0:b,O=c.type,T=O===void 0?sa:O,H=c.dragDisabled,N=H===void 0?!1:H,$=c.morphDisabled,ee=$===void 0?!1:$,te=c.dropFromOthersDisabled,j=te===void 0?!1:te,p=c.dropTargetStyle,s=p===void 0?vr:p,h=c.dropTargetClasses,E=h===void 0?[]:h,k=c.transformDraggedElement,S=k===void 0?function(){}:k,C=c.centreDraggedOnCursor,q=C===void 0?!1:C,_=c.dropAnimationDisabled,P=_===void 0?!1:_;n.dropAnimationDurationMs=D,n.type&&T!==n.type&&mr(e,n.type),n.type=T,n.items=we(y),n.dragDisabled=N,n.morphDisabled=ee,n.transformDraggedElement=S,n.centreDraggedOnCursor=q,n.dropAnimationDisabled=P,r&&Pe&&!$t&&(!Un(s,n.dropTargetStyle)||!Wn(E,n.dropTargetClasses))&&(bt([e],function(){return n.dropTargetStyle},function(){return E}),pt([e],function(){return s},function(){return E})),n.dropTargetStyle=s,n.dropTargetClasses=we(E);function X(w,W){return V.get(w)?V.get(w)[W]:n[W]}r&&Pe&&n.dropFromOthersDisabled!==j&&(j?bt([e],function(w){return X(w,"dropTargetStyle")},function(w){return X(w,"dropTargetClasses")}):pt([e],function(w){return X(w,"dropTargetStyle")},function(w){return X(w,"dropTargetClasses")})),n.dropFromOthersDisabled=j,V.set(e,n),ua(e,T);for(var ve=Pe?Lt(n.items):-1,x=0;x<e.children.length;x++){var A=e.children[x];if(na(A,N),x===ve){ee||ra(de,A,Ee.x,Ee.y),n.transformDraggedElement(de,_e,x),aa(A);continue}A.removeEventListener("mousedown",kt.get(A)),A.removeEventListener("touchstart",kt.get(A)),N||(A.addEventListener("mousedown",v),A.addEventListener("touchstart",v),kt.set(A,v)),a.set(A,x),r||(r=!0)}}return g(t),{update:function(f){g(f)},destroy:function(){function f(){mr(e,V.get(e).type),V.delete(e)}Pe&&!e.closest("[".concat(gr,"]"))?ma(e,f):f()}}}var gt,jt={DND_ZONE_ACTIVE:"dnd-zone-active",DND_ZONE_DRAG_DISABLED:"dnd-zone-drag-disabled"},Br=(gt={},Ke(gt,jt.DND_ZONE_ACTIVE,"Tab to one the items and press space-bar or enter to start dragging it"),Ke(gt,jt.DND_ZONE_DRAG_DISABLED,"This is a disabled drag and drop list"),gt),_a="dnd-action-aria-alert",K;function Yt(){K||(K=document.createElement("div"),function(){K.id=_a,K.style.position="fixed",K.style.bottom="0",K.style.left="0",K.style.zIndex="-5",K.style.opacity="0",K.style.height="0",K.style.width="0",K.setAttribute("role","alert")}(),document.body.prepend(K),Object.entries(Br).forEach(function(e){var t=_n(e,2),r=t[0],n=t[1];return document.body.prepend(Da(r,n))}))}function ya(){return Jt?null:(document.readyState==="complete"?Yt():window.addEventListener("DOMContentLoaded",Yt),Re({},jt))}function ba(){Jt||!K||(Object.keys(Br).forEach(function(e){var t;return(t=document.getElementById(e))===null||t===void 0?void 0:t.remove()}),K.remove(),K=void 0)}function Da(e,t){var r=document.createElement("div");return r.id=e,r.innerHTML="<p>".concat(t,"</p>"),r.style.display="none",r.style.position="fixed",r.style.zIndex="-5",r}function qe(e){if(!Jt){K||Yt(),K.innerHTML="";var t=document.createTextNode(e);K.appendChild(t),K.style.display="none",K.style.display="inline"}}var Ea="--any--",pr={outline:"rgba(255, 255, 102, 0.7) solid 2px"},Te=!1,Vt,ue,Ze="",We,Ne,ke="",Et=new WeakSet,hr=new WeakMap,_r=new WeakMap,qt=new Map,oe=new Map,Ie=new Map,Tt;function Ta(e,t){Ie.size===0&&(Tt=ya(),window.addEventListener("keydown",Ur),window.addEventListener("click",Wr)),Ie.has(t)||Ie.set(t,new Set),Ie.get(t).has(e)||(Ie.get(t).add(e),Ir())}function yr(e,t){ue===e&&it(),Ie.get(t).delete(e),Sr(),Ie.get(t).size===0&&Ie.delete(t),Ie.size===0&&(window.removeEventListener("keydown",Ur),window.removeEventListener("click",Wr),Tt=void 0,ba())}function Ur(e){if(Te)switch(e.key){case"Escape":{it();break}}}function Wr(){Te&&(Et.has(document.activeElement)||it())}function wa(e){if(Te){var t=e.currentTarget;if(t!==ue){Ze=t.getAttribute("aria-label")||"";var r=oe.get(ue),n=r.items,a=n.find(function(g){return g[ne]===Ne}),i=n.indexOf(a),o=n.splice(i,1)[0],l=oe.get(t),d=l.items,v=l.autoAriaDisabled;t.getBoundingClientRect().top<ue.getBoundingClientRect().top||t.getBoundingClientRect().left<ue.getBoundingClientRect().left?(d.push(o),v||qe("Moved item ".concat(ke," to the end of the list ").concat(Ze))):(d.unshift(o),v||qe("Moved item ".concat(ke," to the beginning of the list ").concat(Ze)));var u=ue;Xe(u,n,{trigger:ce.DROPPED_INTO_ANOTHER,id:Ne,source:fe.KEYBOARD}),Xe(t,d,{trigger:ce.DROPPED_INTO_ZONE,id:Ne,source:fe.KEYBOARD}),ue=t}}}function Zr(){qt.forEach(function(e,t){var r=e.update;return r(oe.get(t))})}function it(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;oe.get(ue).autoAriaDisabled||qe("Stopped dragging item ".concat(ke)),Et.has(document.activeElement)&&document.activeElement.blur(),e&&Ge(ue,oe.get(ue).items,{trigger:ce.DRAG_STOPPED,id:Ne,source:fe.KEYBOARD}),bt(Ie.get(Vt),function(t){return oe.get(t).dropTargetStyle},function(t){return oe.get(t).dropTargetClasses}),We=null,Ne=null,ke="",Vt=null,ue=null,Ze="",Te=!1,Zr()}function Oa(e,t){var r={items:void 0,type:void 0,dragDisabled:!1,zoneTabIndex:0,zoneItemTabIndex:0,dropFromOthersDisabled:!1,dropTargetStyle:pr,dropTargetClasses:[],autoAriaDisabled:!1};function n(u,g,c){u.length<=1||u.splice(c,1,u.splice(g,1,u[c])[0])}function a(u){switch(u.key){case"Enter":case" ":{if((u.target.disabled!==void 0||u.target.href||u.target.isContentEditable)&&!Et.has(u.target))return;u.preventDefault(),u.stopPropagation(),Te?it():i(u);break}case"ArrowDown":case"ArrowRight":{if(!Te)return;u.preventDefault(),u.stopPropagation();var g=oe.get(e),c=g.items,f=Array.from(e.children),y=f.indexOf(u.currentTarget);y<f.length-1&&(r.autoAriaDisabled||qe("Moved item ".concat(ke," to position ").concat(y+2," in the list ").concat(Ze)),n(c,y,y+1),Xe(e,c,{trigger:ce.DROPPED_INTO_ZONE,id:Ne,source:fe.KEYBOARD}));break}case"ArrowUp":case"ArrowLeft":{if(!Te)return;u.preventDefault(),u.stopPropagation();var b=oe.get(e),D=b.items,O=Array.from(e.children),T=O.indexOf(u.currentTarget);T>0&&(r.autoAriaDisabled||qe("Moved item ".concat(ke," to position ").concat(T," in the list ").concat(Ze)),n(D,T,T-1),Xe(e,D,{trigger:ce.DROPPED_INTO_ZONE,id:Ne,source:fe.KEYBOARD}));break}}}function i(u){l(u.currentTarget),ue=e,Vt=r.type,Te=!0;var g=Array.from(Ie.get(r.type)).filter(function(f){return f===ue||!oe.get(f).dropFromOthersDisabled});if(pt(g,function(f){return oe.get(f).dropTargetStyle},function(f){return oe.get(f).dropTargetClasses}),!r.autoAriaDisabled){var c="Started dragging item ".concat(ke,". Use the arrow keys to move it within its list ").concat(Ze);g.length>1&&(c+=", or tab to another list in order to move the item into it"),qe(c)}Ge(e,oe.get(e).items,{trigger:ce.DRAG_STARTED,id:Ne,source:fe.KEYBOARD}),Zr()}function o(u){Te&&u.currentTarget!==We&&(u.stopPropagation(),it(!1),i(u))}function l(u){var g=oe.get(e),c=g.items,f=Array.from(e.children),y=f.indexOf(u);We=u,We.tabIndex=r.zoneItemTabIndex,Ne=c[y][ne],ke=f[y].getAttribute("aria-label")||""}function d(u){var g=u.items,c=g===void 0?[]:g,f=u.type,y=f===void 0?Ea:f,b=u.dragDisabled,D=b===void 0?!1:b,O=u.zoneTabIndex,T=O===void 0?0:O,H=u.zoneItemTabIndex,N=H===void 0?0:H,$=u.dropFromOthersDisabled,ee=$===void 0?!1:$,te=u.dropTargetStyle,j=te===void 0?pr:te,p=u.dropTargetClasses,s=p===void 0?[]:p,h=u.autoAriaDisabled,E=h===void 0?!1:h;r.items=we(c),r.dragDisabled=D,r.dropFromOthersDisabled=ee,r.zoneTabIndex=T,r.zoneItemTabIndex=N,r.dropTargetStyle=j,r.dropTargetClasses=s,r.autoAriaDisabled=E,r.type&&y!==r.type&&yr(e,r.type),r.type=y,Ta(e,y),E||(e.setAttribute("aria-disabled",D),e.setAttribute("role","list"),e.setAttribute("aria-describedby",D?Tt.DND_ZONE_DRAG_DISABLED:Tt.DND_ZONE_ACTIVE)),oe.set(e,r),Te?e.tabIndex=e===ue||We.contains(e)||r.dropFromOthersDisabled||ue&&r.type!==oe.get(ue).type?-1:0:e.tabIndex=r.zoneTabIndex,e.addEventListener("focus",wa);for(var k=function(q){var _=e.children[q];Et.add(_),_.tabIndex=Te?-1:r.zoneItemTabIndex,E||_.setAttribute("role","listitem"),_.removeEventListener("keydown",hr.get(_)),_.removeEventListener("click",_r.get(_)),D||(_.addEventListener("keydown",a),hr.set(_,a),_.addEventListener("click",o),_r.set(_,o)),Te&&r.items[q][ne]===Ne&&(We=_,We.tabIndex=r.zoneItemTabIndex,_.focus())},S=0;S<e.children.length;S++)k(S)}d(t);var v={update:function(g){d(g)},destroy:function(){yr(e,r.type),oe.delete(e),qt.delete(e)}};return qt.set(e,v),v}var Aa=["items","flipDurationMs","type","dragDisabled","morphDisabled","dropFromOthersDisabled","zoneTabIndex","zoneItemTabIndex","dropTargetStyle","dropTargetClasses","transformDraggedElement","autoAriaDisabled","centreDraggedOnCursor","dropAnimationDisabled"];function xa(e,t){if(Ia(e))return{update:function(){},destroy:function(){}};br(t);var r=ha(e,t),n=Oa(e,t);return{update:function(i){br(i),r.update(i),n.update(i)},destroy:function(){r.destroy(),n.destroy()}}}function Ia(e){return!!e.closest("[".concat(Nn,'="true"]'))}function br(e){var t=e.items;e.flipDurationMs,e.type,e.dragDisabled,e.morphDisabled,e.dropFromOthersDisabled;var r=e.zoneTabIndex,n=e.zoneItemTabIndex;e.dropTargetStyle;var a=e.dropTargetClasses;e.transformDraggedElement,e.autoAriaDisabled,e.centreDraggedOnCursor,e.dropAnimationDisabled;var i=hn(e,Aa);if(Object.keys(i).length>0&&console.warn("dndzone will ignore unknown options",i),!t)throw new Error("no 'items' key provided to dndzone");var o=t.find(function(l){return!{}.hasOwnProperty.call(l,ne)});if(o)throw new Error("missing '".concat(ne,"' property for item ").concat(vt(o)));if(a&&!Array.isArray(a))throw new Error("dropTargetClasses should be an array but instead it is a ".concat(tt(a),", ").concat(vt(a)));if(r&&!Dr(r))throw new Error("zoneTabIndex should be a number but instead it is a ".concat(tt(r),", ").concat(vt(r)));if(n&&!Dr(n))throw new Error("zoneItemTabIndex should be a number but instead it is a ".concat(tt(n),", ").concat(vt(n)))}function Dr(e){return!isNaN(e)&&function(t){return(t|0)===t}(parseFloat(e))}function Sa(e){var t=e,r=new Set;return{get:function(){return t},set:function(a){t=a,Array.from(r).forEach(function(i){return i(t)})},subscribe:function(a){r.add(a),a(t)},unsubscribe:function(a){r.delete(a)}}}var Fe=Sa(!0);function zt(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return{dragDisabled:e,zoneItemTabIndex:-1}}function Gt(e,t){var r=t,n=xa(e,Re(Re({},r),zt()));function a(l){n.update(Re(Re({},r),zt(l)))}Fe.subscribe(a);function i(l){var d=l.detail.info,v=d.source,u=d.trigger;v===fe.KEYBOARD&&u===ce.DRAG_STOPPED&&Fe.set(!0)}function o(l){var d=l.detail.info.source;d===fe.POINTER&&Fe.set(!0)}return e.addEventListener("consider",i),e.addEventListener("finalize",o),{update:function(d){r=d,n.update(Re(Re({},r),zt(Fe.get())))},destroy:function(){e.removeEventListener("consider",i),e.removeEventListener("finalize",o),Fe.unsubscribe(a)}}}function Bt(e){e.setAttribute("role","button");function t(n){n.preventDefault(),Fe.set(!1)}function r(n){(n.key==="Enter"||n.key===" ")&&Fe.set(!1)}return Fe.subscribe(function(n){e.tabIndex=n?0:-1,e.style.cursor=n?"grab":"grabbing"}),e.addEventListener("mousedown",t),e.addEventListener("touchstart",t),e.addEventListener("keydown",r),{update:function(){},destroy:function(){e.removeEventListener("mousedown",t),e.removeEventListener("touchstart",t),e.removeEventListener("keydown",r)}}}function Ca(e,t){wt(t,!0);let r=Tr(t,["$$slots","$$events","$$legacy"]);Or(e,Er({name:"grip"},()=>r,{iconNode:[["circle",{cx:"12",cy:"5",r:"1"}],["circle",{cx:"19",cy:"5",r:"1"}],["circle",{cx:"5",cy:"5",r:"1"}],["circle",{cx:"12",cy:"12",r:"1"}],["circle",{cx:"19",cy:"12",r:"1"}],["circle",{cx:"5",cy:"12",r:"1"}],["circle",{cx:"12",cy:"19",r:"1"}],["circle",{cx:"19",cy:"19",r:"1"}],["circle",{cx:"5",cy:"19",r:"1"}]],children:(a,i)=>{var o=pe(),l=Z(o);wr(l,()=>t.children??Q),m(a,o)},$$slots:{default:!0}})),Ot()}function Ra(e,t){wt(t,!0);let r=Tr(t,["$$slots","$$events","$$legacy"]);Or(e,Er({name:"palette"},()=>r,{iconNode:[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z"}]],children:(a,i)=>{var o=pe(),l=Z(o);wr(l,()=>t.children??Q),m(a,o)},$$slots:{default:!0}})),Ot()}var Na=F("<!> <span>artist</span>",1),La=F("<!> <span>album</span>",1),Pa=F("<!> <span>track</span>",1),Ma=F("<!> <span>mix</span>",1),Fa=F("<span>item</span>"),ka=F('<span class="inline-block svelte-1gm6lgu"><div class="collection-item-tag svelte-1gm6lgu"><!></div></span>');function mt(e,t){wt(t,!0);let r=Ye(t,"display",3,!0);var n=pe(),a=Z(n);{var i=o=>{var l=ka(),d=B(l),v=B(d);{var u=c=>{var f=Na(),y=Z(f);Ra(y,{size:"12",color:"var(--freq-color-text-medium-dark)"}),dt(2),m(c,f)},g=(c,f)=>{{var y=D=>{var O=La(),T=Z(O);an(T,{size:"12",color:"var(--freq-color-text-medium-dark)"}),dt(2),m(D,O)},b=(D,O)=>{{var T=N=>{var $=Pa(),ee=Z($);on(ee,{size:"12",color:"var(--freq-color-text-medium-dark)"}),dt(2),m(N,$)},H=(N,$)=>{{var ee=j=>{var p=Ma(),s=Z(p);sn(s,{size:"12",color:"var(--freq-color-text-medium-dark)"}),dt(2),m(j,p)},te=j=>{var p=Fa();m(j,p)};I(N,j=>{t.itemType&&t.itemType.includes("episode")?j(ee):j(te,!1)},$)}};I(D,N=>{t.itemType&&t.itemType.includes("recording")?N(T):N(H,!1)},O)}};I(c,D=>{t.itemType&&t.itemType.includes("release_group")?D(y):D(b,!1)},f)}};I(v,c=>{t.itemType&&t.itemType.includes("artist")?c(u):c(g,!1)})}z(d),z(l),m(o,l)};I(a,o=>{r()&&o(i)})}m(e,n),Ot()}const za=(e,t=Q,r=Q)=>{var n=pe(),a=Z(n);{var i=o=>{var l=ei(),d=B(l,!0);z(l),Y(()=>{De(l,"href",`/user/${t().inserted_by_username??""}`),me(d,t().inserted_by_display_name)}),m(o,l)};I(a,o=>{r()=="open"&&o(i)})}m(e,n)};var Ga=(e,t,r)=>t(r()),Ba=F('<div class="editor-interactions svelte-917sxt"><button class="standard svelte-917sxt">x remove</button> <div class="handle"><!></div></div>'),Ua=F("<img>"),Wa=F('<img alt="loading cover art">'),Za=F("<a> </a>"),Ha=F('<span class="artist"><!> <!></span>'),ja=F("<a> </a>"),Ya=F("<a> </a>"),Va=F('<!> <span class="title"><!></span> <span class="artist"><!></span>',1),qa=F("<a> </a>"),Ka=F("<a> </a>"),Xa=F('<!> <span class="title"><!></span> <span class="artist"><!></span>',1),Ja=F("<a> </a>"),Qa=F("<a> </a>"),$a=F('<!> <span class="title"><!></span> <span class="artist"><!></span>',1),ei=F('<a class="attribution svelte-917sxt"> </a>'),ti=F('<div class="media-grid-item"></div>'),ri=F('<li><!> <div class="metadata-blurb"><!></div> <!></li>'),ni=F('<ul aria-label="collection items"></ul>'),ai=F('<li><!> <div class="metadata-blurb"><!></div> <!></li>'),ii=F('<ul aria-label="collection items"><!> <!></ul>');function Ei(e,t){wt(t,!0);const r=(p,s=Q,h=Q)=>{var E=Ba(),k=B(E);k.__click=[Ga,H,s];var S=be(k,2),C=B(S);Ca(C,{size:"20",color:"var(--freq-color-text-muted)"}),z(S),ir(S,q=>Bt==null?void 0:Bt(q)),z(E),Y(()=>De(S,"aria-label",`drag-handle for ${h()??""}`)),m(p,E)},n=(p,s=Q,h=Q)=>{var E=pe(),k=Z(E);rr(k,g,S=>{var C=Wa();De(C,"src",nr),m(S,C)},S=>{var C=Ua();Y(()=>{De(C,"src",s().img_url??s().last_fm_img_url??nr),De(C,"alt",`${(s().img_url?h():"no available")??""} cover art`)}),m(S,C)}),m(p,E)},a=(p,s=Q,h=Q,E=Q)=>{var k=pe(),S=Z(k);{var C=_=>{var P=pe(),X=Z(P);sr(X,()=>L(b).length,ve=>{var x=pe(),A=Z(x);{var w=R=>{const ae=ut(()=>`"${s().release_group_name}" by ${s().artist_name}`);$e(R,{get item(){return s()},get altText(){return L(ae)}})},W=(R,ae)=>{{var he=re=>{n(re,s,()=>s().release_group_name)};I(R,re=>{s().img_url==null&&s().last_fm_img_url==null&&re(he)},ae)}};I(A,R=>{s().img_url!=null||s().last_fm_img_url!=null?R(w):R(W,!1)})}m(ve,x)}),m(_,P)},q=(_,P)=>{{var X=x=>{$e(x,{get item(){return s()},get altText(){return s().release_group_name}})},ve=(x,A)=>{{var w=R=>{var ae=pe(),he=Z(ae);sr(he,()=>L(b).length,re=>{var le=pe(),Ce=Z(le);{var Oe=M=>{const Ae=ut(()=>y(s(),t.collectionType??s().item_type));$e(M,{get item(){return s()},get altText(){return L(Ae)}})},G=(M,Ae)=>{{var He=J=>{n(J,s,()=>s().recording_name)};I(M,J=>{s().img_url==null&&s().last_fm_img_url==null&&J(He)},Ae)}};I(Ce,M=>{s().img_url!=null||s().last_fm_img_url!=null?M(Oe):M(G,!1)})}m(re,le)}),m(R,ae)},W=(R,ae)=>{{var he=le=>{$e(le,{get item(){return s()},get altText(){return s().recording_name}})},re=(le,Ce)=>{{var Oe=G=>{$e(G,{get item(){return s()},get altText(){return s().episode_title}})};I(le,G=>{h().includes("episode")&&G(Oe)},Ce)}};I(R,le=>{h().includes("recording")&&E()=="view"?le(he):le(re,!1)},ae)}};I(x,R=>{h().includes("recording")&&E()=="edit"?R(w):R(W,!1)},A)}};I(_,x=>{h().includes("release_group")&&E()=="view"?x(X):x(ve,!1)},P)}};I(S,_=>{h().includes("release_group")&&E()=="edit"?_(C):_(q,!1)})}m(p,k)},i=(p,s=Q,h=Q,E=Q)=>{var k=pe(),S=Z(k);{var C=_=>{var P=Ha(),X=B(P);mt(X,{get display(){return u()},get itemType(){return h()}});var ve=be(X,2);{var x=w=>{var W=Za(),R=B(W,!0);z(W),Y(()=>{De(W,"href",`https://musicbrainz.org/artist/${s().artist_mbid}`),me(R,s().artist_name)}),m(w,W)},A=w=>{var W=Be();Y(()=>me(W,s().artist_name??s().user_added_artist_name)),m(w,W)};I(ve,w=>{s().artist_mbid&&s().artist_mbid.length>0&&E()=="view"?w(x):w(A,!1)})}z(P),m(_,P)},q=(_,P)=>{{var X=x=>{var A=Va(),w=Z(A);mt(w,{get display(){return u()},get itemType(){return h()}});var W=be(w,2),R=B(W);{var ae=G=>{var M=ja(),Ae=B(M,!0);z(M),Y(()=>{De(M,"href",`https://musicbrainz.org/release-group/${s().release_group_mbid}`),me(Ae,s().release_group_name)}),m(G,M)},he=G=>{var M=Be();Y(()=>me(M,s().release_group_name??s().user_added_release_group_name)),m(G,M)};I(R,G=>{s().release_group_mbid&&s().release_group_mbid.length>0&&E()=="view"?G(ae):G(he,!1)})}z(W);var re=be(W,2),le=B(re);{var Ce=G=>{var M=Ya(),Ae=B(M,!0);z(M),Y(()=>{De(M,"href",`https://musicbrainz.org/artist/${s().artist_mbid}`),me(Ae,s().artist_name)}),m(G,M)},Oe=G=>{var M=Be();Y(()=>me(M,s().artist_name??s().user_added_artist_name)),m(G,M)};I(le,G=>{s().artist_mbid&&s().artist_mbid.length>0&&E()=="view"?G(Ce):G(Oe,!1)})}z(re),m(x,A)},ve=(x,A)=>{{var w=R=>{var ae=Xa(),he=Z(ae);mt(he,{get display(){return u()},get itemType(){return h()}});var re=be(he,2),le=B(re);{var Ce=J=>{var ie=qa(),Qe=B(ie,!0);z(ie),Y(()=>{De(ie,"href",`https://musicbrainz.org/recording/${s().recording_mbid}`),me(Qe,s().recording_name)}),m(J,ie)},Oe=J=>{var ie=Be();Y(()=>me(ie,s().recording_name??s().user_added_recording_name)),m(J,ie)};I(le,J=>{s().recording_mbid&&s().recording_mbid.length>0&&E()=="view"?J(Ce):J(Oe,!1)})}z(re);var G=be(re,2),M=B(G);{var Ae=J=>{var ie=Ka(),Qe=B(ie,!0);z(ie),Y(()=>{De(ie,"href",`https://musicbrainz.org/artist/${s().artist_mbid}`),me(Qe,s().artist_name)}),m(J,ie)},He=J=>{var ie=Be();Y(()=>me(ie,s().artist_name??s().user_added_artist_name)),m(J,ie)};I(M,J=>{s().artist_mbid&&s().artist_mbid.length>0&&E()=="view"?J(Ae):J(He,!1)})}z(G),m(R,ae)},W=(R,ae)=>{{var he=re=>{var le=$a(),Ce=Z(le);mt(Ce,{get display(){return u()},get itemType(){return h()}});var Oe=be(Ce,2),G=B(Oe);{var M=ye=>{var ge=Ja(),Pt=B(ge,!0);z(ge),Y(()=>{De(ge,"href",s().user_added_listen_url),me(Pt,s().episode_title??s().user_added_episode_title)}),m(ye,ge)},Ae=ye=>{var ge=Be();Y(()=>me(ge,s().episode_title??s().user_added_episode_title)),m(ye,ge)};I(G,ye=>{s().user_added_listen_url&&s().user_added_listen_url.length>0&&ln(s().user_added_listen_url)&&E()=="view"?ye(M):ye(Ae,!1)})}z(Oe);var He=be(Oe,2),J=B(He);{var ie=ye=>{var ge=Qa(),Pt=B(ge,!0);z(ge),Y(()=>{De(ge,"href",`https://musicbrainz.org/artist/${s().artist_mbid}`),me(Pt,s().artist_name)}),m(ye,ge)},Qe=ye=>{var ge=Be();Y(()=>me(ge,s().artist_name??s().user_added_artist_name)),m(ye,ge)};I(J,ye=>{s().artist_mbid&&s().artist_mbid.length>0&&E()=="view"?ye(ie):ye(Qe,!1)})}z(He),m(re,le)};I(R,re=>{h().includes("episode")&&re(he)},ae)}};I(x,R=>{h().includes("recording")?R(w):R(W,!1)},A)}};I(_,x=>{h().includes("release_group")?x(X):x(ve,!1)},P)}};I(S,_=>{h().includes("artist")?_(C):_(q,!1)})}m(p,k)},o=p=>{var s=pe(),h=Z(s);{var E=k=>{var S=pe(),C=Z(S);Ft(C,17,()=>L(ee),ar,(q,_)=>{var P=ti();m(q,P)}),m(k,S)};I(h,k=>{L(N)&&k(E)})}m(p,s)};let l=Ye(t,"collectionContents",31,()=>je([])),d=Ye(t,"deletedItems",27,()=>je([])),v=Ye(t,"collectionStatus",3,"public"),u=Ye(t,"showTags",3,!0),g=Ye(t,"imgPromise",11,null);const c={grid:["media-grid","media-grid-item"],list:["media-list","media-list-item"],"condensed-grid":["media-grid-condensed","media-grid-item"]};function f(p,s){let h="";return s.includes("artist")?h=p.artistName:s.includes("release_group")?h=`${p.release_group_name} by ${p.artist_name}`:s.includes("recording")&&(h=`${p.recording_name} by ${p.artist_name}`),h}function y(p,s){let h="";return s.includes("release_group")?h=`${p.release_group_name}" by ${p.artist_name}`:s.includes("recording")&&(h=`"${p.recording_name}" by ${p.artist_name}`),h}let b=$r(je(l()));en(()=>{Mt(b,je(l()))});const D=300;function O(p){Mt(b,je(p.detail.items))}function T(p){const{items:s}=p.detail;l(s)}function H(p){Mt(b,je(L(b).filter(s=>s!=p))),p.inserted_at&&(p.item_position=null,d().push(p));for(const s of L(b)){const h=L(b).indexOf(s);s.id=h,s.item_position=h}l(L(b))}const N=ut(()=>t.mode=="view"&&t.layout=="grid"&&l().length<6||t.layout=="condensed-grid"&&l().length<4);function $(p,s){const h=[];if(!L(N)||s=="list")return h;const E=s=="grid"?p.length%6:p.length%4;let k=0;for(;k<E;)h.push(k),k++;return h}const ee=ut(()=>$(L(b),t.layout));var te=pe(),j=Z(te);rr(j,()=>l().length>0,null,p=>{var s=pe(),h=Z(s);{var E=S=>{var C=ni();Ft(C,29,()=>L(b),q=>q.id,(q,_)=>{var P=ri(),X=B(P);a(X,()=>L(_),()=>L(_).item_type??t.collectionType,()=>t.mode);var ve=be(X,2),x=B(ve);i(x,()=>L(_),()=>L(_).item_type??t.collectionType,()=>t.mode),z(ve);var A=be(ve,2);r(A,()=>L(_),()=>L(_).recording_name),z(P),Y(w=>{De(P,"aria-label",w),ct(P,1,ft(c[t.layout][1]),"svelte-917sxt")},[()=>f(L(_),L(_).item_type??t.collectionType)]),vn(P,()=>gn,()=>({duration:D})),m(q,P)}),z(C),ir(C,(q,_)=>Gt==null?void 0:Gt(q,_),()=>({items:L(b),flipDurationMs:D})),Y(()=>ct(C,1,ft(c[t.layout][0]),"svelte-917sxt")),or("consider",C,O),or("finalize",C,T),m(S,C)},k=(S,C)=>{{var q=_=>{var P=ii(),X=B(P);Ft(X,17,l,ar,(x,A)=>{var w=ai(),W=B(w);a(W,()=>L(A),()=>L(A).item_type??t.collectionType,()=>t.mode);var R=be(W,2),ae=B(R);i(ae,()=>L(A),()=>L(A).item_type??t.collectionType,()=>t.mode),z(R);var he=be(R,2);za(he,()=>L(A),v),z(w),Y(()=>ct(w,1,ft(c[t.layout][1]),"svelte-917sxt")),m(x,w)});var ve=be(X,2);o(ve),z(P),Y(()=>ct(P,1,ft(c[t.layout][0]),"svelte-917sxt")),m(_,P)};I(S,_=>{t.mode=="view"&&_(q)},C)}};I(h,S=>{t.mode=="edit"?S(E):S(k,!1)})}m(p,s)}),m(e,te),Ot()}rn(["click"]);export{mt as C,Ei as G,sr as k};
