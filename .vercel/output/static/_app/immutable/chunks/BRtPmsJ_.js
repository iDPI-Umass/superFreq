var Et=Object.defineProperty;var ut=e=>{throw TypeError(e)};var Ot=(e,t,o)=>t in e?Et(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o;var c=(e,t,o)=>Ot(e,typeof t!="symbol"?t+"":t,o),ct=(e,t,o)=>t.has(e)||ut("Cannot "+o);var w=(e,t,o)=>(ct(e,t,"read from private field"),o?o.call(e):t.get(e)),C=(e,t,o)=>t.has(e)?ut("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,o);var ht=(e,t,o)=>(ct(e,t,"access private method"),o);import"./CWj6FrbW.js";import{e as k,g as r,a as ft,s as vt,p as st,f as y,b as nt,a4 as gt,c as K,a1 as X,r as R,t as rt}from"./DKxP8oaF.js";import{d as b,a as p,t as it}from"./DCT9fmD9.js";import{i as M}from"./XPA7DDzn.js";import{s as F}from"./BpB5Zjcp.js";import{d as T}from"./DubPOQGL.js";import{p as s,s as _t,r as wt}from"./C6N4_jbr.js";import{C as St,u as yt,e as Nt,S as At,g as bt,f as It,h as xt,j as Ct,n as U,d as _,P as Kt,m as W,k as Rt,l as Pt,F as Mt,o as Tt}from"./B6PuFPFt.js";import{p as mt}from"./DIWzF7VF.js";var D,B;class Dt{constructor(t){c(this,"opts");C(this,D,ft(null));C(this,B,ft(null));this.opts=t}get contentNode(){return r(w(this,D))}set contentNode(t){vt(w(this,D),mt(t))}get triggerNode(){return r(w(this,B))}set triggerNode(t){vt(w(this,B),mt(t))}toggleOpen(){this.opts.open.current=!this.opts.open.current}handleClose(){this.opts.open.current&&(this.opts.open.current=!1)}}D=new WeakMap,B=new WeakMap;var Y,Ft,Z;class Bt{constructor(t,o){C(this,Y);c(this,"opts");c(this,"root");C(this,Z,k(()=>({id:this.opts.id.current,"aria-haspopup":"dialog","aria-expanded":It(this.root.opts.open.current),"data-state":bt(this.root.opts.open.current),"aria-controls":ht(this,Y,Ft).call(this),"data-popover-trigger":"",disabled:this.opts.disabled.current,onkeydown:this.onkeydown,onclick:this.onclick})));this.opts=t,this.root=o,yt({...t,onRefChange:i=>{this.root.triggerNode=i}}),this.onclick=this.onclick.bind(this),this.onkeydown=this.onkeydown.bind(this)}onclick(t){this.opts.disabled.current||t.button===0&&this.root.toggleOpen()}onkeydown(t){this.opts.disabled.current||(t.key===Nt||t.key===At)&&(t.preventDefault(),this.root.toggleOpen())}get props(){return r(w(this,Z))}}Y=new WeakSet,Ft=function(){var t,o;if(this.root.opts.open.current&&((t=this.root.contentNode)!=null&&t.id))return(o=this.root.contentNode)==null?void 0:o.id},Z=new WeakMap;var $,tt;class jt{constructor(t,o){c(this,"opts");c(this,"root");c(this,"onInteractOutside",t=>{this.opts.onInteractOutside.current(t),!(t.defaultPrevented||!xt(t.target)||t.target.closest("[data-popover-trigger]")===this.root.triggerNode)&&this.root.handleClose()});c(this,"onEscapeKeydown",t=>{this.opts.onEscapeKeydown.current(t),!t.defaultPrevented&&this.root.handleClose()});c(this,"onCloseAutoFocus",t=>{var o;this.opts.onCloseAutoFocus.current(t),!t.defaultPrevented&&(t.preventDefault(),(o=this.root.triggerNode)==null||o.focus())});C(this,$,k(()=>({open:this.root.opts.open.current})));C(this,tt,k(()=>({id:this.opts.id.current,tabindex:-1,"data-state":bt(this.root.opts.open.current),"data-popover-content":"",style:{pointerEvents:"auto"}})));c(this,"popperProps",{onInteractOutside:this.onInteractOutside,onEscapeKeydown:this.onEscapeKeydown,onCloseAutoFocus:this.onCloseAutoFocus});this.opts=t,this.root=o,yt({...t,deps:()=>this.root.opts.open.current,onRefChange:i=>{this.root.contentNode=i}})}get snippetProps(){return r(w(this,$))}get props(){return r(w(this,tt))}}$=new WeakMap,tt=new WeakMap;const at=new St("Popover.Root");function qt(e){return at.set(new Dt(e))}function Vt(e){return new Bt(e,at.get())}function zt(e){return new jt(e,at.get())}var Gt=it("<div><div><!></div></div>"),Ht=it("<div><div><!></div></div>");function oe(e,t){st(t,!0);let o=s(t,"ref",15,null),i=s(t,"id",19,Ct),h=s(t,"forceMount",3,!1),j=s(t,"onCloseAutoFocus",3,U),E=s(t,"onEscapeKeydown",3,U),A=s(t,"onInteractOutside",3,U),I=s(t,"trapFocus",3,!0),O=s(t,"preventScroll",3,!1),pt=wt(t,["$$slots","$$events","$$legacy","child","children","ref","id","forceMount","onCloseAutoFocus","onEscapeKeydown","onInteractOutside","trapFocus","preventScroll"]);const d=zt({id:_.with(()=>i()),ref:_.with(()=>o(),n=>o(n)),onInteractOutside:_.with(()=>A()),onEscapeKeydown:_.with(()=>E()),onCloseAutoFocus:_.with(()=>j())}),q=k(()=>W(pt,d.props));var V=b(),et=y(V);{var P=n=>{Kt(n,_t(()=>r(q),()=>d.popperProps,{get enabled(){return d.root.opts.open.current},get id(){return i()},get trapFocus(){return I()},get preventScroll(){return O()},loop:!0,forceMount:!0,popper:(ot,l)=>{let dt=()=>l==null?void 0:l().props,G=()=>l==null?void 0:l().wrapperProps;var v=b();const H=k(()=>W(dt(),{style:Pt("popover")}));var J=y(v);{var L=m=>{var g=b(),S=y(g),a=gt(()=>({props:r(H),wrapperProps:G(),...d.snippetProps}));F(S,()=>t.child,()=>r(a)),p(m,g)},Q=m=>{var g=Gt();let S;var a=K(g);let u;var N=K(a);F(N,()=>t.children??X),R(a),R(g),rt(()=>{S=T(g,S,{...G()}),u=T(a,u,{...r(H)})}),p(m,g)};M(J,m=>{t.child?m(L):m(Q,!1)})}p(ot,v)},$$slots:{popper:!0}}))},f=(n,z)=>{{var ot=l=>{Rt(l,_t(()=>r(q),()=>d.popperProps,{get present(){return d.root.opts.open.current},get id(){return i()},get trapFocus(){return I()},get preventScroll(){return O()},loop:!0,forceMount:!1,popper:(G,v)=>{let H=()=>v==null?void 0:v().props,J=()=>v==null?void 0:v().wrapperProps;var L=b();const Q=k(()=>W(H(),{style:Pt("popover")}));var m=y(L);{var g=a=>{var u=b(),N=y(u),x=gt(()=>({props:r(Q),wrapperProps:J(),...d.snippetProps}));F(N,()=>t.child,()=>r(x)),p(a,u)},S=a=>{var u=Ht();let N;var x=K(u);let lt;var kt=K(x);F(kt,()=>t.children??X),R(x),R(u),rt(()=>{N=T(u,N,{...J()}),lt=T(x,lt,{...r(Q)})}),p(a,u)};M(m,a=>{t.child?a(g):a(S,!1)})}p(G,L)},$$slots:{popper:!0}}))};M(n,l=>{h()||l(ot)},z)}};M(et,n=>{h()?n(P):n(f,!1)})}p(e,V),nt()}var Jt=it("<button><!></button>");function re(e,t){st(t,!0);let o=s(t,"id",19,Ct),i=s(t,"ref",15,null),h=s(t,"type",3,"button"),j=s(t,"disabled",3,!1),E=wt(t,["$$slots","$$events","$$legacy","children","child","id","ref","type","disabled"]);const A=Vt({id:_.with(()=>o()),ref:_.with(()=>i(),O=>i(O)),disabled:_.with(()=>!!j())}),I=k(()=>W(E,A.props,{type:h()}));Mt(e,{get id(){return o()},children:(O,pt)=>{var d=b(),q=y(d);{var V=P=>{var f=b(),n=y(f);F(n,()=>t.child,()=>({props:r(I)})),p(P,f)},et=P=>{var f=Jt();let n;var z=K(f);F(z,()=>t.children??X),R(f),rt(()=>n=T(f,n,{...r(I)})),p(P,f)};M(q,P=>{t.child?P(V):P(et,!1)})}p(O,d)},$$slots:{default:!0}}),nt()}function se(e,t){st(t,!0);let o=s(t,"open",15,!1),i=s(t,"onOpenChange",3,U);qt({open:_.with(()=>o(),h=>{o(h),i()(h)})}),Tt(e,{children:(h,j)=>{var E=b(),A=y(E);F(A,()=>t.children??X),p(h,E)},$$slots:{default:!0}}),nt()}export{re as P,oe as a,se as b};
