var Xt=Object.defineProperty;var Gt=e=>{throw TypeError(e)};var Zt=(e,t,a)=>t in e?Xt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a;var L=(e,t,a)=>Zt(e,typeof t!="symbol"?t+"":t,a),Vt=(e,t,a)=>t.has(e)||Gt("Cannot "+a);var c=(e,t,a)=>(Vt(e,t,"read from private field"),a?a.call(e):t.get(e)),S=(e,t,a)=>t.has(e)?Gt("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,a);var bt=(e,t,a)=>(Vt(e,t,"access private method"),a);import"./CWj6FrbW.js";import{e as T,g as n,a as zt,u as $t,s as Nt,p as mt,f as _,b as gt,c as j,a1 as ct,r as z,t as Y,d as i,n as $}from"./DKxP8oaF.js";import{s as te}from"./d8TzcK2t.js";import{i as rt}from"./XPA7DDzn.js";import{d as at,a as o,t as k,b as nt}from"./DCT9fmD9.js";import{c as tt}from"./DqG9MKSW.js";import{a as ee}from"./Pq-04fzQ.js";import{d as It,r as y,b as P}from"./DubPOQGL.js";import{p as Ft}from"./DIWzF7VF.js";import{p,r as St}from"./C6N4_jbr.js";import{e as re}from"./B9Qn1ecM.js";import{P as ae}from"./BNhe8YCt.js";import{M as Lt}from"./DSfPsCr9.js";import{T as Bt}from"./WGsPBJr4.js";import{s as st}from"./BpB5Zjcp.js";import{C as se,u as At,p as Ht,q as Ot,r as ie,w as Ut,S as oe,e as ne,s as le,t as de,v as ue,x as jt,j as Ct,n as ce,d as x,m as Rt}from"./B6PuFPFt.js";import{u as he}from"./DyIQmqqD.js";const ve="data-tabs-root",pe="data-tabs-list",Kt="data-tabs-trigger",me="data-tabs-content";var vt,_t;class ge{constructor(t){L(this,"opts");L(this,"rovingFocusGroup");S(this,vt,zt(Ft([])));L(this,"valueToTriggerId",new jt);L(this,"valueToContentId",new jt);S(this,_t,T(()=>({id:this.opts.id.current,"data-orientation":Ot(this.opts.orientation.current),[ve]:""})));this.opts=t,At(t),this.rovingFocusGroup=he({candidateAttr:Kt,rootNodeId:this.opts.id,loop:this.opts.loop,orientation:this.opts.orientation})}get triggerIds(){return n(c(this,vt))}set triggerIds(t){Nt(c(this,vt),Ft(t))}registerTrigger(t,a){return this.triggerIds.push(t),this.valueToTriggerId.set(a,t),()=>{this.triggerIds=this.triggerIds.filter(l=>l!==t),this.valueToTriggerId.delete(a)}}registerContent(t,a){return this.valueToContentId.set(a,t),()=>{this.valueToContentId.delete(a)}}setValue(t){this.opts.value.current=t}get props(){return n(c(this,_t))}}vt=new WeakMap,_t=new WeakMap;var xt,Tt;class be{constructor(t,a){L(this,"opts");L(this,"root");S(this,xt,T(()=>this.root.opts.disabled.current));S(this,Tt,T(()=>({id:this.opts.id.current,role:"tablist","aria-orientation":ie(this.root.opts.orientation.current),"data-orientation":Ot(this.root.opts.orientation.current),[pe]:"","data-disabled":Ht(n(c(this,xt)))})));this.opts=t,this.root=a,At(t)}get props(){return n(c(this,Tt))}}xt=new WeakMap,Tt=new WeakMap;var lt,et,dt,wt,ut,ft,yt;class fe{constructor(t,a){S(this,ut);L(this,"opts");L(this,"root");S(this,lt,T(()=>this.root.opts.value.current===this.opts.value.current));S(this,et,T(()=>this.opts.disabled.current||this.root.opts.disabled.current));S(this,dt,zt(0));S(this,wt,T(()=>this.root.valueToContentId.get(this.opts.value.current)));S(this,yt,T(()=>({id:this.opts.id.current,role:"tab","data-state":Wt(n(c(this,lt))),"data-value":this.opts.value.current,"data-orientation":Ot(this.root.opts.orientation.current),"data-disabled":Ht(n(c(this,et))),"aria-selected":de(n(c(this,lt))),"aria-controls":n(c(this,wt)),[Kt]:"",disabled:le(n(c(this,et))),tabindex:n(c(this,dt)),onclick:this.onclick,onfocus:this.onfocus,onkeydown:this.onkeydown})));this.opts=t,this.root=a,At(t),Ut([()=>this.opts.id.current,()=>this.opts.value.current],([l,g])=>this.root.registerTrigger(l,g)),$t(()=>{this.root.triggerIds.length,n(c(this,lt))||!this.root.opts.value.current?Nt(c(this,dt),0):Nt(c(this,dt),-1)}),this.onfocus=this.onfocus.bind(this),this.onclick=this.onclick.bind(this),this.onkeydown=this.onkeydown.bind(this)}onfocus(t){this.root.opts.activationMode.current!=="automatic"||n(c(this,et))||bt(this,ut,ft).call(this)}onclick(t){n(c(this,et))||bt(this,ut,ft).call(this)}onkeydown(t){if(!n(c(this,et))){if(t.key===oe||t.key===ne){t.preventDefault(),bt(this,ut,ft).call(this);return}this.root.rovingFocusGroup.handleKeydown(this.opts.ref.current,t)}}get props(){return n(c(this,yt))}}lt=new WeakMap,et=new WeakMap,dt=new WeakMap,wt=new WeakMap,ut=new WeakSet,ft=function(){this.root.opts.value.current!==this.opts.value.current&&this.root.setValue(this.opts.value.current)},yt=new WeakMap;var pt,Pt,kt;class _e{constructor(t,a){L(this,"opts");L(this,"root");S(this,pt,T(()=>this.root.opts.value.current===this.opts.value.current));S(this,Pt,T(()=>this.root.valueToTriggerId.get(this.opts.value.current)));S(this,kt,T(()=>({id:this.opts.id.current,role:"tabpanel",hidden:ue(!n(c(this,pt))),tabindex:0,"data-value":this.opts.value.current,"data-state":Wt(n(c(this,pt))),"aria-labelledby":n(c(this,Pt)),[me]:""})));this.opts=t,this.root=a,At(t),Ut([()=>this.opts.id.current,()=>this.opts.value.current],([l,g])=>this.root.registerContent(l,g))}get props(){return n(c(this,kt))}}pt=new WeakMap,Pt=new WeakMap,kt=new WeakMap;const qt=new se("Tabs.Root");function xe(e){return qt.set(new ge(e))}function Te(e){return new fe(e,qt.get())}function we(e){return new be(e,qt.get())}function ye(e){return new _e(e,qt.get())}function Wt(e){return e?"active":"inactive"}var Pe=k("<div><!></div>");function ke(e,t){mt(t,!0);let a=p(t,"id",19,Ct),l=p(t,"ref",15,null),g=p(t,"value",15,""),A=p(t,"onValueChange",3,ce),N=p(t,"orientation",3,"horizontal"),F=p(t,"loop",3,!0),q=p(t,"activationMode",3,"automatic"),O=p(t,"disabled",3,!1),W=St(t,["$$slots","$$events","$$legacy","id","ref","value","onValueChange","orientation","loop","activationMode","disabled","children","child"]);const d=xe({id:x.with(()=>a()),value:x.with(()=>g(),m=>{g(m),A()(m)}),orientation:x.with(()=>N()),loop:x.with(()=>F()),activationMode:x.with(()=>q()),disabled:x.with(()=>O()),ref:x.with(()=>l(),m=>l(m))}),s=T(()=>Rt(W,d.props));var r=at(),v=_(r);{var C=m=>{var I=at(),U=_(I);st(U,()=>t.child,()=>({props:n(s)})),o(m,I)},H=m=>{var I=Pe();let U;var R=j(I);st(R,()=>t.children??ct),z(I),Y(()=>U=It(I,U,{...n(s)})),o(m,I)};rt(v,m=>{t.child?m(C):m(H,!1)})}o(e,r),gt()}var Ie=k("<div><!></div>");function Dt(e,t){mt(t,!0);let a=p(t,"id",19,Ct),l=p(t,"ref",15,null),g=St(t,["$$slots","$$events","$$legacy","children","child","id","ref","value"]);const A=ye({value:x.with(()=>t.value),id:x.with(()=>a()),ref:x.with(()=>l(),d=>l(d))}),N=T(()=>Rt(g,A.props));var F=at(),q=_(F);{var O=d=>{var s=at(),r=_(s);st(r,()=>t.child,()=>({props:n(N)})),o(d,s)},W=d=>{var s=Ie();let r;var v=j(s);st(v,()=>t.children??ct),z(s),Y(()=>r=It(s,r,{...n(N)})),o(d,s)};rt(q,d=>{t.child?d(O):d(W,!1)})}o(e,F),gt()}var Se=k("<div><!></div>");function Ae(e,t){mt(t,!0);let a=p(t,"id",19,Ct),l=p(t,"ref",15,null),g=St(t,["$$slots","$$events","$$legacy","child","children","id","ref"]);const A=we({id:x.with(()=>a()),ref:x.with(()=>l(),d=>l(d))}),N=T(()=>Rt(g,A.props));var F=at(),q=_(F);{var O=d=>{var s=at(),r=_(s);st(r,()=>t.child,()=>({props:n(N)})),o(d,s)},W=d=>{var s=Se();let r;var v=j(s);st(v,()=>t.children??ct),z(s),Y(()=>r=It(s,r,{...n(N)})),o(d,s)};rt(q,d=>{t.child?d(O):d(W,!1)})}o(e,F),gt()}var Ce=k("<button><!></button>");function Mt(e,t){mt(t,!0);let a=p(t,"disabled",3,!1),l=p(t,"id",19,Ct),g=p(t,"type",3,"button"),A=p(t,"ref",15,null),N=St(t,["$$slots","$$events","$$legacy","child","children","disabled","id","type","value","ref"]);const F=Te({id:x.with(()=>l()),disabled:x.with(()=>a()??!1),value:x.with(()=>t.value),ref:x.with(()=>A(),r=>A(r))}),q=T(()=>Rt(N,F.props,{type:g()}));var O=at(),W=_(O);{var d=r=>{var v=at(),C=_(v);st(C,()=>t.child,()=>({props:n(q)})),o(r,v)},s=r=>{var v=Ce();let C;var H=j(v);st(H,()=>t.children??ct),z(v),Y(()=>C=It(v,C,{...n(q)})),o(r,v)};rt(W,r=>{t.child?r(d):r(s,!1)})}o(e,O),gt()}var Re=k('<div class="label-group"><label class="text-label" for="release-group-name">album name</label> <span class="label-explainer">* required</span></div> <input class="text" id="release-group-name" name="release-group-name" type="text" placeholder="album name" required>',1),qe=k('<div class="label-group"><label class="text-label" for="release-group-name">album name</label></div> <input class="text" id="release-group-name" name="release-group-name" type="text" placeholder="album name">',1),Be=k('<div class="label-group"><label class="text-label" for="recording-name">track name</label> <span class="label-explainer">* required</span></div> <input class="text" id="recording-name" name="recording-name" type="text" placeholder="track title" required>',1),De=k('<div class="label-group"><label class="text-label" for="episode">episode / mix title</label> <span class="label-explainer">* required</span></div> <input class="text" id="episode" name="episode" type="text" placeholder="episode" required> <label class="text-label" for="show">show name / mix series</label> <input class="text" id="show" name="show" type="text" placeholder="show">',1),Me=k('<form method="POST" action="?/post" class="vertical"><input id="item-type" name="item-type" type="hidden"> <input id="artist-mbid" name="artist-mbid" type="hidden"> <input id="release-group-mbid" name="release-group-mbid" type="hidden"> <input id="recording-mbid" name="recording-mbid" type="hidden"> <input id="remixer-artist-mbid" name="remixer-artist-mbid" type="hidden"> <input id="release-date" name="release-date" type="hidden"> <input id="label" name="label" type="hidden"> <input id="img-url" name="img-url" type="hidden"> <input id="last-fm-img-url" name="last-fm-img-url" type="hidden"> <div class="tooltip-group"><label class="text-label" for="listen-url">listen link</label> <!></div> <input class="text" id="listen-url" name="listen-url" type="url" placeholder="paste link"> <div class="label-group"><label class="text-label" for="artist-name"> </label> <span class="label-explainer">* required</span></div> <input class="text" id="artist-name" name="artist-name" type="text" placeholder="artist name" required> <!> <!> <!> <label class="text-label" for="post-text">thoughts</label> <textarea cols="1" rows="5" id="post-text" name="post-text" spellcheck="true" placeholder="Some prompts: What do you like about this? Does it remind you of something? Are you looking for more like it?"></textarea> <button class="standard" formaction="?/post" type="submit">submit</button></form>'),Ne=k("<span>what are you listening to?</span>"),Fe=k("<!> <!> <!>",1),Oe=k('<div class="search svelte-15h1nys"><!> <!></div> <!>',1),Ee=k('<div class="search svelte-15h1nys"><!> <!></div> <!>',1),Ge=k("<!> <!> <!> <!>",1),Ve=k('<div class="border svelte-15h1nys"><!> <!></div>');function ir(e,t){mt(t,!0);const a=(d,s=ct,r=ct)=>{var v=Me(),C=j(v);y(C);var H=i(C,2);y(H);var m=i(H,2);y(m);var I=i(m,2);y(I);var U=i(I,2);y(U);var R=i(U,2);y(R);var E=i(R,2);y(E);var G=i(E,2);y(G);var it=i(G,2);y(it);var B=i(it,2),D=i(j(B),2);Bt(D,{children:(h,b)=>{$();var f=nt("A link from Bandcamp, Soundcloud, or YouTube can be embedded in your post.");o(h,f)}}),z(B);var M=i(B,4),J=j(M),V=j(J,!0);z(J),$(2),z(M);var u=i(M,2);y(u);var K=i(u,2);{var Q=h=>{var b=Re(),f=i(_(b),2);y(f),Y(()=>{var w;return P(f,((w=r())==null?void 0:w.release_group_name)??null)}),o(h,b)},ot=(h,b)=>{{var f=w=>{var X=qe(),Z=i(_(X),2);y(Z),Y(()=>{var ht;return P(Z,((ht=r())==null?void 0:ht.release_group_name)??null)}),o(w,X)};rt(h,w=>{s()=="recording"&&w(f)},b)}};rt(K,h=>{s()=="release_group"?h(Q):h(ot,!1)})}var Et=i(K,2);{var Yt=h=>{var b=Be(),f=i(_(b),2);y(f),Y(()=>{var w;return P(f,((w=r())==null?void 0:w.recording_name)??null)}),o(h,b)};rt(Et,h=>{s()=="recording"&&h(Yt)})}var Jt=i(Et,2);{var Qt=h=>{var b=De(),f=i(_(b),2);y(f);var w=i(f,4);y(w),Y(()=>{var X,Z;P(f,((X=r())==null?void 0:X.episode_name)??null),P(w,((Z=r())==null?void 0:Z.show_title)??null)}),o(h,b)};rt(Jt,h=>{s()=="episode"&&h(Qt)})}$(6),z(v),ee(v,h=>{var b;return(b=re)==null?void 0:b(h)}),Y(()=>{var h,b,f,w,X,Z,ht;P(C,s()),P(H,((h=r())==null?void 0:h.artist_mbid)??null),P(m,((b=r())==null?void 0:b.release_group_mbid)??null),P(I,((f=r())==null?void 0:f.recording_mbid)??null),P(U,((w=r())==null?void 0:w.remixer_artist_mbid)??null),P(R,((X=r())==null?void 0:X.release_date)??null),P(E,((Z=r())==null?void 0:Z.label)??null),P(G,n(N)),P(it,n(F)),te(V,s()=="episode"?"host / dj":"artist name"),P(u,((ht=r())==null?void 0:ht.artist_name)??null)}),o(d,v)};let l=p(t,"addedItem",31,()=>Ft({})),g=p(t,"newItemAdded",15,!1),A=p(t,"imgPromise",15,null),N=T(()=>l().img_url),F=T(()=>l().last_fm_img_url);var q=Ve(),O=j(q);ae(O,{headerText:s=>{var r=Ne();o(s,r)}});var W=i(O,2);tt(W,()=>ke,(d,s)=>{s(d,{value:"album",children:(r,v)=>{var C=Ge(),H=_(C);tt(H,()=>Ae,(R,E)=>{E(R,{children:(G,it)=>{var B=Fe(),D=_(B);tt(D,()=>Mt,(V,u)=>{u(V,{value:"album",children:(K,Q)=>{$();var ot=nt("album");o(K,ot)},$$slots:{default:!0}})});var M=i(D,2);tt(M,()=>Mt,(V,u)=>{u(V,{value:"track",children:(K,Q)=>{$();var ot=nt("track");o(K,ot)},$$slots:{default:!0}})});var J=i(M,2);tt(J,()=>Mt,(V,u)=>{u(V,{value:"mix",children:(K,Q)=>{$();var ot=nt("episode / mix");o(K,ot)},$$slots:{default:!0}})}),o(G,B)},$$slots:{default:!0}})});var m=i(H,2);tt(m,()=>Dt,(R,E)=>{E(R,{value:"album",children:(G,it)=>{var B=Oe(),D=_(B),M=j(D);Lt(M,{searchCategory:"release_groups",searchButtonText:"search",searchPlaceholder:"look up an album",mode:"single",limit:"10",get addedItems(){return l()},set addedItems(u){l(u)},get newItemAdded(){return g()},set newItemAdded(u){g(u)},get imgPromise(){return A()},set imgPromise(u){A(u)}});var J=i(M,2);Bt(J,{children:(u,K)=>{$();var Q=nt(`Search for an album to autofill this form. If it's not coming up search: "album name" artist (using the quotation marks).`);o(u,Q)}}),z(D);var V=i(D,2);a(V,()=>"release_group",l),o(G,B)},$$slots:{default:!0}})});var I=i(m,2);tt(I,()=>Dt,(R,E)=>{E(R,{value:"track",children:(G,it)=>{var B=Ee(),D=_(B),M=j(D);Lt(M,{searchCategory:"recordings",searchButtonText:"search",searchPlaceholder:"look up a track",mode:"single",get addedItems(){return l()},set addedItems(u){l(u)},get newItemAdded(){return g()},set newItemAdded(u){g(u)},get imgPromise(){return A()},set imgPromise(u){A(u)}});var J=i(M,2);Bt(J,{children:(u,K)=>{$();var Q=nt(`Search for a track to autofill this form. If it's not coming up search: "track name" artist (using the quotation marks).`);o(u,Q)}}),z(D);var V=i(D,2);a(V,()=>"recording",l),o(G,B)},$$slots:{default:!0}})});var U=i(I,2);tt(U,()=>Dt,(R,E)=>{E(R,{value:"mix",children:(G,it)=>{a(G,()=>"episode",l)},$$slots:{default:!0}})}),o(r,C)},$$slots:{default:!0}})}),z(q),o(e,q),gt()}export{ir as N};
