import"./CWj6FrbW.js";import{p as B,f as g,b as M,c as T,d as G,r as L,g as c,e as b,a1 as I,t as R,n as U}from"./DKxP8oaF.js";import{t as u,a as o,d as j}from"./DCT9fmD9.js";import{C as D,l as E,w as x}from"./mnVZ5n0Q.js";import{i as A}from"./XPA7DDzn.js";import{s as f}from"./DubPOQGL.js";import{p as F}from"./DIWzF7VF.js";import{p as _}from"./C6N4_jbr.js";import{M as H}from"./DSfPsCr9.js";var J=u('<img class="svelte-1qx7hzq">'),K=u('<img alt="loading cover art" class="svelte-1qx7hzq"> <p>Loading cover art.</p>',1),O=u('<div class="mb-search svelte-1qx7hzq"><!></div> <span class="tip">search for album cover to make your profile image</span> <!>',1);function ra(w,e){B(e,!0);const q=(a,r=I,d=I)=>{var t=j(),N=g(t);E(N,l,v=>{var s=K(),S=g(s);f(S,"src",x),U(2),o(v,s)},v=>{var s=J();R(()=>{f(s,"src",r().img_url??r().last_fm_img_url??x),f(s,"alt",`${(r().img_url??r().last_fm_img_url?d():"no available")??""} cover art`)}),o(v,s)}),o(a,t)};let m=_(e,"newItemAdded",15,!1),i=_(e,"avatarItem",31,()=>F({})),l=_(e,"imgPromise",15,null),y=b(()=>e.avatarInfo.artist_name),p=b(()=>e.avatarInfo.release_group_name);var h=O(),n=g(h),P=T(n);H(P,{searchCategory:"release_groups",searchButtonText:"search",searchPlaceholder:"Search for an album",mode:"single",limit:"10",get addedItems(){return i()},set addedItems(a){i(a)},get newItemAdded(){return m()},set newItemAdded(a){m(a)},get imgPromise(){return l()},set imgPromise(a){l(a)}}),L(n);var z=G(n,4);{var k=a=>{D(a,{get item(){return e.avatarInfo},get altText(){return`${e.displayName??""}'s avatar: ${c(p)??""} by ${c(y)??""}`}})},C=(a,r)=>{{var d=t=>{q(t,i,()=>c(p))};A(a,t=>{i()&&m()&&t(d)},r)}};A(z,a=>{e.avatarUrl&&!m()?a(k):a(C,!1)})}o(w,h),M()}export{ra as A};
