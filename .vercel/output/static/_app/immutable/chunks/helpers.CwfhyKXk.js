import{n as _,a as z,s as oe,A as Pe,j as Bt,u as Oe,f as Dt,B as J}from"./updater.C1ZFZVgO.js";import{d as Se,r as Ut,w as qt}from"./entry.a6gQbV6m.js";import{G as ae}from"./scheduler.CXRP0wEC.js";function di(e,t,n=!0){return t===e.length-1?n?e[0]:e[t]:e[t+1]}function vi(e,t,n=!0){return t<=0?n?e[e.length-1]:e[0]:e[t-1]}function Ne(e){return e[e.length-1]}function pi(e,t){return e.map((n,i)=>e[(t+i)%e.length])}let Re="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",Fe=(e=21)=>{let t="",n=e;for(;n--;)t+=Re[Math.random()*64|0];return t};function Ce(){return Fe(10)}function hi(e){return e.reduce((t,n)=>(t[n]=Ce(),t),{})}const se=()=>typeof window<"u";function De(){const e=navigator.userAgentData;return(e==null?void 0:e.platform)??navigator.platform}const ce=e=>se()&&e.test(De().toLowerCase()),ke=()=>se()&&!!navigator.maxTouchPoints,Le=()=>ce(/^mac/)&&!ke(),Ie=()=>ce(/mac|iphone|ipad|ipod/i),Me=()=>Ie()&&!Le(),Rt="data-melt-scroll-lock";function Yt(e,t){if(!e)return;const n=e.style.cssText;return Object.assign(e.style,t),()=>{e.style.cssText=n}}function Be(e,t,n){if(!e)return;const i=e.style.getPropertyValue(t);return e.style.setProperty(t,n),()=>{i?e.style.setProperty(t,i):e.style.removeProperty(t)}}function $e(e){const t=e.getBoundingClientRect().left;return Math.round(t)+e.scrollLeft?"paddingLeft":"paddingRight"}function bi(e){const t=document,n=t.defaultView??window,{documentElement:i,body:o}=t;if(o.hasAttribute(Rt))return _;o.setAttribute(Rt,"");const r=n.innerWidth-i.clientWidth,c=()=>Be(i,"--scrollbar-width",`${r}px`),s=$e(i),u=n.getComputedStyle(o)[s],v=()=>Yt(o,{overflow:"hidden",[s]:`calc(${u} + ${r}px)`}),d=()=>{const{scrollX:p,scrollY:h,visualViewport:m}=n,w=(m==null?void 0:m.offsetLeft)??0,g=(m==null?void 0:m.offsetTop)??0,x=Yt(o,{position:"fixed",overflow:"hidden",top:`${-(h-Math.floor(g))}px`,left:`${-(p-Math.floor(w))}px`,right:"0",[s]:`calc(${u} + ${r}px)`});return()=>{x==null||x(),n.scrollTo(p,h)}},b=[c(),Me()?d():v()];return()=>{b.forEach(p=>p==null?void 0:p()),o.removeAttribute(Rt)}}function mi(e){const{open:t,forceVisible:n,activeTrigger:i}=e;return Se([t,n,i],([o,a,r])=>(o||a)&&r!==null)}function We(e){let t=e.parentElement;for(;z(t)&&!t.hasAttribute("data-portal");)t=t.parentElement;return t||"body"}function gi(e,t){return t!==void 0?t:We(e)==="body"?document.body:null}async function yi(e){const{prop:t,defaultEl:n}=e;if(await Promise.all([oe(1),ae]),t===void 0){n==null||n.focus();return}const i=Pe(t)?t(n):t;if(typeof i=="string"){const o=document.querySelector(i);if(!z(o))return;o.focus()}else z(i)&&i.focus()}const K=Math.min,M=Math.max,gt=Math.round,ht=Math.floor,Y=e=>({x:e,y:e}),je={left:"right",right:"left",bottom:"top",top:"bottom"},Ve={start:"end",end:"start"};function kt(e,t,n){return M(e,K(t,n))}function at(e,t){return typeof e=="function"?e(t):e}function G(e){return e.split("-")[0]}function st(e){return e.split("-")[1]}function le(e){return e==="x"?"y":"x"}function $t(e){return e==="y"?"height":"width"}function tt(e){return["top","bottom"].includes(G(e))?"y":"x"}function Wt(e){return le(tt(e))}function Ke(e,t,n){n===void 0&&(n=!1);const i=st(e),o=Wt(e),a=$t(o);let r=o==="x"?i===(n?"end":"start")?"right":"left":i==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(r=yt(r)),[r,yt(r)]}function He(e){const t=yt(e);return[Lt(e),t,Lt(t)]}function Lt(e){return e.replace(/start|end/g,t=>Ve[t])}function ze(e,t,n){const i=["left","right"],o=["right","left"],a=["top","bottom"],r=["bottom","top"];switch(e){case"top":case"bottom":return n?t?o:i:t?i:o;case"left":case"right":return t?a:r;default:return[]}}function Ue(e,t,n,i){const o=st(e);let a=ze(G(e),n==="start",i);return o&&(a=a.map(r=>r+"-"+o),t&&(a=a.concat(a.map(Lt)))),a}function yt(e){return e.replace(/left|right|bottom|top/g,t=>je[t])}function qe(e){return{top:0,right:0,bottom:0,left:0,...e}}function ue(e){return typeof e!="number"?qe(e):{top:e,right:e,bottom:e,left:e}}function wt(e){const{x:t,y:n,width:i,height:o}=e;return{width:i,height:o,top:n,left:t,right:t+i,bottom:n+o,x:t,y:n}}function Gt(e,t,n){let{reference:i,floating:o}=e;const a=tt(t),r=Wt(t),c=$t(r),s=G(t),u=a==="y",v=i.x+i.width/2-o.width/2,d=i.y+i.height/2-o.height/2,b=i[c]/2-o[c]/2;let p;switch(s){case"top":p={x:v,y:i.y-o.height};break;case"bottom":p={x:v,y:i.y+i.height};break;case"right":p={x:i.x+i.width,y:d};break;case"left":p={x:i.x-o.width,y:d};break;default:p={x:i.x,y:i.y}}switch(st(t)){case"start":p[r]-=b*(n&&u?-1:1);break;case"end":p[r]+=b*(n&&u?-1:1);break}return p}const Ye=async(e,t,n)=>{const{placement:i="bottom",strategy:o="absolute",middleware:a=[],platform:r}=n,c=a.filter(Boolean),s=await(r.isRTL==null?void 0:r.isRTL(t));let u=await r.getElementRects({reference:e,floating:t,strategy:o}),{x:v,y:d}=Gt(u,i,s),b=i,p={},h=0;for(let m=0;m<c.length;m++){const{name:w,fn:g}=c[m],{x,y:E,data:R,reset:N}=await g({x:v,y:d,initialPlacement:i,placement:b,strategy:o,middlewareData:p,rects:u,platform:r,elements:{reference:e,floating:t}});v=x??v,d=E??d,p={...p,[w]:{...p[w],...R}},N&&h<=50&&(h++,typeof N=="object"&&(N.placement&&(b=N.placement),N.rects&&(u=N.rects===!0?await r.getElementRects({reference:e,floating:t,strategy:o}):N.rects),{x:v,y:d}=Gt(u,b,s)),m=-1)}return{x:v,y:d,placement:b,strategy:o,middlewareData:p}};async function jt(e,t){var n;t===void 0&&(t={});const{x:i,y:o,platform:a,rects:r,elements:c,strategy:s}=e,{boundary:u="clippingAncestors",rootBoundary:v="viewport",elementContext:d="floating",altBoundary:b=!1,padding:p=0}=at(t,e),h=ue(p),w=c[b?d==="floating"?"reference":"floating":d],g=wt(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(w)))==null||n?w:w.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(c.floating)),boundary:u,rootBoundary:v,strategy:s})),x=d==="floating"?{x:i,y:o,width:r.floating.width,height:r.floating.height}:r.reference,E=await(a.getOffsetParent==null?void 0:a.getOffsetParent(c.floating)),R=await(a.isElement==null?void 0:a.isElement(E))?await(a.getScale==null?void 0:a.getScale(E))||{x:1,y:1}:{x:1,y:1},N=wt(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:x,offsetParent:E,strategy:s}):x);return{top:(g.top-N.top+h.top)/R.y,bottom:(N.bottom-g.bottom+h.bottom)/R.y,left:(g.left-N.left+h.left)/R.x,right:(N.right-g.right+h.right)/R.x}}const Ge=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:i,placement:o,rects:a,platform:r,elements:c,middlewareData:s}=t,{element:u,padding:v=0}=at(e,t)||{};if(u==null)return{};const d=ue(v),b={x:n,y:i},p=Wt(o),h=$t(p),m=await r.getDimensions(u),w=p==="y",g=w?"top":"left",x=w?"bottom":"right",E=w?"clientHeight":"clientWidth",R=a.reference[h]+a.reference[p]-b[p]-a.floating[h],N=b[p]-a.reference[p],F=await(r.getOffsetParent==null?void 0:r.getOffsetParent(u));let I=F?F[E]:0;(!I||!await(r.isElement==null?void 0:r.isElement(F)))&&(I=c.floating[E]||a.floating[h]);const W=R/2-N/2,$=I/2-m[h]/2-1,k=K(d[g],$),L=K(d[x],$),P=k,f=I-m[h]-L,l=I/2-m[h]/2+W,y=kt(P,l,f),A=!s.arrow&&st(o)!=null&&l!==y&&a.reference[h]/2-(l<P?k:L)-m[h]/2<0,T=A?l<P?l-P:l-f:0;return{[p]:b[p]+T,data:{[p]:y,centerOffset:l-y-T,...A&&{alignmentOffset:T}},reset:A}}}),Xe=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,i;const{placement:o,middlewareData:a,rects:r,initialPlacement:c,platform:s,elements:u}=t,{mainAxis:v=!0,crossAxis:d=!0,fallbackPlacements:b,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:h="none",flipAlignment:m=!0,...w}=at(e,t);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const g=G(o),x=tt(c),E=G(c)===c,R=await(s.isRTL==null?void 0:s.isRTL(u.floating)),N=b||(E||!m?[yt(c)]:He(c)),F=h!=="none";!b&&F&&N.push(...Ue(c,m,h,R));const I=[c,...N],W=await jt(t,w),$=[];let k=((i=a.flip)==null?void 0:i.overflows)||[];if(v&&$.push(W[g]),d){const l=Ke(o,r,R);$.push(W[l[0]],W[l[1]])}if(k=[...k,{placement:o,overflows:$}],!$.every(l=>l<=0)){var L,P;const l=(((L=a.flip)==null?void 0:L.index)||0)+1,y=I[l];if(y)return{data:{index:l,overflows:k},reset:{placement:y}};let A=(P=k.filter(T=>T.overflows[0]<=0).sort((T,O)=>T.overflows[1]-O.overflows[1])[0])==null?void 0:P.placement;if(!A)switch(p){case"bestFit":{var f;const T=(f=k.filter(O=>{if(F){const S=tt(O.placement);return S===x||S==="y"}return!0}).map(O=>[O.placement,O.overflows.filter(S=>S>0).reduce((S,C)=>S+C,0)]).sort((O,S)=>O[1]-S[1])[0])==null?void 0:f[0];T&&(A=T);break}case"initialPlacement":A=c;break}if(o!==A)return{reset:{placement:A}}}return{}}}};async function Ze(e,t){const{placement:n,platform:i,elements:o}=e,a=await(i.isRTL==null?void 0:i.isRTL(o.floating)),r=G(n),c=st(n),s=tt(n)==="y",u=["left","top"].includes(r)?-1:1,v=a&&s?-1:1,d=at(t,e);let{mainAxis:b,crossAxis:p,alignmentAxis:h}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...d};return c&&typeof h=="number"&&(p=c==="end"?h*-1:h),s?{x:p*v,y:b*u}:{x:b*u,y:p*v}}const Je=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,i;const{x:o,y:a,placement:r,middlewareData:c}=t,s=await Ze(t,e);return r===((n=c.offset)==null?void 0:n.placement)&&(i=c.arrow)!=null&&i.alignmentOffset?{}:{x:o+s.x,y:a+s.y,data:{...s,placement:r}}}}},Qe=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:i,placement:o}=t,{mainAxis:a=!0,crossAxis:r=!1,limiter:c={fn:w=>{let{x:g,y:x}=w;return{x:g,y:x}}},...s}=at(e,t),u={x:n,y:i},v=await jt(t,s),d=tt(G(o)),b=le(d);let p=u[b],h=u[d];if(a){const w=b==="y"?"top":"left",g=b==="y"?"bottom":"right",x=p+v[w],E=p-v[g];p=kt(x,p,E)}if(r){const w=d==="y"?"top":"left",g=d==="y"?"bottom":"right",x=h+v[w],E=h-v[g];h=kt(x,h,E)}const m=c.fn({...t,[b]:p,[d]:h});return{...m,data:{x:m.x-n,y:m.y-i}}}}},_e=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){const{placement:n,rects:i,platform:o,elements:a}=t,{apply:r=()=>{},...c}=at(e,t),s=await jt(t,c),u=G(n),v=st(n),d=tt(n)==="y",{width:b,height:p}=i.floating;let h,m;u==="top"||u==="bottom"?(h=u,m=v===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(m=u,h=v==="end"?"top":"bottom");const w=p-s.top-s.bottom,g=b-s.left-s.right,x=K(p-s[h],w),E=K(b-s[m],g),R=!t.middlewareData.shift;let N=x,F=E;if(d?F=v||R?K(E,g):g:N=v||R?K(x,w):w,R&&!v){const W=M(s.left,0),$=M(s.right,0),k=M(s.top,0),L=M(s.bottom,0);d?F=b-2*(W!==0||$!==0?W+$:M(s.left,s.right)):N=p-2*(k!==0||L!==0?k+L:M(s.top,s.bottom))}await r({...t,availableWidth:F,availableHeight:N});const I=await o.getDimensions(a.floating);return b!==I.width||p!==I.height?{reset:{rects:!0}}:{}}}};function ct(e){return fe(e)?(e.nodeName||"").toLowerCase():"#document"}function B(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function U(e){var t;return(t=(fe(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function fe(e){return e instanceof Node||e instanceof B(e).Node}function j(e){return e instanceof Element||e instanceof B(e).Element}function H(e){return e instanceof HTMLElement||e instanceof B(e).HTMLElement}function Xt(e){return typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof B(e).ShadowRoot}function pt(e){const{overflow:t,overflowX:n,overflowY:i,display:o}=V(e);return/auto|scroll|overlay|hidden|clip/.test(t+i+n)&&!["inline","contents"].includes(o)}function tn(e){return["table","td","th"].includes(ct(e))}function Pt(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Vt(e){const t=Kt(),n=j(e)?V(e):e;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(i=>(n.willChange||"").includes(i))||["paint","layout","strict","content"].some(i=>(n.contain||"").includes(i))}function en(e){let t=X(e);for(;H(t)&&!ot(t);){if(Vt(t))return t;if(Pt(t))return null;t=X(t)}return null}function Kt(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ot(e){return["html","body","#document"].includes(ct(e))}function V(e){return B(e).getComputedStyle(e)}function Ot(e){return j(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function X(e){if(ct(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Xt(e)&&e.host||U(e);return Xt(t)?t.host:t}function de(e){const t=X(e);return ot(t)?e.ownerDocument?e.ownerDocument.body:e.body:H(t)&&pt(t)?t:de(t)}function vt(e,t,n){var i;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=de(e),a=o===((i=e.ownerDocument)==null?void 0:i.body),r=B(o);if(a){const c=It(r);return t.concat(r,r.visualViewport||[],pt(o)?o:[],c&&n?vt(c):[])}return t.concat(o,vt(o,[],n))}function It(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function ve(e){const t=V(e);let n=parseFloat(t.width)||0,i=parseFloat(t.height)||0;const o=H(e),a=o?e.offsetWidth:n,r=o?e.offsetHeight:i,c=gt(n)!==a||gt(i)!==r;return c&&(n=a,i=r),{width:n,height:i,$:c}}function Ht(e){return j(e)?e:e.contextElement}function rt(e){const t=Ht(e);if(!H(t))return Y(1);const n=t.getBoundingClientRect(),{width:i,height:o,$:a}=ve(t);let r=(a?gt(n.width):n.width)/i,c=(a?gt(n.height):n.height)/o;return(!r||!Number.isFinite(r))&&(r=1),(!c||!Number.isFinite(c))&&(c=1),{x:r,y:c}}const nn=Y(0);function pe(e){const t=B(e);return!Kt()||!t.visualViewport?nn:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function rn(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==B(e)?!1:t}function et(e,t,n,i){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),a=Ht(e);let r=Y(1);t&&(i?j(i)&&(r=rt(i)):r=rt(e));const c=rn(a,n,i)?pe(a):Y(0);let s=(o.left+c.x)/r.x,u=(o.top+c.y)/r.y,v=o.width/r.x,d=o.height/r.y;if(a){const b=B(a),p=i&&j(i)?B(i):i;let h=b,m=It(h);for(;m&&i&&p!==h;){const w=rt(m),g=m.getBoundingClientRect(),x=V(m),E=g.left+(m.clientLeft+parseFloat(x.paddingLeft))*w.x,R=g.top+(m.clientTop+parseFloat(x.paddingTop))*w.y;s*=w.x,u*=w.y,v*=w.x,d*=w.y,s+=E,u+=R,h=B(m),m=It(h)}}return wt({width:v,height:d,x:s,y:u})}function on(e){let{elements:t,rect:n,offsetParent:i,strategy:o}=e;const a=o==="fixed",r=U(i),c=t?Pt(t.floating):!1;if(i===r||c&&a)return n;let s={scrollLeft:0,scrollTop:0},u=Y(1);const v=Y(0),d=H(i);if((d||!d&&!a)&&((ct(i)!=="body"||pt(r))&&(s=Ot(i)),H(i))){const b=et(i);u=rt(i),v.x=b.x+i.clientLeft,v.y=b.y+i.clientTop}return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-s.scrollLeft*u.x+v.x,y:n.y*u.y-s.scrollTop*u.y+v.y}}function an(e){return Array.from(e.getClientRects())}function he(e){return et(U(e)).left+Ot(e).scrollLeft}function sn(e){const t=U(e),n=Ot(e),i=e.ownerDocument.body,o=M(t.scrollWidth,t.clientWidth,i.scrollWidth,i.clientWidth),a=M(t.scrollHeight,t.clientHeight,i.scrollHeight,i.clientHeight);let r=-n.scrollLeft+he(e);const c=-n.scrollTop;return V(i).direction==="rtl"&&(r+=M(t.clientWidth,i.clientWidth)-o),{width:o,height:a,x:r,y:c}}function cn(e,t){const n=B(e),i=U(e),o=n.visualViewport;let a=i.clientWidth,r=i.clientHeight,c=0,s=0;if(o){a=o.width,r=o.height;const u=Kt();(!u||u&&t==="fixed")&&(c=o.offsetLeft,s=o.offsetTop)}return{width:a,height:r,x:c,y:s}}function ln(e,t){const n=et(e,!0,t==="fixed"),i=n.top+e.clientTop,o=n.left+e.clientLeft,a=H(e)?rt(e):Y(1),r=e.clientWidth*a.x,c=e.clientHeight*a.y,s=o*a.x,u=i*a.y;return{width:r,height:c,x:s,y:u}}function Zt(e,t,n){let i;if(t==="viewport")i=cn(e,n);else if(t==="document")i=sn(U(e));else if(j(t))i=ln(t,n);else{const o=pe(e);i={...t,x:t.x-o.x,y:t.y-o.y}}return wt(i)}function be(e,t){const n=X(e);return n===t||!j(n)||ot(n)?!1:V(n).position==="fixed"||be(n,t)}function un(e,t){const n=t.get(e);if(n)return n;let i=vt(e,[],!1).filter(c=>j(c)&&ct(c)!=="body"),o=null;const a=V(e).position==="fixed";let r=a?X(e):e;for(;j(r)&&!ot(r);){const c=V(r),s=Vt(r);!s&&c.position==="fixed"&&(o=null),(a?!s&&!o:!s&&c.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||pt(r)&&!s&&be(e,r))?i=i.filter(v=>v!==r):o=c,r=X(r)}return t.set(e,i),i}function fn(e){let{element:t,boundary:n,rootBoundary:i,strategy:o}=e;const r=[...n==="clippingAncestors"?Pt(t)?[]:un(t,this._c):[].concat(n),i],c=r[0],s=r.reduce((u,v)=>{const d=Zt(t,v,o);return u.top=M(d.top,u.top),u.right=K(d.right,u.right),u.bottom=K(d.bottom,u.bottom),u.left=M(d.left,u.left),u},Zt(t,c,o));return{width:s.right-s.left,height:s.bottom-s.top,x:s.left,y:s.top}}function dn(e){const{width:t,height:n}=ve(e);return{width:t,height:n}}function vn(e,t,n){const i=H(t),o=U(t),a=n==="fixed",r=et(e,!0,a,t);let c={scrollLeft:0,scrollTop:0};const s=Y(0);if(i||!i&&!a)if((ct(t)!=="body"||pt(o))&&(c=Ot(t)),i){const d=et(t,!0,a,t);s.x=d.x+t.clientLeft,s.y=d.y+t.clientTop}else o&&(s.x=he(o));const u=r.left+c.scrollLeft-s.x,v=r.top+c.scrollTop-s.y;return{x:u,y:v,width:r.width,height:r.height}}function Ft(e){return V(e).position==="static"}function Jt(e,t){return!H(e)||V(e).position==="fixed"?null:t?t(e):e.offsetParent}function me(e,t){const n=B(e);if(Pt(e))return n;if(!H(e)){let o=X(e);for(;o&&!ot(o);){if(j(o)&&!Ft(o))return o;o=X(o)}return n}let i=Jt(e,t);for(;i&&tn(i)&&Ft(i);)i=Jt(i,t);return i&&ot(i)&&Ft(i)&&!Vt(i)?n:i||en(e)||n}const pn=async function(e){const t=this.getOffsetParent||me,n=this.getDimensions,i=await n(e.floating);return{reference:vn(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function hn(e){return V(e).direction==="rtl"}const bn={convertOffsetParentRelativeRectToViewportRelativeRect:on,getDocumentElement:U,getClippingRect:fn,getOffsetParent:me,getElementRects:pn,getClientRects:an,getDimensions:dn,getScale:rt,isElement:j,isRTL:hn};function mn(e,t){let n=null,i;const o=U(e);function a(){var c;clearTimeout(i),(c=n)==null||c.disconnect(),n=null}function r(c,s){c===void 0&&(c=!1),s===void 0&&(s=1),a();const{left:u,top:v,width:d,height:b}=e.getBoundingClientRect();if(c||t(),!d||!b)return;const p=ht(v),h=ht(o.clientWidth-(u+d)),m=ht(o.clientHeight-(v+b)),w=ht(u),x={rootMargin:-p+"px "+-h+"px "+-m+"px "+-w+"px",threshold:M(0,K(1,s))||1};let E=!0;function R(N){const F=N[0].intersectionRatio;if(F!==s){if(!E)return r();F?r(!1,F):i=setTimeout(()=>{r(!1,1e-7)},1e3)}E=!1}try{n=new IntersectionObserver(R,{...x,root:o.ownerDocument})}catch{n=new IntersectionObserver(R,x)}n.observe(e)}return r(!0),a}function gn(e,t,n,i){i===void 0&&(i={});const{ancestorScroll:o=!0,ancestorResize:a=!0,elementResize:r=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:s=!1}=i,u=Ht(e),v=o||a?[...u?vt(u):[],...vt(t)]:[];v.forEach(g=>{o&&g.addEventListener("scroll",n,{passive:!0}),a&&g.addEventListener("resize",n)});const d=u&&c?mn(u,n):null;let b=-1,p=null;r&&(p=new ResizeObserver(g=>{let[x]=g;x&&x.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(b),b=requestAnimationFrame(()=>{var E;(E=p)==null||E.observe(t)})),n()}),u&&!s&&p.observe(u),p.observe(t));let h,m=s?et(e):null;s&&w();function w(){const g=et(e);m&&(g.x!==m.x||g.y!==m.y||g.width!==m.width||g.height!==m.height)&&n(),m=g,h=requestAnimationFrame(w)}return n(),()=>{var g;v.forEach(x=>{o&&x.removeEventListener("scroll",n),a&&x.removeEventListener("resize",n)}),d==null||d(),(g=p)==null||g.disconnect(),p=null,s&&cancelAnimationFrame(h)}}const yn=Je,wn=Qe,xn=Xe,Tn=_e,En=Ge,An=(e,t,n)=>{const i=new Map,o={platform:bn,...n},a={...o.platform,_c:i};return Ye(e,t,{...o,platform:a})},Pn={strategy:"absolute",placement:"top",gutter:5,flip:!0,sameWidth:!1,overflowPadding:8},On={bottom:"rotate(45deg)",left:"rotate(135deg)",top:"rotate(225deg)",right:"rotate(315deg)"};function Sn(e,t,n={}){if(!t||!e||n===null)return{destroy:_};const i={...Pn,...n},o=t.querySelector("[data-arrow=true]"),a=[];i.flip&&a.push(xn({boundary:i.boundary,padding:i.overflowPadding}));const r=z(o)?o.offsetHeight/2:0;if(i.gutter||i.offset){const s=i.gutter?{mainAxis:i.gutter}:i.offset;(s==null?void 0:s.mainAxis)!=null&&(s.mainAxis+=r),a.push(yn(s))}a.push(wn({boundary:i.boundary,crossAxis:i.overlap,padding:i.overflowPadding})),o&&a.push(En({element:o,padding:8})),a.push(Tn({padding:i.overflowPadding,apply({rects:s,availableHeight:u,availableWidth:v}){i.sameWidth&&Object.assign(t.style,{width:`${Math.round(s.reference.width)}px`,minWidth:"unset"}),i.fitViewport&&Object.assign(t.style,{maxWidth:`${v}px`,maxHeight:`${u}px`})}}));function c(){if(!e||!t||z(e)&&!e.ownerDocument.documentElement.contains(e))return;const{placement:s,strategy:u}=i;An(e,t,{placement:s,middleware:a,strategy:u}).then(v=>{const d=Math.round(v.x),b=Math.round(v.y),[p,h]=Nn(v.placement);if(t.setAttribute("data-side",p),t.setAttribute("data-align",h),Object.assign(t.style,{position:i.strategy,top:`${b}px`,left:`${d}px`}),z(o)&&v.middlewareData.arrow){const{x:m,y:w}=v.middlewareData.arrow,g=v.placement.split("-")[0];o.setAttribute("data-side",g),Object.assign(o.style,{position:"absolute",left:m!=null?`${m}px`:"",top:w!=null?`${w}px`:"",[g]:`calc(100% - ${r}px)`,transform:On[g],backgroundColor:"inherit",zIndex:"inherit"})}return v})}return Object.assign(t.style,{position:i.strategy}),{destroy:gn(e,t,c)}}function Nn(e){const[t,n="center"]=e.split("-");return[t,n]}/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var ge=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],xt=ge.join(","),ye=typeof Element>"u",nt=ye?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,Tt=!ye&&Element.prototype.getRootNode?function(e){var t;return e==null||(t=e.getRootNode)===null||t===void 0?void 0:t.call(e)}:function(e){return e==null?void 0:e.ownerDocument},Et=function e(t,n){var i;n===void 0&&(n=!0);var o=t==null||(i=t.getAttribute)===null||i===void 0?void 0:i.call(t,"inert"),a=o===""||o==="true",r=a||n&&t&&e(t.parentNode);return r},Rn=function(t){var n,i=t==null||(n=t.getAttribute)===null||n===void 0?void 0:n.call(t,"contenteditable");return i===""||i==="true"},we=function(t,n,i){if(Et(t))return[];var o=Array.prototype.slice.apply(t.querySelectorAll(xt));return n&&nt.call(t,xt)&&o.unshift(t),o=o.filter(i),o},xe=function e(t,n,i){for(var o=[],a=Array.from(t);a.length;){var r=a.shift();if(!Et(r,!1))if(r.tagName==="SLOT"){var c=r.assignedElements(),s=c.length?c:r.children,u=e(s,!0,i);i.flatten?o.push.apply(o,u):o.push({scopeParent:r,candidates:u})}else{var v=nt.call(r,xt);v&&i.filter(r)&&(n||!t.includes(r))&&o.push(r);var d=r.shadowRoot||typeof i.getShadowRoot=="function"&&i.getShadowRoot(r),b=!Et(d,!1)&&(!i.shadowRootFilter||i.shadowRootFilter(r));if(d&&b){var p=e(d===!0?r.children:d.children,!0,i);i.flatten?o.push.apply(o,p):o.push({scopeParent:r,candidates:p})}else a.unshift.apply(a,r.children)}}return o},Te=function(t){return!isNaN(parseInt(t.getAttribute("tabindex"),10))},Q=function(t){if(!t)throw new Error("No node provided");return t.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(t.tagName)||Rn(t))&&!Te(t)?0:t.tabIndex},Fn=function(t,n){var i=Q(t);return i<0&&n&&!Te(t)?0:i},Cn=function(t,n){return t.tabIndex===n.tabIndex?t.documentOrder-n.documentOrder:t.tabIndex-n.tabIndex},Ee=function(t){return t.tagName==="INPUT"},Dn=function(t){return Ee(t)&&t.type==="hidden"},kn=function(t){var n=t.tagName==="DETAILS"&&Array.prototype.slice.apply(t.children).some(function(i){return i.tagName==="SUMMARY"});return n},Ln=function(t,n){for(var i=0;i<t.length;i++)if(t[i].checked&&t[i].form===n)return t[i]},In=function(t){if(!t.name)return!0;var n=t.form||Tt(t),i=function(c){return n.querySelectorAll('input[type="radio"][name="'+c+'"]')},o;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")o=i(window.CSS.escape(t.name));else try{o=i(t.name)}catch(r){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",r.message),!1}var a=Ln(o,t.form);return!a||a===t},Mn=function(t){return Ee(t)&&t.type==="radio"},Bn=function(t){return Mn(t)&&!In(t)},$n=function(t){var n,i=t&&Tt(t),o=(n=i)===null||n===void 0?void 0:n.host,a=!1;if(i&&i!==t){var r,c,s;for(a=!!((r=o)!==null&&r!==void 0&&(c=r.ownerDocument)!==null&&c!==void 0&&c.contains(o)||t!=null&&(s=t.ownerDocument)!==null&&s!==void 0&&s.contains(t));!a&&o;){var u,v,d;i=Tt(o),o=(u=i)===null||u===void 0?void 0:u.host,a=!!((v=o)!==null&&v!==void 0&&(d=v.ownerDocument)!==null&&d!==void 0&&d.contains(o))}}return a},Qt=function(t){var n=t.getBoundingClientRect(),i=n.width,o=n.height;return i===0&&o===0},Wn=function(t,n){var i=n.displayCheck,o=n.getShadowRoot;if(getComputedStyle(t).visibility==="hidden")return!0;var a=nt.call(t,"details>summary:first-of-type"),r=a?t.parentElement:t;if(nt.call(r,"details:not([open]) *"))return!0;if(!i||i==="full"||i==="legacy-full"){if(typeof o=="function"){for(var c=t;t;){var s=t.parentElement,u=Tt(t);if(s&&!s.shadowRoot&&o(s)===!0)return Qt(t);t.assignedSlot?t=t.assignedSlot:!s&&u!==t.ownerDocument?t=u.host:t=s}t=c}if($n(t))return!t.getClientRects().length;if(i!=="legacy-full")return!0}else if(i==="non-zero-area")return Qt(t);return!1},jn=function(t){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(t.tagName))for(var n=t.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var i=0;i<n.children.length;i++){var o=n.children.item(i);if(o.tagName==="LEGEND")return nt.call(n,"fieldset[disabled] *")?!0:!o.contains(t)}return!0}n=n.parentElement}return!1},At=function(t,n){return!(n.disabled||Et(n)||Dn(n)||Wn(n,t)||kn(n)||jn(n))},Mt=function(t,n){return!(Bn(n)||Q(n)<0||!At(t,n))},Vn=function(t){var n=parseInt(t.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},Kn=function e(t){var n=[],i=[];return t.forEach(function(o,a){var r=!!o.scopeParent,c=r?o.scopeParent:o,s=Fn(c,r),u=r?e(o.candidates):c;s===0?r?n.push.apply(n,u):n.push(c):i.push({documentOrder:a,tabIndex:s,item:o,isScope:r,content:u})}),i.sort(Cn).reduce(function(o,a){return a.isScope?o.push.apply(o,a.content):o.push(a.content),o},[]).concat(n)},Hn=function(t,n){n=n||{};var i;return n.getShadowRoot?i=xe([t],n.includeContainer,{filter:Mt.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:Vn}):i=we(t,n.includeContainer,Mt.bind(null,n)),Kn(i)},zn=function(t,n){n=n||{};var i;return n.getShadowRoot?i=xe([t],n.includeContainer,{filter:At.bind(null,n),flatten:!0,getShadowRoot:n.getShadowRoot}):i=we(t,n.includeContainer,At.bind(null,n)),i},it=function(t,n){if(n=n||{},!t)throw new Error("No node provided");return nt.call(t,xt)===!1?!1:Mt(n,t)},Un=ge.concat("iframe").join(","),Ct=function(t,n){if(n=n||{},!t)throw new Error("No node provided");return nt.call(t,Un)===!1?!1:At(n,t)};/*!
* focus-trap 7.6.0
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function qn(e,t,n){return(t=Gn(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,i)}return n}function te(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_t(Object(n),!0).forEach(function(i){qn(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_t(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function Yn(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gn(e){var t=Yn(e,"string");return typeof t=="symbol"?t:t+""}var ee={activateTrap:function(t,n){if(t.length>0){var i=t[t.length-1];i!==n&&i.pause()}var o=t.indexOf(n);o===-1||t.splice(o,1),t.push(n)},deactivateTrap:function(t,n){var i=t.indexOf(n);i!==-1&&t.splice(i,1),t.length>0&&t[t.length-1].unpause()}},Xn=function(t){return t.tagName&&t.tagName.toLowerCase()==="input"&&typeof t.select=="function"},Zn=function(t){return(t==null?void 0:t.key)==="Escape"||(t==null?void 0:t.key)==="Esc"||(t==null?void 0:t.keyCode)===27},dt=function(t){return(t==null?void 0:t.key)==="Tab"||(t==null?void 0:t.keyCode)===9},Jn=function(t){return dt(t)&&!t.shiftKey},Qn=function(t){return dt(t)&&t.shiftKey},ne=function(t){return setTimeout(t,0)},ie=function(t,n){var i=-1;return t.every(function(o,a){return n(o)?(i=a,!1):!0}),i},ft=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];return typeof t=="function"?t.apply(void 0,i):t},bt=function(t){return t.target.shadowRoot&&typeof t.composedPath=="function"?t.composedPath()[0]:t.target},_n=[],ti=function(t,n){var i=(n==null?void 0:n.document)||document,o=(n==null?void 0:n.trapStack)||_n,a=te({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:Jn,isKeyBackward:Qn},n),r={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},c,s=function(f,l,y){return f&&f[l]!==void 0?f[l]:a[y||l]},u=function(f,l){var y=typeof(l==null?void 0:l.composedPath)=="function"?l.composedPath():void 0;return r.containerGroups.findIndex(function(A){var T=A.container,O=A.tabbableNodes;return T.contains(f)||(y==null?void 0:y.includes(T))||O.find(function(S){return S===f})})},v=function(f){var l=a[f];if(typeof l=="function"){for(var y=arguments.length,A=new Array(y>1?y-1:0),T=1;T<y;T++)A[T-1]=arguments[T];l=l.apply(void 0,A)}if(l===!0&&(l=void 0),!l){if(l===void 0||l===!1)return l;throw new Error("`".concat(f,"` was specified but was not a node, or did not return a node"))}var O=l;if(typeof l=="string"&&(O=i.querySelector(l),!O))throw new Error("`".concat(f,"` as selector refers to no known node"));return O},d=function(){var f=v("initialFocus");if(f===!1)return!1;if(f===void 0||!Ct(f,a.tabbableOptions))if(u(i.activeElement)>=0)f=i.activeElement;else{var l=r.tabbableGroups[0],y=l&&l.firstTabbableNode;f=y||v("fallbackFocus")}if(!f)throw new Error("Your focus-trap needs to have at least one focusable element");return f},b=function(){if(r.containerGroups=r.containers.map(function(f){var l=Hn(f,a.tabbableOptions),y=zn(f,a.tabbableOptions),A=l.length>0?l[0]:void 0,T=l.length>0?l[l.length-1]:void 0,O=y.find(function(D){return it(D)}),S=y.slice().reverse().find(function(D){return it(D)}),C=!!l.find(function(D){return Q(D)>0});return{container:f,tabbableNodes:l,focusableNodes:y,posTabIndexesFound:C,firstTabbableNode:A,lastTabbableNode:T,firstDomTabbableNode:O,lastDomTabbableNode:S,nextTabbableNode:function(Z){var lt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,q=l.indexOf(Z);return q<0?lt?y.slice(y.indexOf(Z)+1).find(function(ut){return it(ut)}):y.slice(0,y.indexOf(Z)).reverse().find(function(ut){return it(ut)}):l[q+(lt?1:-1)]}}}),r.tabbableGroups=r.containerGroups.filter(function(f){return f.tabbableNodes.length>0}),r.tabbableGroups.length<=0&&!v("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(r.containerGroups.find(function(f){return f.posTabIndexesFound})&&r.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},p=function(f){var l=f.activeElement;if(l)return l.shadowRoot&&l.shadowRoot.activeElement!==null?p(l.shadowRoot):l},h=function(f){if(f!==!1&&f!==p(document)){if(!f||!f.focus){h(d());return}f.focus({preventScroll:!!a.preventScroll}),r.mostRecentlyFocusedNode=f,Xn(f)&&f.select()}},m=function(f){var l=v("setReturnFocus",f);return l||(l===!1?!1:f)},w=function(f){var l=f.target,y=f.event,A=f.isBackward,T=A===void 0?!1:A;l=l||bt(y),b();var O=null;if(r.tabbableGroups.length>0){var S=u(l,y),C=S>=0?r.containerGroups[S]:void 0;if(S<0)T?O=r.tabbableGroups[r.tabbableGroups.length-1].lastTabbableNode:O=r.tabbableGroups[0].firstTabbableNode;else if(T){var D=ie(r.tabbableGroups,function(St){var Nt=St.firstTabbableNode;return l===Nt});if(D<0&&(C.container===l||Ct(l,a.tabbableOptions)&&!it(l,a.tabbableOptions)&&!C.nextTabbableNode(l,!1))&&(D=S),D>=0){var Z=D===0?r.tabbableGroups.length-1:D-1,lt=r.tabbableGroups[Z];O=Q(l)>=0?lt.lastTabbableNode:lt.lastDomTabbableNode}else dt(y)||(O=C.nextTabbableNode(l,!1))}else{var q=ie(r.tabbableGroups,function(St){var Nt=St.lastTabbableNode;return l===Nt});if(q<0&&(C.container===l||Ct(l,a.tabbableOptions)&&!it(l,a.tabbableOptions)&&!C.nextTabbableNode(l))&&(q=S),q>=0){var ut=q===r.tabbableGroups.length-1?0:q+1,zt=r.tabbableGroups[ut];O=Q(l)>=0?zt.firstTabbableNode:zt.firstDomTabbableNode}else dt(y)||(O=C.nextTabbableNode(l))}}else O=v("fallbackFocus");return O},g=function(f){var l=bt(f);if(!(u(l,f)>=0)){if(ft(a.clickOutsideDeactivates,f)){c.deactivate({returnFocus:a.returnFocusOnDeactivate});return}ft(a.allowOutsideClick,f)||f.preventDefault()}},x=function(f){var l=bt(f),y=u(l,f)>=0;if(y||l instanceof Document)y&&(r.mostRecentlyFocusedNode=l);else{f.stopImmediatePropagation();var A,T=!0;if(r.mostRecentlyFocusedNode)if(Q(r.mostRecentlyFocusedNode)>0){var O=u(r.mostRecentlyFocusedNode),S=r.containerGroups[O].tabbableNodes;if(S.length>0){var C=S.findIndex(function(D){return D===r.mostRecentlyFocusedNode});C>=0&&(a.isKeyForward(r.recentNavEvent)?C+1<S.length&&(A=S[C+1],T=!1):C-1>=0&&(A=S[C-1],T=!1))}}else r.containerGroups.some(function(D){return D.tabbableNodes.some(function(Z){return Q(Z)>0})})||(T=!1);else T=!1;T&&(A=w({target:r.mostRecentlyFocusedNode,isBackward:a.isKeyBackward(r.recentNavEvent)})),h(A||r.mostRecentlyFocusedNode||d())}r.recentNavEvent=void 0},E=function(f){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;r.recentNavEvent=f;var y=w({event:f,isBackward:l});y&&(dt(f)&&f.preventDefault(),h(y))},R=function(f){(a.isKeyForward(f)||a.isKeyBackward(f))&&E(f,a.isKeyBackward(f))},N=function(f){Zn(f)&&ft(a.escapeDeactivates,f)!==!1&&(f.preventDefault(),c.deactivate())},F=function(f){var l=bt(f);u(l,f)>=0||ft(a.clickOutsideDeactivates,f)||ft(a.allowOutsideClick,f)||(f.preventDefault(),f.stopImmediatePropagation())},I=function(){if(r.active)return ee.activateTrap(o,c),r.delayInitialFocusTimer=a.delayInitialFocus?ne(function(){h(d())}):h(d()),i.addEventListener("focusin",x,!0),i.addEventListener("mousedown",g,{capture:!0,passive:!1}),i.addEventListener("touchstart",g,{capture:!0,passive:!1}),i.addEventListener("click",F,{capture:!0,passive:!1}),i.addEventListener("keydown",R,{capture:!0,passive:!1}),i.addEventListener("keydown",N),c},W=function(){if(r.active)return i.removeEventListener("focusin",x,!0),i.removeEventListener("mousedown",g,!0),i.removeEventListener("touchstart",g,!0),i.removeEventListener("click",F,!0),i.removeEventListener("keydown",R,!0),i.removeEventListener("keydown",N),c},$=function(f){var l=f.some(function(y){var A=Array.from(y.removedNodes);return A.some(function(T){return T===r.mostRecentlyFocusedNode})});l&&h(d())},k=typeof window<"u"&&"MutationObserver"in window?new MutationObserver($):void 0,L=function(){k&&(k.disconnect(),r.active&&!r.paused&&r.containers.map(function(f){k.observe(f,{subtree:!0,childList:!0})}))};return c={get active(){return r.active},get paused(){return r.paused},activate:function(f){if(r.active)return this;var l=s(f,"onActivate"),y=s(f,"onPostActivate"),A=s(f,"checkCanFocusTrap");A||b(),r.active=!0,r.paused=!1,r.nodeFocusedBeforeActivation=i.activeElement,l==null||l();var T=function(){A&&b(),I(),L(),y==null||y()};return A?(A(r.containers.concat()).then(T,T),this):(T(),this)},deactivate:function(f){if(!r.active)return this;var l=te({onDeactivate:a.onDeactivate,onPostDeactivate:a.onPostDeactivate,checkCanReturnFocus:a.checkCanReturnFocus},f);clearTimeout(r.delayInitialFocusTimer),r.delayInitialFocusTimer=void 0,W(),r.active=!1,r.paused=!1,L(),ee.deactivateTrap(o,c);var y=s(l,"onDeactivate"),A=s(l,"onPostDeactivate"),T=s(l,"checkCanReturnFocus"),O=s(l,"returnFocus","returnFocusOnDeactivate");y==null||y();var S=function(){ne(function(){O&&h(m(r.nodeFocusedBeforeActivation)),A==null||A()})};return O&&T?(T(m(r.nodeFocusedBeforeActivation)).then(S,S),this):(S(),this)},pause:function(f){if(r.paused||!r.active)return this;var l=s(f,"onPause"),y=s(f,"onPostPause");return r.paused=!0,l==null||l(),W(),L(),y==null||y(),this},unpause:function(f){if(!r.paused||!r.active)return this;var l=s(f,"onUnpause"),y=s(f,"onPostUnpause");return r.paused=!1,l==null||l(),b(),I(),L(),y==null||y(),this},updateContainerElements:function(f){var l=[].concat(f).filter(Boolean);return r.containers=l.map(function(y){return typeof y=="string"?i.querySelector(y):y}),r.active&&b(),L(),this}},c.updateContainerElements(t),c};function ei(e={}){let t;const{immediate:n,...i}=e,o=qt(!1),a=qt(!1),r=d=>t==null?void 0:t.activate(d),c=d=>{t==null||t.deactivate(d)},s=()=>{t&&(t.pause(),a.set(!0))},u=()=>{t&&(t.unpause(),a.set(!1))};return{useFocusTrap:d=>(t=ti(d,{...i,onActivate(){var b;o.set(!0),(b=e.onActivate)==null||b.call(e)},onDeactivate(){var b;o.set(!1),(b=e.onDeactivate)==null||b.call(e)}}),n&&r(),{destroy(){c(),t=void 0}}),hasFocus:Ut(o),isPaused:Ut(a),activate:r,deactivate:c,pause:s,unpause:u}}const mt=[],ni=(e,t)=>{let n=_;function i(){const a=mt.indexOf(e);a>=0&&mt.splice(a,1)}function o(a){n();const{open:r,onClose:c,shouldCloseOnInteractOutside:s,closeOnInteractOutside:u}=a;oe(100).then(()=>{r?mt.push(e):i()});function v(){return Ne(mt)===e}function d(){v()&&c&&(c(),i())}function b(h){const m=h.target;Bt(m)&&m&&v()&&(h.preventDefault(),h.stopPropagation(),h.stopImmediatePropagation())}function p(h){s!=null&&s(h)&&v()&&(h.preventDefault(),h.stopPropagation(),h.stopImmediatePropagation(),d())}n=oi(e,{onInteractOutsideStart:b,onInteractOutside:u?p:void 0,enabled:r}).destroy}return o(t),{update:o,destroy(){i(),n()}}},ii={floating:{},focusTrap:{},modal:{},escapeKeydown:{},portal:"body"},wi=(e,t)=>{e.dataset.escapee="";const{anchorElement:n,open:i,options:o}=t;if(!n||!i||!o)return{destroy:_};const a={...ii,...o},r=[];if(a.portal!==null&&r.push(ri(e,a.portal).destroy),r.push(Sn(n,e,a.floating).destroy),a.focusTrap!==null){const{useFocusTrap:s}=ei({immediate:!0,escapeDeactivates:!1,allowOutsideClick:!0,returnFocusOnDeactivate:!1,fallbackFocus:e,...a.focusTrap});r.push(s(e).destroy)}a.modal!==null&&r.push(ni(e,{onClose:()=>{z(n)&&(i.set(!1),n.focus())},shouldCloseOnInteractOutside:s=>!(s.defaultPrevented||z(n)&&n.contains(s.target)),...a.modal}).destroy),a.escapeKeydown!==null&&r.push(Oe(e,{enabled:i,handler:()=>{i.set(!1)},...a.escapeKeydown}).destroy);const c=Dt(...r);return{destroy(){c()}}},ri=(e,t="body")=>{let n;if(!z(t)&&typeof t!="string")return{destroy:_};async function i(a){if(t=a,typeof t=="string"){if(n=document.querySelector(t),n===null&&(await ae(),n=document.querySelector(t)),n===null)throw new Error(`No element found matching css selector: "${t}"`)}else if(t instanceof HTMLElement)n=t;else throw new TypeError(`Unknown portal target type: ${t===null?"null":typeof t}. Allowed types: string (CSS selector) or HTMLElement.`);e.dataset.portal="",n.appendChild(e),e.hidden=!1}function o(){e.remove()}return i(t),{update:i,destroy:o}},oi=(e,t)=>{let n=_,i=_,o=!1,a=!1,r=!1;function c(v){n(),i();const{onInteractOutside:d,onInteractOutsideStart:b,enabled:p}=v;if(!p)return;function h(g){d&&re(g,e)&&(b==null||b(g));const x=g.target;Bt(x)&&Ae(e,x)&&(a=!0),o=!0}function m(g){d==null||d(g)}const w=ai(e);if(typeof PointerEvent<"u"){const g=x=>{i();const E=R=>{s(R)&&m(R),u()};if(x.pointerType==="touch"){i=J(w,"click",E,{capture:!0,once:!0});return}E(x)};n=Dt(J(w,"pointerdown",h,!0),J(w,"pointerup",g,!0))}else{const g=E=>{r?r=!1:s(E)&&m(E),u()},x=E=>{r=!0,s(E)&&m(E),u()};n=Dt(J(w,"mousedown",h,!0),J(w,"mouseup",g,!0),J(w,"touchstart",h,!0),J(w,"touchend",x,!0))}}function s(v){return!!(o&&!a&&re(v,e))}function u(){o=!1,a=!1}return c(t),{update:c,destroy(){n(),i()}}};function re(e,t){if("button"in e&&e.button>0)return!1;const n=e.target;if(!Bt(n))return!1;const i=n.ownerDocument;return!i||!i.documentElement.contains(n)?!1:t&&!Ae(t,n)}function Ae(e,t){return e===t||e.contains(t)}function ai(e){return(e==null?void 0:e.ownerDocument)??document}function xi(e){return(t={})=>si(e,t)}function si(e,t){const i={...{side:"bottom",align:"center",sideOffset:0,alignOffset:0,sameWidth:!1,avoidCollisions:!0,collisionPadding:8,fitViewport:!1,strategy:"absolute",overlap:!1},...t};e.update(o=>({...o,placement:ci(i.side,i.align),offset:{...o.offset,mainAxis:i.sideOffset,crossAxis:i.alignOffset},gutter:0,sameWidth:i.sameWidth,flip:i.avoidCollisions,overflowPadding:i.collisionPadding,boundary:i.collisionBoundary,fitViewport:i.fitViewport,strategy:i.strategy,overlap:i.overlap}))}function ci(e,t){return t==="center"?e:`${e}-${t}`}export{gi as a,ri as b,xi as c,mi as d,hi as g,yi as h,Ne as l,di as n,vi as p,bi as r,wi as u,pi as w};
