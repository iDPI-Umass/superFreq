import{s as Y,e as D,a as w,c as N,b as M,w as X,g as O,f as T,p as Z,r as p,i as q,h as r,D as x,n as V,q as $,t as L,d as z,j as A}from"../chunks/scheduler.CXRP0wEC.js";import{e as G}from"../chunks/each.Chb-s0GO.js";import{S as ee,i as te}from"../chunks/index.a6HmqSPn.js";import{e as le}from"../chunks/forms.CTZFOOt3.js";function K(a,e,t){const o=a.slice();return o[7]=e[t],o}function Q(a){let e,t,o=a[7].title+"",i,d,v=a[7].username+"",n,u,m=new Date(a[7].created_at).toLocaleDateString()+"",g,C,k,I;return{c(){e=D("li"),t=D("a"),i=L(o),d=L(" by "),n=L(v),u=L(" ("),g=L(m),C=L(")"),I=w(),this.h()},l(f){e=N(f,"LI",{});var _=M(e);t=N(_,"A",{href:!0,class:!0});var b=M(t);i=z(b,o),d=z(b," by "),n=z(b,v),u=z(b," ("),g=z(b,m),C=z(b,")"),b.forEach(T),I=O(_),_.forEach(T),this.h()},h(){p(t,"href",k="/collection/"+a[7].collection_id),p(t,"class","svelte-uayrdb")},m(f,_){q(f,e,_),r(e,t),r(t,i),r(t,d),r(t,n),r(t,u),r(t,g),r(t,C),r(e,I)},p(f,_){_&3&&o!==(o=f[7].title+"")&&A(i,o),_&3&&v!==(v=f[7].username+"")&&A(n,v),_&3&&m!==(m=new Date(f[7].created_at).toLocaleDateString()+"")&&A(g,m),_&3&&k!==(k="/collection/"+f[7].collection_id)&&p(t,"href",k)},d(f){f&&T(e)}}}function W(a){let e,t="load more";return{c(){e=D("button"),e.textContent=t,this.h()},l(o){e=N(o,"BUTTON",{class:!0,formaction:!0,"data-svelte-h":!0}),X(e)!=="svelte-43wruz"&&(e.textContent=t),this.h()},h(){p(e,"class","standard"),p(e,"formaction","?/loadMore")},m(o,i){q(o,e,i)},d(o){o&&T(e)}}}function ae(a){var F,H;let e,t,o="collections",i,d,v,n,u,m,g,C,k,I,f,_,b,J,B,P=G(((F=a[0])==null?void 0:F.collections)??a[1]),c=[];for(let l=0;l<P.length;l+=1)c[l]=Q(K(a,P,l));let h=(((H=a[0])==null?void 0:H.remaining)??a[2])>0&&W();return{c(){e=D("div"),t=D("h1"),t.textContent=o,i=w(),d=D("ul");for(let l=0;l<c.length;l+=1)c[l].c();v=w(),n=D("form"),u=D("input"),g=w(),C=D("input"),k=w(),I=D("input"),_=w(),h&&h.c(),b=w(),this.h()},l(l){e=N(l,"DIV",{class:!0});var s=M(e);t=N(s,"H1",{"data-svelte-h":!0}),X(t)!=="svelte-gh69dd"&&(t.textContent=o),i=O(s),d=N(s,"UL",{});var E=M(d);for(let U=0;U<c.length;U+=1)c[U].l(E);E.forEach(T),v=O(s),n=N(s,"FORM",{method:!0,action:!0});var S=M(n);u=N(S,"INPUT",{type:!0,name:!0}),g=O(S),C=N(S,"INPUT",{type:!0,name:!0}),k=O(S),I=N(S,"INPUT",{type:!0,name:!0}),_=O(S),h&&h.l(S),S.forEach(T),s.forEach(T),b=O(l),Z("svelte-fc5c77",document.head).forEach(T),this.h()},h(){var l,s;p(u,"type","hidden"),p(u,"name","batch-iterator"),u.value=m=((l=a[0])==null?void 0:l.batchIterator)??a[4],p(C,"type","hidden"),p(C,"name","batch-size"),C.value=a[3],p(I,"type","hidden"),p(I,"name","collections"),I.value=f=JSON.stringify(((s=a[0])==null?void 0:s.collections)??a[1]),p(n,"method","POST"),p(n,"action","?/loadMore"),p(e,"class","wrapper svelte-uayrdb"),document.title=`
		Explore Collections
	`},m(l,s){q(l,e,s),r(e,t),r(e,i),r(e,d);for(let E=0;E<c.length;E+=1)c[E]&&c[E].m(d,null);r(e,v),r(e,n),r(n,u),r(n,g),r(n,C),r(n,k),r(n,I),r(n,_),h&&h.m(n,null),q(l,b,s),J||(B=x(le.call(null,n)),J=!0)},p(l,[s]){var E,S,j,U;if(s&3){P=G(((E=l[0])==null?void 0:E.collections)??l[1]);let y;for(y=0;y<P.length;y+=1){const R=K(l,P,y);c[y]?c[y].p(R,s):(c[y]=Q(R),c[y].c(),c[y].m(d,null))}for(;y<c.length;y+=1)c[y].d(1);c.length=P.length}s&17&&m!==(m=((S=l[0])==null?void 0:S.batchIterator)??l[4])&&(u.value=m),s&8&&(C.value=l[3]),s&3&&f!==(f=JSON.stringify(((j=l[0])==null?void 0:j.collections)??l[1]))&&(I.value=f),(((U=l[0])==null?void 0:U.remaining)??l[2])>0?h||(h=W(),h.c(),h.m(n,null)):h&&(h.d(1),h=null)},i:V,o:V,d(l){l&&(T(e),T(b)),$(c,l),h&&h.d(),J=!1,B()}}}function ne(a,e,t){let{form:o}=e,{data:i}=e,{collections:d,remaining:v,totalCollections:n,batchSize:u,batchIterator:m}=i;return a.$$set=g=>{"form"in g&&t(0,o=g.form),"data"in g&&t(5,i=g.data)},a.$$.update=()=>{a.$$.dirty&32&&t(1,{collections:d,remaining:v,totalCollections:n,batchSize:u,batchIterator:m}=i,d,(t(2,v),t(5,i)),(t(3,u),t(5,i)),(t(4,m),t(5,i)))},[o,d,v,u,m,i]}class ce extends ee{constructor(e){super(),te(this,e,ne,ae,Y,{form:0,data:5})}}export{ce as component};
