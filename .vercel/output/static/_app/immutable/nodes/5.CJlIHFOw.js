import{s as Ke,A as Ne,a as f,e as u,p as Qe,f as h,g as p,c as d,b as V,w,r as t,i as A,h as n,D as Ze,B as Oe,t as et,d as tt,C as Fe,n as ce}from"../chunks/scheduler.CXRP0wEC.js";import{S as at,i as st,e as Ge,c as re,b as ne,m as ie,t as oe,a as ue,d as de}from"../chunks/index.a6HmqSPn.js";import{e as lt}from"../chunks/forms.CTZFOOt3.js";import"../chunks/entry.a6gQbV6m.js";import{P as rt}from"../chunks/PanelHeader.CqWWMOkt.js";import{M as nt}from"../chunks/MusicBrainzSearch.COTOpnB5.js";import{N as it}from"../chunks/NotificationModal.C0Og5Del.js";import{R as ot}from"../chunks/RedirectModal.CU5NUfaj.js";function ut(i){let e;return{c(){e=et("create profile")},l(l){e=tt(l,"create profile")},m(l,a){A(l,e,a)},d(l){l&&h(e)}}}function je(i){let e,l;return{c(){e=u("img"),this.h()},l(a){e=d(a,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){Fe(e.src,l=i[3].img_url)||t(e,"src",l),t(e,"alt","user avatar"),t(e,"class","svelte-427bvk")},m(a,c){A(a,e,c)},p(a,c){c&8&&!Fe(e.src,l=a[3].img_url)&&t(e,"src",l)},d(a){a&&h(e)}}}function We(i){let e,l="update submitted";return{c(){e=u("p"),e.textContent=l},l(a){e=d(a,"P",{"data-svelte-h":!0}),w(e)!=="svelte-lqrnc8"&&(e.textContent=l)},m(a,c){A(a,e,c)},d(a){a&&h(e)}}}function dt(i){let e,l="Try Another Username";return{c(){e=u("span"),e.textContent=l,this.h()},l(a){e=d(a,"SPAN",{slot:!0,"data-svelte-h":!0}),w(e)!=="svelte-x9byfk"&&(e.textContent=l),this.h()},h(){t(e,"slot","header-text")},m(a,c){A(a,e,c)},p:ce,d(a){a&&h(e)}}}function ct(i){let e,l=`That Username is already taken, but you can use it for your Display Name.
    <br/> <br/>
    Your Display Name is what other people on the site will actually see.`;return{c(){e=u("span"),e.innerHTML=l,this.h()},l(a){e=d(a,"SPAN",{slot:!0,"data-svelte-h":!0}),w(e)!=="svelte-1railol"&&(e.innerHTML=l),this.h()},h(){t(e,"slot","message")},m(a,c){A(a,e,c)},p:ce,d(a){a&&h(e)}}}function mt(i){let e,l="Profiled created!";return{c(){e=u("span"),e.textContent=l,this.h()},l(a){e=d(a,"SPAN",{slot:!0,"data-svelte-h":!0}),w(e)!=="svelte-lb2y8o"&&(e.textContent=l),this.h()},h(){t(e,"slot","header-text")},m(a,c){A(a,e,c)},p:ce,d(a){a&&h(e)}}}function ft(i){let e,l="Automatically redirecting to our Community Guidelines in 5 seconds.";return{c(){e=u("span"),e.textContent=l,this.h()},l(a){e=d(a,"SPAN",{slot:!0,"data-svelte-h":!0}),w(e)!=="svelte-1cu1ln5"&&(e.textContent=l),this.h()},h(){t(e,"slot","message")},m(a,c){A(a,e,c)},p:ce,d(a){a&&h(e)}}}function pt(i){var qe,Se,ze,Be,Ve;let e,l,a,c,I,r,x,G="Email",X,$,Y,_,Pe='<label class="text-label" for="username" form="account-data">Username</label> <span class="label-explainer">* required</span>',me,T,fe,H,Me='<label class="text-label" for="displayName">Display name</label> <span class="label-explainer">* required</span>',pe,P,he,M,Ee="about me",_e,y,ve,E,ke="Website",be,k,ge,L,Z,$e,U,ee,Ce,v,D,Le="choose an album cover for your avatar",xe,j,N,Ie,we,ye,te,ae,W,q,R,Ue="submit",se,S,le,z,O,Ae,De;a=new rt({props:{$$slots:{default:[ut]},$$scope:{ctx:i}}});function Ye(s){i[7](s)}function Je(s){i[8](s)}let Te={searchCategory:"release_groups",searchButtonText:"search",searchPlaceholder:"Search for an album",mode:"single"};i[3]!==void 0&&(Te.addedItems=i[3]),i[2]!==void 0&&(Te.newItemAdded=i[2]),N=new nt({props:Te}),Ne.push(()=>Ge(N,"addedItems",Ye)),Ne.push(()=>Ge(N,"newItemAdded",Je));let b=i[3].img_url.length>0&&je(i),g=((qe=i[0])==null?void 0:qe.success)&&We();return S=new it({props:{showModal:(Se=i[0])!=null&&Se.success?!((ze=i[0])!=null&&ze.success):!1,$$slots:{message:[ct],"header-text":[dt]},$$scope:{ctx:i}}}),z=new ot({props:{showModal:(Be=i[0])!=null&&Be.success?(Ve=i[0])==null?void 0:Ve.success:!1,redirectPath:"/about#guidelines",$$slots:{message:[ft],"header-text":[mt]},$$scope:{ctx:i}}}),{c(){e=f(),l=u("div"),re(a.$$.fragment),c=f(),I=u("div"),r=u("form"),x=u("label"),x.textContent=G,X=f(),$=u("input"),Y=f(),_=u("div"),_.innerHTML=Pe,me=f(),T=u("input"),fe=f(),H=u("div"),H.innerHTML=Me,pe=f(),P=u("input"),he=f(),M=u("label"),M.textContent=Ee,_e=f(),y=u("textarea"),ve=f(),E=u("label"),E.textContent=ke,be=f(),k=u("input"),ge=f(),L=u("input"),$e=f(),U=u("input"),Ce=f(),v=u("div"),D=u("label"),D.textContent=Le,xe=f(),j=u("div"),re(N.$$.fragment),ye=f(),b&&b.c(),te=f(),g&&g.c(),ae=f(),W=u("div"),q=u("button"),R=u("div"),R.textContent=Ue,se=f(),re(S.$$.fragment),le=f(),re(z.$$.fragment),this.h()},l(s){Qe("svelte-1xptdys",document.head).forEach(h),e=p(s),l=d(s,"DIV",{class:!0,id:!0});var F=V(l);ne(a.$$.fragment,F),c=p(F),I=d(F,"DIV",{class:!0});var B=V(I);r=d(B,"FORM",{id:!0,class:!0,method:!0,action:!0});var o=V(r);x=d(o,"LABEL",{class:!0,for:!0,form:!0,"data-svelte-h":!0}),w(x)!=="svelte-jusps0"&&(x.textContent=G),X=p(o),$=d(o,"INPUT",{class:!0,type:!0,name:!0,id:!0,form:!0}),Y=p(o),_=d(o,"DIV",{class:!0,"data-svelte-h":!0}),w(_)!=="svelte-69r4ah"&&(_.innerHTML=Pe),me=p(o),T=d(o,"INPUT",{class:!0,type:!0,name:!0,id:!0,form:!0}),fe=p(o),H=d(o,"DIV",{class:!0,"data-svelte-h":!0}),w(H)!=="svelte-xhxh7t"&&(H.innerHTML=Me),pe=p(o),P=d(o,"INPUT",{class:!0,type:!0,name:!0,id:!0}),he=p(o),M=d(o,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),w(M)!=="svelte-12v3eeq"&&(M.textContent=Ee),_e=p(o),y=d(o,"TEXTAREA",{id:!0,name:!0,rows:!0,cols:!0,maxlength:!0,spellcheck:!0}),V(y).forEach(h),ve=p(o),E=d(o,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),w(E)!=="svelte-1r1mu05"&&(E.textContent=ke),be=p(o),k=d(o,"INPUT",{class:!0,type:!0,name:!0,id:!0}),ge=p(o),L=d(o,"INPUT",{type:!0,name:!0,id:!0}),$e=p(o),U=d(o,"INPUT",{type:!0,name:!0,id:!0}),o.forEach(h),Ce=p(B),v=d(B,"DIV",{class:!0});var C=V(v);D=d(C,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),w(D)!=="svelte-1auqosk"&&(D.textContent=Le),xe=p(C),j=d(C,"DIV",{class:!0});var J=V(j);ne(N.$$.fragment,J),J.forEach(h),ye=p(C),b&&b.l(C),te=p(C),g&&g.l(C),ae=p(C),W=d(C,"DIV",{class:!0});var K=V(W);q=d(K,"BUTTON",{class:!0,type:!0});var Q=V(q);R=d(Q,"DIV",{class:!0,"data-svelte-h":!0}),w(R)!=="svelte-891wr"&&(R.textContent=Ue),Q.forEach(h),K.forEach(h),C.forEach(h),B.forEach(h),F.forEach(h),se=p(s),ne(S.$$.fragment,s),le=p(s),ne(z.$$.fragment,s),this.h()},h(){document.title=`
		Create Profile
	`,t(x,"class","text-label"),t(x,"for","email"),t(x,"form","account-data"),t($,"class","text"),t($,"type","text"),t($,"name","email"),t($,"id","email"),t($,"form","account-data"),$.value=i[1],$.disabled=!0,t(_,"class","label-group"),t(T,"class","text"),t(T,"type","text"),t(T,"name","username"),t(T,"id","username"),t(T,"form","account-data"),T.value=Xe,T.required=!0,t(H,"class","label-group"),t(P,"class","text"),t(P,"type","text"),t(P,"name","displayName"),t(P,"id","displayName"),P.value=ht,P.required=!0,t(M,"class","text-label"),t(M,"for","description"),t(y,"id","about"),t(y,"name","about"),t(y,"rows","3"),t(y,"cols","1"),t(y,"maxlength","140"),t(y,"spellcheck","true"),y.value=_t,t(E,"class","text-label"),t(E,"for","website"),t(k,"class","text"),t(k,"type","url"),t(k,"name","website"),t(k,"id","website"),k.value=vt,t(L,"type","hidden"),t(L,"name","avatarUrl"),t(L,"id","avatarUrl"),L.value=Z=i[3].img_url,t(U,"type","hidden"),t(U,"name","avatarMbid"),t(U,"id","avatarMbid"),U.value=ee=i[3].release_group_mbid,t(r,"id","account-data"),t(r,"class","form-column"),t(r,"method","POST"),t(r,"action","?/create"),t(D,"class","text-label"),t(D,"for","avatarUrl"),t(j,"class","mb-search svelte-427bvk"),t(R,"class","inner-border"),t(q,"class","double-border-top"),t(q,"type","submit"),q.disabled=!Xe,t(W,"class","actions svelte-427bvk"),t(v,"class","form-column"),t(I,"class","form-wrapper svelte-427bvk"),t(l,"class","panel"),t(l,"id","profile-info")},m(s,m){A(s,e,m),A(s,l,m),ie(a,l,null),n(l,c),n(l,I),n(I,r),n(r,x),n(r,X),n(r,$),n(r,Y),n(r,_),n(r,me),n(r,T),n(r,fe),n(r,H),n(r,pe),n(r,P),n(r,he),n(r,M),n(r,_e),n(r,y),n(r,ve),n(r,E),n(r,be),n(r,k),n(r,ge),n(r,L),n(r,$e),n(r,U),i[6](r),n(I,Ce),n(I,v),n(v,D),n(v,xe),n(v,j),ie(N,j,null),n(v,ye),b&&b.m(v,null),n(v,te),g&&g.m(v,null),n(v,ae),n(v,W),n(W,q),n(q,R),A(s,se,m),ie(S,s,m),A(s,le,m),ie(z,s,m),O=!0,Ae||(De=Ze(lt.call(null,r)),Ae=!0)},p(s,[m]){var J,K,Q,He,Re;const F={};m&512&&(F.$$scope={dirty:m,ctx:s}),a.$set(F),(!O||m&2&&$.value!==s[1])&&($.value=s[1]),(!O||m&8&&Z!==(Z=s[3].img_url))&&(L.value=Z),(!O||m&8&&ee!==(ee=s[3].release_group_mbid))&&(U.value=ee);const B={};!Ie&&m&8&&(Ie=!0,B.addedItems=s[3],Oe(()=>Ie=!1)),!we&&m&4&&(we=!0,B.newItemAdded=s[2],Oe(()=>we=!1)),N.$set(B),s[3].img_url.length>0?b?b.p(s,m):(b=je(s),b.c(),b.m(v,te)):b&&(b.d(1),b=null),(J=s[0])!=null&&J.success?g||(g=We(),g.c(),g.m(v,ae)):g&&(g.d(1),g=null);const o={};m&1&&(o.showModal=(K=s[0])!=null&&K.success?!((Q=s[0])!=null&&Q.success):!1),m&512&&(o.$$scope={dirty:m,ctx:s}),S.$set(o);const C={};m&1&&(C.showModal=(He=s[0])!=null&&He.success?(Re=s[0])==null?void 0:Re.success:!1),m&512&&(C.$$scope={dirty:m,ctx:s}),z.$set(C)},i(s){O||(oe(a.$$.fragment,s),oe(N.$$.fragment,s),oe(S.$$.fragment,s),oe(z.$$.fragment,s),O=!0)},o(s){ue(a.$$.fragment,s),ue(N.$$.fragment,s),ue(S.$$.fragment,s),ue(z.$$.fragment,s),O=!1},d(s){s&&(h(e),h(l),h(se),h(le)),de(a),i[6](null),de(N),b&&b.d(),g&&g.d(),de(S,s),de(z,s),Ae=!1,De()}}}let Xe="",ht="",_t="",vt="";function bt(i,e,l){let{data:a}=e,{form:c}=e,{email:I}=a,r=!1,x={img_url:"",release_group_mbid:"",release_group_name:""},G;console.log(c==null?void 0:c.success);function X(_){Ne[_?"unshift":"push"](()=>{G=_,l(4,G)})}function $(_){x=_,l(3,x)}function Y(_){r=_,l(2,r)}return i.$$set=_=>{"data"in _&&l(5,a=_.data),"form"in _&&l(0,c=_.form)},i.$$.update=()=>{i.$$.dirty&32&&l(1,{email:I}=a,I),i.$$.dirty&1},[c,I,r,x,G,a,X,$,Y]}class Tt extends at{constructor(e){super(),st(this,e,bt,pt,Ke,{data:5,form:0})}}export{Tt as component};
