import{s as lt,A as Me,a as m,e as d,t as Ze,p as rt,f as p,g as f,c as o,b as A,w as X,d as et,r as e,i as ae,h as t,B as Fe,C as Pe,n as st}from"../chunks/scheduler.CXRP0wEC.js";import{S as nt,i as ut,e as Re,c as je,b as Ge,m as We,t as Xe,a as Je,d as Ke}from"../chunks/index.a6HmqSPn.js";import"../chunks/entry.a6gQbV6m.js";import{M as it}from"../chunks/MusicBrainzSearch.COTOpnB5.js";import{P as dt}from"../chunks/PanelHeader.CqWWMOkt.js";function ot(n){let l;return{c(){l=Ze("profile info")},l(s){l=et(s,"profile info")},m(s,u){ae(s,l,u)},d(s){s&&p(l)}}}function ct(n){let l,s;return{c(){l=d("img"),this.h()},l(u){l=o(u,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){Pe(l.src,s=n[1].img_url)||e(l,"src",s),e(l,"alt","user avatar"),e(l,"class","svelte-427bvk")},m(u,_){ae(u,l,_)},p(u,_){_&2&&!Pe(l.src,s=u[1].img_url)&&e(l,"src",s)},d(u){u&&p(l)}}}function mt(n){let l,s;return{c(){l=d("img"),this.h()},l(u){l=o(u,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){Pe(l.src,s=n[8])||e(l,"src",s),e(l,"alt","user avatar"),e(l,"class","svelte-427bvk")},m(u,_){ae(u,l,_)},p:st,d(u){u&&p(l)}}}function Qe(n){let l,s="update submitted";return{c(){l=d("p"),l.textContent=s},l(u){l=o(u,"P",{"data-svelte-h":!0}),X(l)!=="svelte-lqrnc8"&&(l.textContent=s)},m(u,_){ae(u,l,_)},d(u){u&&p(l)}}}function ft(n){var qe;let l,s,u,_,U,a,L,c='<label class="text-label" for="email" form="account-data">Email</label> <a class="label-link" href="/account/update-email">update email</a>',C,I,J,x,ue='<label class="text-label" for="username" form="account-data">Username</label> <a class="label-link" href="/account/update-username">update username</a>',le,T,re,E,ie="Display name",se,N,g,z,Le="about me",pe,k,ve,B,xe="Website",_e,V,be,K,he,q,de,ge,S,ye,H,oe,Ie,O,ce,Ce,b,$,De="choose an album cover for your avatar",we,Z,M,Te,Ue,ke,me,fe,F,D,ee,ze="Update profile",Ae,Ee,R,j,Q,Be="Sign Out",G;u=new dt({props:{$$slots:{default:[ot]},$$scope:{ctx:n}}});function tt(r){n[14](r)}function at(r){n[15](r)}let Ne={searchCategory:"release_groups",searchButtonText:"search",searchPlaceholder:"Search for an album",mode:"single",limit:"10",avatarSearch:!0};n[1]!==void 0&&(Ne.addedItems=n[1]),n[2]!==void 0&&(Ne.newItemAdded=n[2]),M=new it({props:Ne}),Me.push(()=>Re(M,"addedItems",tt)),Me.push(()=>Re(M,"newItemAdded",at));function Ve(r,v){if(r[8]&&!r[2])return mt;if(r[1]&&r[2])return ct}let te=Ve(n),h=te&&te(n),y=((qe=n[0])==null?void 0:qe.success)&&Qe();return{c(){l=m(),s=d("div"),je(u.$$.fragment),_=m(),U=d("div"),a=d("form"),L=d("div"),L.innerHTML=c,C=m(),I=d("input"),J=m(),x=d("div"),x.innerHTML=ue,le=m(),T=d("input"),re=m(),E=d("label"),E.textContent=ie,se=m(),N=d("input"),g=m(),z=d("label"),z.textContent=Le,pe=m(),k=d("textarea"),ve=m(),B=d("label"),B.textContent=xe,_e=m(),V=d("input"),be=m(),K=d("input"),he=m(),q=d("input"),ge=m(),S=d("input"),ye=m(),H=d("input"),Ie=m(),O=d("input"),Ce=m(),b=d("div"),$=d("label"),$.textContent=De,we=m(),Z=d("div"),je(M.$$.fragment),ke=m(),h&&h.c(),me=m(),y&&y.c(),fe=m(),F=d("div"),D=d("button"),ee=d("div"),Ae=Ze(ze),Ee=m(),R=d("form"),j=d("button"),Q=d("div"),Q.textContent=Be,this.h()},l(r){rt("svelte-y5tsqi",document.head).forEach(p),l=f(r),s=o(r,"DIV",{class:!0,id:!0});var P=A(s);Ge(u.$$.fragment,P),_=f(P),U=o(P,"DIV",{class:!0});var W=A(U);a=o(W,"FORM",{id:!0,class:!0,method:!0,action:!0});var i=A(a);L=o(i,"DIV",{class:!0,"data-svelte-h":!0}),X(L)!=="svelte-183sajv"&&(L.innerHTML=c),C=f(i),I=o(i,"INPUT",{class:!0,type:!0,name:!0,id:!0,form:!0}),J=f(i),x=o(i,"DIV",{class:!0,"data-svelte-h":!0}),X(x)!=="svelte-h704yv"&&(x.innerHTML=ue),le=f(i),T=o(i,"INPUT",{class:!0,type:!0,name:!0,id:!0,form:!0}),re=f(i),E=o(i,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),X(E)!=="svelte-1sm0p9x"&&(E.textContent=ie),se=f(i),N=o(i,"INPUT",{class:!0,type:!0,name:!0,id:!0}),g=f(i),z=o(i,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),X(z)!=="svelte-12v3eeq"&&(z.textContent=Le),pe=f(i),k=o(i,"TEXTAREA",{id:!0,name:!0,rows:!0,cols:!0,maxlength:!0,spellcheck:!0}),A(k).forEach(p),ve=f(i),B=o(i,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),X(B)!=="svelte-1r1mu05"&&(B.textContent=xe),_e=f(i),V=o(i,"INPUT",{class:!0,type:!0,name:!0,id:!0}),be=f(i),K=o(i,"INPUT",{type:!0,name:!0,id:!0}),he=f(i),q=o(i,"INPUT",{type:!0,name:!0,id:!0}),ge=f(i),S=o(i,"INPUT",{type:!0,name:!0,id:!0}),ye=f(i),H=o(i,"INPUT",{type:!0,name:!0,id:!0}),Ie=f(i),O=o(i,"INPUT",{type:!0,name:!0,id:!0}),i.forEach(p),Ce=f(W),b=o(W,"DIV",{class:!0});var w=A(b);$=o(w,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),X($)!=="svelte-1auqosk"&&($.textContent=De),we=f(w),Z=o(w,"DIV",{class:!0});var ne=A(Z);Ge(M.$$.fragment,ne),ne.forEach(p),ke=f(w),h&&h.l(w),me=f(w),y&&y.l(w),fe=f(w),F=o(w,"DIV",{class:!0});var Y=A(F);D=o(Y,"BUTTON",{form:!0,class:!0,type:!0});var Se=A(D);ee=o(Se,"DIV",{class:!0});var He=A(ee);Ae=et(He,ze),He.forEach(p),Se.forEach(p),Ee=f(Y),R=o(Y,"FORM",{class:!0,method:!0,action:!0});var Oe=A(R);j=o(Oe,"BUTTON",{class:!0,type:!0});var $e=A(j);Q=o($e,"DIV",{class:!0,"data-svelte-h":!0}),X(Q)!=="svelte-178fjze"&&(Q.textContent=Be),$e.forEach(p),Oe.forEach(p),Y.forEach(p),w.forEach(p),W.forEach(p),P.forEach(p),this.h()},h(){var r,v,P;document.title=`
		Account
	`,e(L,"class","label-group"),e(I,"class","text"),e(I,"type","text"),e(I,"name","email"),e(I,"id","email"),e(I,"form","account-data"),I.value=n[10],I.disabled=!0,e(x,"class","label-group"),e(T,"class","text"),e(T,"type","text"),e(T,"name","username"),e(T,"id","username"),e(T,"form","account-data"),T.value=n[6],T.disabled=!0,e(E,"class","text-label"),e(E,"for","displayName"),e(N,"class","text"),e(N,"type","text"),e(N,"name","displayName"),e(N,"id","displayName"),N.value=n[5],e(z,"class","text-label"),e(z,"for","description"),e(k,"id","about"),e(k,"name","about"),e(k,"rows","3"),e(k,"cols","1"),e(k,"maxlength","140"),e(k,"spellcheck","true"),k.value=n[9],e(B,"class","text-label"),e(B,"for","website"),e(V,"class","text"),e(V,"type","url"),e(V,"name","website"),e(V,"id","website"),V.value=n[7],e(K,"type","hidden"),e(K,"name","avatarUrl"),e(K,"id","avatarUrl"),K.value=n[8],e(q,"type","hidden"),e(q,"name","newAvatarUrl"),e(q,"id","newAvatarUrl"),q.value=de=(r=n[1])==null?void 0:r.img_url,e(S,"type","hidden"),e(S,"name","avatarMbid"),e(S,"id","avatarMbid"),S.value=n[4],e(H,"type","hidden"),e(H,"name","newAvatarMbid"),e(H,"id","newAvatarMbid"),H.value=oe=(v=n[1])==null?void 0:v.release_group_mbid,e(O,"type","hidden"),e(O,"name","avatarName"),e(O,"id","avatarName"),O.value=ce=(P=n[1])==null?void 0:P.release_group_name,e(a,"id","account-data"),e(a,"class","form-column"),e(a,"method","post"),e(a,"action","?/update"),e($,"class","text-label"),e($,"for","avatarUrl"),e(Z,"class","mb-search svelte-427bvk"),e(ee,"class","inner-border"),e(D,"form","account-data"),e(D,"class","double-border-top"),e(D,"type","submit"),D.disabled=Ye,e(Q,"class","inner-border"),e(j,"class","double-border-top"),e(j,"type","submit"),j.disabled=Ye,e(R,"class","signout"),e(R,"method","post"),e(R,"action","?/signout"),e(F,"class","actions svelte-427bvk"),e(b,"class","form-column"),e(U,"class","form-wrapper svelte-427bvk"),e(s,"class","panel"),e(s,"id","profile-info")},m(r,v){ae(r,l,v),ae(r,s,v),We(u,s,null),t(s,_),t(s,U),t(U,a),t(a,L),t(a,C),t(a,I),t(a,J),t(a,x),t(a,le),t(a,T),t(a,re),t(a,E),t(a,se),t(a,N),t(a,g),t(a,z),t(a,pe),t(a,k),t(a,ve),t(a,B),t(a,_e),t(a,V),t(a,be),t(a,K),t(a,he),t(a,q),t(a,ge),t(a,S),t(a,ye),t(a,H),t(a,Ie),t(a,O),n[13](a),t(U,Ce),t(U,b),t(b,$),t(b,we),t(b,Z),We(M,Z,null),t(b,ke),h&&h.m(b,null),t(b,me),y&&y.m(b,null),t(b,fe),t(b,F),t(F,D),t(D,ee),t(ee,Ae),t(F,Ee),t(F,R),t(R,j),t(j,Q),G=!0},p(r,[v]){var i,w,ne,Y;const P={};v&262144&&(P.$$scope={dirty:v,ctx:r}),u.$set(P),(!G||v&2&&de!==(de=(i=r[1])==null?void 0:i.img_url))&&(q.value=de),(!G||v&16)&&(S.value=r[4]),(!G||v&2&&oe!==(oe=(w=r[1])==null?void 0:w.release_group_mbid))&&(H.value=oe),(!G||v&2&&ce!==(ce=(ne=r[1])==null?void 0:ne.release_group_name))&&(O.value=ce);const W={};!Te&&v&2&&(Te=!0,W.addedItems=r[1],Fe(()=>Te=!1)),!Ue&&v&4&&(Ue=!0,W.newItemAdded=r[2],Fe(()=>Ue=!1)),M.$set(W),te===(te=Ve(r))&&h?h.p(r,v):(h&&h.d(1),h=te&&te(r),h&&(h.c(),h.m(b,me))),(Y=r[0])!=null&&Y.success?y||(y=Qe(),y.c(),y.m(b,fe)):y&&(y.d(1),y=null)},i(r){G||(Xe(u.$$.fragment,r),Xe(M.$$.fragment,r),G=!0)},o(r){Je(u.$$.fragment,r),Je(M.$$.fragment,r),G=!1},d(r){r&&(p(l),p(s)),Ke(u),n[13](null),Ke(M),h&&h.d(),y&&y.d()}}}let Ye=!1;function pt(n,l,s){let u,{data:_}=l,{form:U}=l,{user:a,sessionUserId:L,profile:c}=_,C,I,J,x=(c==null?void 0:c.display_name)??"",ue=(c==null?void 0:c.username)??"",le=(c==null?void 0:c.website)??"",T=(C==null?void 0:C.avatar_url)??(c==null?void 0:c.avatar_url)??"",re=(c==null?void 0:c.about)??"",E=a==null?void 0:a.email;function ie(g){Me[g?"unshift":"push"](()=>{J=g,s(3,J)})}function se(g){C=g,s(1,C)}function N(g){I=g,s(2,I)}return n.$$set=g=>{"data"in g&&s(11,_=g.data),"form"in g&&s(0,U=g.form)},n.$$.update=()=>{n.$$.dirty&2048&&s(12,{user:a,sessionUserId:L,profile:c}=_,c),n.$$.dirty&4098&&s(4,u=(C==null?void 0:C.release_group_mbid)??(c==null?void 0:c.avatar_mbid)??"")},[U,C,I,J,u,x,ue,le,T,re,E,_,c,ie,se,N]}class yt extends nt{constructor(l){super(),ut(this,l,pt,ft,lt,{data:11,form:0})}}export{yt as component};
