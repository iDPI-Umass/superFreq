import"../chunks/CWj6FrbW.js";import{p as j,f as B,t as D,g as s,b as F,d as t,c as g,s as S,a as T,r as b,e as G}from"../chunks/DKxP8oaF.js";import{t as r,a as i}from"../chunks/DCT9fmD9.js";import{i as q}from"../chunks/XPA7DDzn.js";import{r as _,b as I}from"../chunks/DubPOQGL.js";import{b as A}from"../chunks/Nvk8_zKA.js";import{S as J}from"../chunks/CdBRc-Mf.js";import{P as K}from"../chunks/BNhe8YCt.js";var L=r('<span class="svelte-nqgcci">update email address</span>'),M=r('<dialog open class="svelte-nqgcci"><button class="standard svelte-nqgcci">x</button> <p class="svelte-nqgcci">Check your inbox to confirm your new email address</p></dialog>'),Q=r('<dialog open class="svelte-nqgcci"><button class="standard svelte-nqgcci">x</button> <p class="svelte-nqgcci">Something went wrong, please reload this page and try again.</p></dialog>'),R=r('<dialog open class="svelte-nqgcci"><form method="dialog" class="svelte-nqgcci"><button class="standard svelte-nqgcci">x</button> <p class="svelte-nqgcci">That username is not available. Please try another.</p></form></dialog>'),V=r('<!> <div class="panel svelte-nqgcci" id="profile-info"><!> <form class="horizontal svelte-nqgcci" id="account-data" method="POST"><div class="form-column svelte-nqgcci"><label class="text-label svelte-nqgcci" for="current-username" form="account-data">Current Email Address</label> <input class="text svelte-nqgcci" type="email" name="current-email" id="current-email" form="account-data" disabled> <label class="text-label svelte-nqgcci" for="new-email" form="account-data">New Email Address</label> <input class="text svelte-nqgcci" type="text" name="new-email" id="new-email" form="account-data"> <label class="text-label svelte-nqgcci" for="confirm-email" form="account-data">Confirm New Email Address</label> <input class="text svelte-nqgcci" type="text" name="confirm-email" id="confirm-email" form="account-data"> <button type="submit" class="standard svelte-nqgcci">update email address</button> <!></div></form> <!></div>',1);function sa(C,l){j(l,!0);let o=T(""),n=T(""),U=G(()=>l.data.sessionUserEmail);var x=V(),h=B(x);J(h,{title:"Update email"});var w=t(h,2),y=g(w);K(y,{headerText:e=>{var u=L();i(e,u)}});var d=t(y,2),E=g(d),m=t(g(E),2);_(m);var v=t(m,4);_(v);var f=t(v,4);_(f);var P=t(f,2),k=t(P,2);{var N=a=>{var e=M();i(a,e)},O=(a,e)=>{{var u=p=>{var c=Q();i(p,c)};q(a,p=>{var c;((c=l.form)==null?void 0:c.success)==!1&&p(u)},e)}};q(k,a=>{var e;((e=l.form)==null?void 0:e.success)==!0?a(N):a(O,!1)})}b(E),b(d);var z=t(d,2);{var H=a=>{var e=R();i(a,e)};q(z,a=>{var e;((e=l.form)==null?void 0:e.success)==!1&&a(H)})}b(w),D(()=>{I(m,s(U)),P.disabled=s(o)==""||s(o)!=s(n)}),A(v,()=>s(o),a=>S(o,a)),A(f,()=>s(n),a=>S(n,a)),i(C,x),F()}export{sa as component};
