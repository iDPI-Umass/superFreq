import"../chunks/CWj6FrbW.js";import{p as $,ai as ee,f as ae,c as i,t as B,g as a,b as te,d as r,e as _,s as n,a as C,n as g,r as l}from"../chunks/DKxP8oaF.js";import{s as J}from"../chunks/d8TzcK2t.js";import{t as w,a as y}from"../chunks/DCT9fmD9.js";import{a as ie}from"../chunks/Pq-04fzQ.js";import{r as u}from"../chunks/DubPOQGL.js";import{b as K,a as x}from"../chunks/Nvk8_zKA.js";import{e as re}from"../chunks/B9Qn1ecM.js";import{i as le}from"../chunks/ryZ2lNj1.js";import{S as se}from"../chunks/CdBRc-Mf.js";import{P as oe}from"../chunks/BNhe8YCt.js";import{N as ne}from"../chunks/BPwSGjQ8.js";var ue=w("<span>request an invite</span>"),de=w("<span> </span>"),ve=w("<span> </span>"),fe=w(`<!> <div class="panel" id="profile-info"><!> <div class="form-wrapper svelte-1u0hv8l"><form class="form-column" method="post" action="?/invite"><div class="label-group"><label class="text-label" for="email">Email address</label></div> <input class="text" type="email" name="email" id="email"> <div class="label-group"><label class="text-label" for="referred-by">How did you hear about Freq?</label></div> <input class="text" type="text" name="referred-by" id="referred-by"> <fieldset class="search"><p>According to our <a href="/about#guidelines">community guidelines</a>, what should you do when you're in doubt?</p> <ul><li class="svelte-1u0hv8l"><input class="radio" type="radio" name="item-type" id="listen"> <label for="listen">Listen to music</label></li> <li class="svelte-1u0hv8l"><input class="radio" type="radio" name="item-type" id="PLUR"> <label for="PLUR">PLUR</label></li> <li class="svelte-1u0hv8l"><input class="radio" type="radio" name="item-type" id="fight"> <label for="fight">Start a fight with a stranger</label></li> <li class="svelte-1u0hv8l"><input class="radio" type="radio" name="item-type" id="doubt"> <label for="doubt">Sit with your doubt</label></li></ul></fieldset> <button class="standard" type="submit">request invite</button></form></div></div> <!>`,1);function Le(Q,d){$(d,!0);const f=[];let P=C(null),q=C(null),V=_(()=>{var e;return((e=d.form)==null?void 0:e.success)??!1}),m=_(()=>{var e;return((e=d.form)==null?void 0:e.authError)??!1}),F=_(()=>{var e;return((e=d.form)==null?void 0:e.approved)??!1}),M=_(()=>{var e;return((e=d.form)==null?void 0:e.user_id)??null}),s=C(void 0);function W(e,t){if(!e&&!t)return"invite requested";if(e&&!t)return"invite approved";if(e&&t)return"check your inbox";if(a(m)&&e||t)return"login error"}function X(e,t){if(e){if(!a(m)&&e&&!t)return"Check your inbox for a sign in link to finish creating your profile.";if(!a(m)&&e&&t)return"You already have an account! Check your inbox for a sign-in link.";if(a(m)&&e||t)return"You have an approved invite or an active account, but there was some issue with signing you in. Please visit the home page and try signing in again."}else return"Thank you for your interest in joining the Freq beta test! You'll receive an email soon once your invite has been approved."}ee(()=>{le()});var N=fe(),j=ae(N);se(j,{title:"Invite request"});var L=r(j,2),z=i(L);oe(z,{headerText:t=>{var v=ue();y(t,v)}});var O=r(z,2),k=i(O),R=r(i(k),2);u(R);var T=r(R,4);u(T);var U=r(T,2),D=r(i(U),2),E=i(D),p=i(E);u(p),p.value=(p.__value="listen")==null?"":"listen",g(2),l(E);var S=r(E,2),c=i(S);u(c),c.value=(c.__value="PLUR")==null?"":"PLUR",g(2),l(S);var A=r(S,2),b=i(A);u(b),b.value=(b.__value="fight")==null?"":"fight",g(2),l(A);var G=r(A,2),h=i(G);u(h),h.value=(h.__value="doubt")==null?"":"doubt",g(2),l(G),l(D),l(U);var Z=r(U,2);l(k),ie(k,e=>{var t;return(t=re)==null?void 0:t(e)}),l(O),l(L);var I=r(L,2);ne(I,{get showModal(){return a(V)},headerText:v=>{var o=de(),H=i(o,!0);l(o),B(Y=>J(H,Y),[()=>W(a(F),a(M))]),y(v,o)},message:v=>{var o=ve(),H=i(o,!0);l(o),B(Y=>J(H,Y),[()=>X(a(F),a(M))]),y(v,o)},$$slots:{headerText:!0,message:!0}}),B(()=>Z.disabled=!(a(P)&&a(q)&&a(s)=="PLUR")),K(R,()=>a(P),e=>n(P,e)),K(T,()=>a(q),e=>n(q,e)),x(f,[],p,()=>a(s),e=>n(s,e)),x(f,[],c,()=>a(s),e=>n(s,e)),x(f,[],b,()=>a(s),e=>n(s,e)),x(f,[],h,()=>a(s),e=>n(s,e)),y(Q,N),te()}export{Le as component};
