import"../chunks/CWj6FrbW.js";import{p as A,ai as C,u as E,f as H,g as t,t as T,b as I,d as r,c as i,e as u,s as P,a as j,n as q,r as c}from"../chunks/DKxP8oaF.js";import{s as B}from"../chunks/d8TzcK2t.js";import{t as m,a as l}from"../chunks/DCT9fmD9.js";import{r as U,b as N}from"../chunks/DubPOQGL.js";import{p as D}from"../chunks/DIWzF7VF.js";import{i as F}from"../chunks/ryZ2lNj1.js";import{S as G}from"../chunks/CdBRc-Mf.js";import{P as J}from"../chunks/BNhe8YCt.js";import{N as K}from"../chunks/BPwSGjQ8.js";import{R as L}from"../chunks/Q8xIgErW.js";var Q=m("<span>update username</span>"),V=m("<span>Username taken</span>"),W=m("<span>Please try another username.</span>"),X=m("<span> </span>"),Y=m('<!> <div class="panel svelte-1vdlbrh" id="profile-info"><!> <form class="horizontal" id="account-data" method="POST"><div class="form-column"><label class="text-label" for="current-username" form="account-data">Current Username</label> <input class="text svelte-1vdlbrh" type="text" name="current-username" id="current-username" form="account-data" disabled> <label class="text-label" for="new-username" form="account-data">New Username</label> <input class="text svelte-1vdlbrh" type="text" name="new-username" id="new-username" form="account-data"> <button type="submit" class="double-border-top"><div class="inner-border">submit</div></button></div></form> <!></div> <!>',1);function de(R,o){A(o,!0);let S=u(()=>o.data.profile),_=u(()=>{var e;return(e=t(S))==null?void 0:e.username}),b=5,d=j(0),O=u(()=>{var e;return((e=o.form)==null?void 0:e.success)==!1}),h=u(()=>{var e,s;return(e=o.form)!=null&&e.success?(s=o.form)==null?void 0:s.success:!1});C(()=>{F()}),E(()=>{t(h)&&(P(d,D(b)),setInterval(()=>P(d,t(d)-1),1e3))});var g=Y(),x=H(g);G(x,{title:"Update username"});var p=r(x,2),w=i(p);J(w,{headerText:s=>{var a=Q();l(s,a)}});var f=r(w,2),y=i(f),v=r(i(y),2);U(v);var M=r(v,4);U(M),q(2),c(y),c(f);var k=r(f,2);K(k,{get showModal(){return t(O)},headerText:a=>{var n=V();l(a,n)},message:a=>{var n=W();l(a,n)},$$slots:{headerText:!0,message:!0}}),c(p);var z=r(p,2);L(z,{get showModal(){return t(h)},get delay(){return b},redirectPath:"/account",message:s=>{var a=X(),n=i(a);c(a),T(()=>B(n,`Username updated successfully. Redirecting to your account page in ${t(d)??""} seconds.`)),l(s,a)},$$slots:{message:!0}}),T(()=>{N(v,t(_)),N(M,t(_))}),l(R,g),I()}export{de as component};
