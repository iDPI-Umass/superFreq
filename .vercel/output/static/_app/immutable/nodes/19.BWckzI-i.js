import{s as Ie,A as Ce,I as _t,a as f,e as u,p as pt,f as _,g as v,c as d,b as $,w as O,r as t,E as pe,i as I,h as i,x as ye,B as we,v as ft,t as He,d as Je,n as ut}from"../chunks/scheduler.CXRP0wEC.js";import{S as vt,i as mt,e as ke,c as je,b as Ge,m as Fe,a as fe,f as bt,t as ve,d as Xe,g as ht}from"../chunks/index.a6HmqSPn.js";import{G as gt}from"../chunks/GridList.Bf6pcDOU.js";import{M as yt}from"../chunks/MusicBrainzSearch.COTOpnB5.js";import{T as It}from"../chunks/Tooltip.YbxJkuyW.js";function at(e){let n,c;return{c(){n=u("input"),this.h()},l(s){n=d(s,"INPUT",{type:!0,name:!0,class:!0}),this.h()},h(){t(n,"type","hidden"),t(n,"name","collection-contents"),n.value=c=JSON.stringify(e[0]),t(n,"class","svelte-1aswrno")},m(s,o){I(s,n,o)},p(s,o){o&1&&c!==(c=JSON.stringify(s[0]))&&(n.value=c)},d(s){s&&_(n)}}}function ot(e){let n,c;return{c(){n=u("input"),this.h()},l(s){n=d(s,"INPUT",{type:!0,name:!0,class:!0}),this.h()},h(){t(n,"type","hidden"),t(n,"name","deleted-items"),n.value=c=JSON.stringify(e[1]),t(n,"class","svelte-1aswrno")},m(s,o){I(s,n,o)},p(s,o){o&2&&c!==(c=JSON.stringify(s[1]))&&(n.value=c)},d(s){s&&_(n)}}}function Ct(e){let n,c="Open",s,o,A,L,p,l,y="Public",g,R,m,P,C,N,x="Private",S;return{c(){n=u("u"),n.textContent=c,s=He(` collections can be viewed and edited by anyone.
                        `),o=u("br"),A=f(),L=u("br"),p=f(),l=u("u"),l.textContent=y,g=He(` collections can be viewed by anyone, but only edited by you.
                        `),R=u("br"),m=f(),P=u("br"),C=f(),N=u("u"),N.textContent=x,S=He(" collections can only be viewed and edited by you.")},l(r){n=d(r,"U",{"data-svelte-h":!0}),O(n)!=="svelte-1rxzqm4"&&(n.textContent=c),s=Je(r,` collections can be viewed and edited by anyone.
                        `),o=d(r,"BR",{}),A=v(r),L=d(r,"BR",{}),p=v(r),l=d(r,"U",{"data-svelte-h":!0}),O(l)!=="svelte-1udjsj7"&&(l.textContent=y),g=Je(r,` collections can be viewed by anyone, but only edited by you.
                        `),R=d(r,"BR",{}),m=v(r),P=d(r,"BR",{}),C=v(r),N=d(r,"U",{"data-svelte-h":!0}),O(N)!=="svelte-1jsi2fh"&&(N.textContent=x),S=Je(r," collections can only be viewed and edited by you.")},m(r,h){I(r,n,h),I(r,s,h),I(r,o,h),I(r,A,h),I(r,L,h),I(r,p,h),I(r,l,h),I(r,g,h),I(r,R,h),I(r,m,h),I(r,P,h),I(r,C,h),I(r,N,h),I(r,S,h)},p:ut,d(r){r&&(_(n),_(s),_(o),_(A),_(L),_(p),_(l),_(g),_(R),_(m),_(P),_(C),_(N),_(S))}}}function rt(e){let n,c,s,o;function A(l){e[19](l)}function L(l){e[20](l)}let p={collectionReturned:e[6],collectionType:e[8],layout:"list",mode:"edit"};return e[0]!==void 0&&(p.collectionContents=e[0]),e[1]!==void 0&&(p.deletedItems=e[1]),n=new gt({props:p}),Ce.push(()=>ke(n,"collectionContents",A)),Ce.push(()=>ke(n,"deletedItems",L)),{c(){je(n.$$.fragment)},l(l){Ge(n.$$.fragment,l)},m(l,y){Fe(n,l,y),o=!0},p(l,y){const g={};y&64&&(g.collectionReturned=l[6]),!c&&y&1&&(c=!0,g.collectionContents=l[0],we(()=>c=!1)),!s&&y&2&&(s=!0,g.deletedItems=l[1],we(()=>s=!1)),n.$set(g)},i(l){o||(ve(n.$$.fragment,l),o=!0)},o(l){fe(n.$$.fragment,l),o=!1},d(l){Xe(n,l)}}}function wt(e){var tt,lt,nt;let n,c,s,o,A='<h1 class="svelte-1aswrno">edit collection</h1>',L,p,l,y,g='<label class="text-label svelte-1aswrno" for="collection-title">collection name</label> <span class="label-explainer">* required</span>',R,m,P,C,N,x=(tt=e[0])==null?void 0:tt.length,S,r=(lt=e[1])==null?void 0:lt.length,h,V,_e,J,M,K,U="Status of collection",Ee,Q,Te,j,ee,k,Le,te,Ke="open",Ae,le,E,Ne,ne,Qe="public",Ue,se,T,$e,ie,We="private",Pe,q,W,Ye="Collection Description",Be,z,Se,G,ae,Ze="submit",me,ze,ue,H,De,Oe,Re,xe=(nt=e[0])==null?void 0:nt.length,Y,Ve,Me,et;document.title=n=`
		Edit `+e[7].title+`
	`;let F=at(e),X=ot(e);Q=new It({props:{$$slots:{default:[Ct]},$$scope:{ctx:e}}});function dt(a){e[17](a)}function ct(a){e[18](a)}let qe={searchCategory:e[8],searchButtonText:`add ${e[10][e[8]]}`,searchPlaceholder:kt,mode:"collection"};e[0]!==void 0&&(qe.addedItems=e[0]),e[6]!==void 0&&(qe.newItemAdded=e[6]),H=new yt({props:qe}),Ce.push(()=>ke(H,"addedItems",dt)),Ce.push(()=>ke(H,"newItemAdded",ct));let B=rt(e);return Ve=_t(e[14][0]),{c(){c=f(),s=u("div"),o=u("div"),o.innerHTML=A,L=f(),p=u("form"),l=u("div"),y=u("div"),y.innerHTML=g,R=f(),m=u("input"),P=f(),C=u("input"),N=f(),F.c(),S=f(),X.c(),h=f(),V=u("input"),_e=f(),J=u("fieldset"),M=u("div"),K=u("legend"),K.textContent=U,Ee=f(),je(Q.$$.fragment),Te=f(),j=u("ul"),ee=u("li"),k=u("input"),Le=f(),te=u("label"),te.textContent=Ke,Ae=f(),le=u("li"),E=u("input"),Ne=f(),ne=u("label"),ne.textContent=Qe,Ue=f(),se=u("li"),T=u("input"),$e=f(),ie=u("label"),ie.textContent=We,Pe=f(),q=u("div"),W=u("label"),W.textContent=Ye,Be=f(),z=u("textarea"),Se=f(),G=u("button"),ae=u("div"),ae.textContent=Ze,ze=f(),ue=u("div"),je(H.$$.fragment),Re=f(),B.c(),this.h()},l(a){pt("svelte-187cbdd",document.head).forEach(_),c=v(a),s=d(a,"DIV",{class:!0});var D=$(s);o=d(D,"DIV",{class:!0,"data-svelte-h":!0}),O(o)!=="svelte-f5hvkp"&&(o.innerHTML=A),L=v(D),p=d(D,"FORM",{class:!0,method:!0,action:!0});var Z=$(p);l=d(Z,"DIV",{class:!0});var w=$(l);y=d(w,"DIV",{class:!0,"data-svelte-h":!0}),O(y)!=="svelte-36b99r"&&(y.innerHTML=g),R=v(w),m=d(w,"INPUT",{class:!0,type:!0,name:!0,id:!0}),P=v(w),C=d(w,"INPUT",{type:!0,name:!0,class:!0}),N=v(w),F.l(w),S=v(w),X.l(w),h=v(w),V=d(w,"INPUT",{type:!0,name:!0,class:!0}),_e=v(w),J=d(w,"FIELDSET",{});var oe=$(J);M=d(oe,"DIV",{class:!0});var re=$(M);K=d(re,"LEGEND",{"data-svelte-h":!0}),O(K)!=="svelte-1y7llzl"&&(K.textContent=U),Ee=v(re),Ge(Q.$$.fragment,re),re.forEach(_),Te=v(oe),j=d(oe,"UL",{});var de=$(j);ee=d(de,"LI",{});var be=$(ee);k=d(be,"INPUT",{class:!0,type:!0,name:!0,id:!0}),Le=v(be),te=d(be,"LABEL",{for:!0,"data-svelte-h":!0}),O(te)!=="svelte-1dynoiq"&&(te.textContent=Ke),be.forEach(_),Ae=v(de),le=d(de,"LI",{});var he=$(le);E=d(he,"INPUT",{class:!0,type:!0,name:!0,id:!0}),Ne=v(he),ne=d(he,"LABEL",{for:!0,"data-svelte-h":!0}),O(ne)!=="svelte-171904i"&&(ne.textContent=Qe),he.forEach(_),Ue=v(de),se=d(de,"LI",{});var ge=$(se);T=d(ge,"INPUT",{class:!0,type:!0,name:!0,id:!0}),$e=v(ge),ie=d(ge,"LABEL",{for:!0,"data-svelte-h":!0}),O(ie)!=="svelte-1l2bu68"&&(ie.textContent=We),ge.forEach(_),de.forEach(_),oe.forEach(_),w.forEach(_),Pe=v(Z),q=d(Z,"DIV",{class:!0});var ce=$(q);W=d(ce,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),O(W)!=="svelte-emyzxv"&&(W.textContent=Ye),Be=v(ce),z=d(ce,"TEXTAREA",{id:!0,name:!0,rows:!0,cols:!0,spellcheck:!0}),$(z).forEach(_),Se=v(ce),G=d(ce,"BUTTON",{class:!0,formaction:!0});var st=$(G);ae=d(st,"DIV",{class:!0,"data-svelte-h":!0}),O(ae)!=="svelte-18eb69e"&&(ae.textContent=Ze),st.forEach(_),ce.forEach(_),Z.forEach(_),ze=v(D),ue=d(D,"DIV",{class:!0});var it=$(ue);Ge(H.$$.fragment,it),it.forEach(_),Re=v(D),B.l(D),D.forEach(_),this.h()},h(){t(o,"class","builder-header svelte-1aswrno"),t(y,"class","label-group"),t(m,"class","text svelte-1aswrno"),t(m,"type","text"),t(m,"name","collection-title"),t(m,"id","collection-title"),m.required=!0,t(C,"type","hidden"),t(C,"name","collection-id"),C.value=e[3],t(C,"class","svelte-1aswrno"),t(V,"type","hidden"),t(V,"name","updated-by"),V.value=e[2],t(V,"class","svelte-1aswrno"),t(M,"class","label-group"),t(k,"class","radio svelte-1aswrno"),t(k,"type","radio"),t(k,"name","status"),t(k,"id","open"),k.__value="open",pe(k,k.__value),t(te,"for","open"),t(E,"class","radio svelte-1aswrno"),t(E,"type","radio"),t(E,"name","status"),t(E,"id","public"),E.__value="public",pe(E,E.__value),t(ne,"for","public"),t(T,"class","radio svelte-1aswrno"),t(T,"type","radio"),t(T,"name","status"),t(T,"id","private"),T.__value="private",pe(T,T.__value),t(ie,"for","private"),t(l,"class","form-block svelte-1aswrno"),t(W,"class","text-label svelte-1aswrno"),t(W,"for","description"),t(z,"id","description"),t(z,"name","description"),t(z,"rows","10"),t(z,"cols","1"),t(z,"spellcheck","true"),z.required=!0,z.value=e[9],t(ae,"class","inner-border"),t(G,"class","double-border-top"),t(G,"formaction","?/updateCollection"),G.disabled=me=!(e[5]&&e[4]),t(q,"class","form-block svelte-1aswrno"),t(p,"class","form-box svelte-1aswrno"),t(p,"method","POST"),t(p,"action","?/updateCollection"),t(ue,"class","search-bar svelte-1aswrno"),t(s,"class","collection-builder svelte-1aswrno"),Ve.p(k,E,T)},m(a,b){I(a,c,b),I(a,s,b),i(s,o),i(s,L),i(s,p),i(p,l),i(l,y),i(l,R),i(l,m),pe(m,e[4]),i(l,P),i(l,C),i(l,N),F.m(l,null),i(l,S),X.m(l,null),i(l,h),i(l,V),i(l,_e),i(l,J),i(J,M),i(M,K),i(M,Ee),Fe(Q,M,null),i(J,Te),i(J,j),i(j,ee),i(ee,k),k.checked=k.__value===e[5],i(ee,Le),i(ee,te),i(j,Ae),i(j,le),i(le,E),E.checked=E.__value===e[5],i(le,Ne),i(le,ne),i(j,Ue),i(j,se),i(se,T),T.checked=T.__value===e[5],i(se,$e),i(se,ie),i(p,Pe),i(p,q),i(q,W),i(q,Be),i(q,z),i(q,Se),i(q,G),i(G,ae),i(s,ze),i(s,ue),Fe(H,ue,null),i(s,Re),B.m(s,null),Y=!0,Me||(et=[ye(m,"input",e[12]),ye(k,"change",e[13]),ye(E,"change",e[15]),ye(T,"change",e[16])],Me=!0)},p(a,[b]){var w,oe,re;(!Y||b&128)&&n!==(n=`
		Edit `+a[7].title+`
	`)&&(document.title=n),b&16&&m.value!==a[4]&&pe(m,a[4]),(!Y||b&8)&&(C.value=a[3]),b&1&&Ie(x,x=(w=a[0])==null?void 0:w.length)?(F.d(1),F=at(a),F.c(),F.m(l,S)):F.p(a,b),b&2&&Ie(r,r=(oe=a[1])==null?void 0:oe.length)?(X.d(1),X=ot(a),X.c(),X.m(l,h)):X.p(a,b),(!Y||b&4)&&(V.value=a[2]);const D={};b&4194304&&(D.$$scope={dirty:b,ctx:a}),Q.$set(D),b&32&&(k.checked=k.__value===a[5]),b&32&&(E.checked=E.__value===a[5]),b&32&&(T.checked=T.__value===a[5]),(!Y||b&48&&me!==(me=!(a[5]&&a[4])))&&(G.disabled=me);const Z={};!De&&b&1&&(De=!0,Z.addedItems=a[0],we(()=>De=!1)),!Oe&&b&64&&(Oe=!0,Z.newItemAdded=a[6],we(()=>Oe=!1)),H.$set(Z),b&1&&Ie(xe,xe=(re=a[0])==null?void 0:re.length)?(ht(),fe(B,1,1,ut),bt(),B=rt(a),B.c(),ve(B,1),B.m(s,null)):B.p(a,b)},i(a){Y||(ve(Q.$$.fragment,a),ve(H.$$.fragment,a),ve(B),Y=!0)},o(a){fe(Q.$$.fragment,a),fe(H.$$.fragment,a),fe(B),Y=!1},d(a){a&&(_(c),_(s)),F.d(a),X.d(a),Xe(Q),Xe(H),B.d(a),Ve.r(),Me=!1,ft(et)}}}let kt="Search for items to add to your collection";function Et(e,n,c){let{data:s}=n,{collection:o,sessionUserId:A,collectionId:L}=s;const p=o==null?void 0:o.info;let l=p.title,y=p.type,g=p.status,R=p.description_text,m=o==null?void 0:o.collectionContents,P=!1,C=o==null?void 0:o.deletedCollectionContents;const N={"":"...",artists:"artists",release_groups:"albums",recordings:"tracks"},x=[[]];function S(){l=this.value,c(4,l)}function r(){g=this.__value,c(5,g)}function h(){g=this.__value,c(5,g)}function V(){g=this.__value,c(5,g)}function _e(U){m=U,c(0,m)}function J(U){P=U,c(6,P)}function M(U){m=U,c(0,m)}function K(U){C=U,c(1,C)}return e.$$set=U=>{"data"in U&&c(11,s=U.data)},e.$$.update=()=>{e.$$.dirty&2048&&c(2,{collection:o,sessionUserId:A,collectionId:L}=s,A,(c(3,L),c(11,s))),e.$$.dirty&1,e.$$.dirty&2},[m,C,A,L,l,g,P,p,y,R,N,s,S,r,x,h,V,_e,J,M,K]}class $t extends vt{constructor(n){super(),mt(this,n,Et,wt,Ie,{data:11})}}export{$t as component};
