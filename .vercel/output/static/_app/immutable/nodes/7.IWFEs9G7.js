import{s as ne,a as w,e as _,p as re,f as p,g as U,c as v,b as H,w as L,r as n,i as M,h as m,t as te,d as ae,n as se}from"../chunks/scheduler.CXRP0wEC.js";import{S as oe,i as le,c as O,b as z,m as D,t as V,a as k,d as F}from"../chunks/index.a6HmqSPn.js";import"../chunks/entry.a6gQbV6m.js";import{P as ue}from"../chunks/PanelHeader.CqWWMOkt.js";import{N as ce}from"../chunks/NotificationModal.C0Og5Del.js";import{R as ie}from"../chunks/RedirectModal.CU5NUfaj.js";function me(o){let e;return{c(){e=te("update username")},l(t){e=ae(t,"update username")},m(t,s){M(t,e,s)},d(t){t&&p(e)}}}function de(o){let e,t="Username taken";return{c(){e=_("span"),e.textContent=t,this.h()},l(s){e=v(s,"SPAN",{slot:!0,"data-svelte-h":!0}),L(e)!=="svelte-183x6rb"&&(e.textContent=t),this.h()},h(){n(e,"slot","header-text")},m(s,i){M(s,e,i)},p:se,d(s){s&&p(e)}}}function fe(o){let e,t="Please try another username.";return{c(){e=_("span"),e.textContent=t,this.h()},l(s){e=v(s,"SPAN",{slot:!0,"data-svelte-h":!0}),L(e)!=="svelte-1b2ps7o"&&(e.textContent=t),this.h()},h(){n(e,"slot","message")},m(s,i){M(s,e,i)},p:se,d(s){s&&p(e)}}}function pe(o){let e;return{c(){e=te("Username updated successfully. Redirecting to your account page in 5 seconds.")},l(t){e=ae(t,"Username updated successfully. Redirecting to your account page in 5 seconds.")},m(t,s){M(t,e,s)},d(t){t&&p(e)}}}function he(o){var J,K,Q;let e,t,s,i,h,l,u,P="Current Username",S,d,y,A,$,j="New Username",I,f,E,q,b,G='<div class="inner-border">submit</div>',B,x,R,C,N;return s=new ue({props:{$$slots:{default:[me]},$$scope:{ctx:o}}}),x=new ce({props:{showModal:(J=o[0])!=null&&J.success?!((K=o[0])!=null&&K.success):!1,$$slots:{message:[fe],"header-text":[de]},$$scope:{ctx:o}}}),C=new ie({props:{showModal:((Q=o[0])==null?void 0:Q.success)??!1,redirectPath:"/account",$$slots:{default:[pe]},$$scope:{ctx:o}}}),{c(){e=w(),t=_("div"),O(s.$$.fragment),i=w(),h=_("form"),l=_("div"),u=_("label"),u.textContent=P,S=w(),d=_("input"),A=w(),$=_("label"),$.textContent=j,I=w(),f=_("input"),q=w(),b=_("button"),b.innerHTML=G,B=w(),O(x.$$.fragment),R=w(),O(C.$$.fragment),this.h()},l(a){re("svelte-qw1cgu",document.head).forEach(p),e=U(a),t=v(a,"DIV",{class:!0,id:!0});var g=H(t);z(s.$$.fragment,g),i=U(g),h=v(g,"FORM",{class:!0,id:!0,method:!0});var T=H(h);l=v(T,"DIV",{class:!0});var c=H(l);u=v(c,"LABEL",{class:!0,for:!0,form:!0,"data-svelte-h":!0}),L(u)!=="svelte-14oln4v"&&(u.textContent=P),S=U(c),d=v(c,"INPUT",{class:!0,type:!0,name:!0,id:!0,form:!0}),A=U(c),$=v(c,"LABEL",{class:!0,for:!0,form:!0,"data-svelte-h":!0}),L($)!=="svelte-tazqwf"&&($.textContent=j),I=U(c),f=v(c,"INPUT",{class:!0,type:!0,name:!0,id:!0,form:!0}),q=U(c),b=v(c,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),L(b)!=="svelte-8pc3vx"&&(b.innerHTML=G),c.forEach(p),T.forEach(p),B=U(g),z(x.$$.fragment,g),g.forEach(p),R=U(a),z(C.$$.fragment,a),this.h()},h(){var a,r;document.title=`
		Update Username
	`,n(u,"class","text-label"),n(u,"for","current-username"),n(u,"form","account-data"),n(d,"class","text svelte-1vdlbrh"),n(d,"type","text"),n(d,"name","current-username"),n(d,"id","current-username"),n(d,"form","account-data"),d.value=y=(a=o[1])==null?void 0:a.username,d.disabled=!0,n($,"class","text-label"),n($,"for","new-username"),n($,"form","account-data"),n(f,"class","text svelte-1vdlbrh"),n(f,"type","text"),n(f,"name","new-username"),n(f,"id","new-username"),n(f,"form","account-data"),f.value=E=(r=o[1])==null?void 0:r.username,n(b,"type","submit"),n(b,"class","double-border-top"),n(l,"class","form-column"),n(h,"class","horizontal"),n(h,"id","account-data"),n(h,"method","POST"),n(t,"class","panel svelte-1vdlbrh"),n(t,"id","profile-info")},m(a,r){M(a,e,r),M(a,t,r),D(s,t,null),m(t,i),m(t,h),m(h,l),m(l,u),m(l,S),m(l,d),m(l,A),m(l,$),m(l,I),m(l,f),m(l,q),m(l,b),m(t,B),D(x,t,null),M(a,R,r),D(C,a,r),N=!0},p(a,[r]){var W,X,Y,Z,ee;const g={};r&512&&(g.$$scope={dirty:r,ctx:a}),s.$set(g),(!N||r&2&&y!==(y=(W=a[1])==null?void 0:W.username)&&d.value!==y)&&(d.value=y),(!N||r&2&&E!==(E=(X=a[1])==null?void 0:X.username)&&f.value!==E)&&(f.value=E);const T={};r&1&&(T.showModal=(Y=a[0])!=null&&Y.success?!((Z=a[0])!=null&&Z.success):!1),r&512&&(T.$$scope={dirty:r,ctx:a}),x.$set(T);const c={};r&1&&(c.showModal=((ee=a[0])==null?void 0:ee.success)??!1),r&512&&(c.$$scope={dirty:r,ctx:a}),C.$set(c)},i(a){N||(V(s.$$.fragment,a),V(x.$$.fragment,a),V(C.$$.fragment,a),N=!0)},o(a){k(s.$$.fragment,a),k(x.$$.fragment,a),k(C.$$.fragment,a),N=!1},d(a){a&&(p(e),p(t),p(R)),F(s),F(x),F(C,a)}}}function _e(o,e,t){let{data:s}=e,{form:i}=e,{session:h,supabase:l,profile:u}=s;return(u==null?void 0:u.username)??(i==null||i.currentUsername),o.$$set=P=>{"data"in P&&t(2,s=P.data),"form"in P&&t(0,i=P.form)},o.$$.update=()=>{o.$$.dirty&4&&t(1,{session:h,supabase:l,profile:u}=s,u)},[i,u,s]}class we extends oe{constructor(e){super(),le(this,e,_e,he,ne,{data:2,form:0})}}export{we as component};
