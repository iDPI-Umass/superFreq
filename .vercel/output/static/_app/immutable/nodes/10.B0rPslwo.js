import{s as ut,e as v,a as D,c as g,b as I,g as V,w as Z,f as m,r as i,i as P,h as c,x as je,q as Zt,n as K,t as O,d as S,C as Q,j as q,p as el,D as tl,H as Rt}from"../chunks/scheduler.CXRP0wEC.js";import{S as ct,i as _t,c as x,b as ee,m as te,t as A,g as Ne,f as Te,a as j,d as le}from"../chunks/index.a6HmqSPn.js";import{g as Me}from"../chunks/entry.a6gQbV6m.js";import{e as ll}from"../chunks/forms.CTZFOOt3.js";import{u as zt}from"../chunks/localStorage.Bej6gSz_.js";import{N as xt,U as sl}from"../chunks/NowPlayingPost.BrL7UJq2.js";import{P as tt}from"../chunks/PanelHeader.CqWWMOkt.js";import{G as al}from"../chunks/GridList.Bf6pcDOU.js";import{N as rl}from"../chunks/NewNowPlayingPost.0-N_ouv6.js";import{e as et}from"../chunks/each.Chb-s0GO.js";import{d as nl}from"../chunks/feed-item-decoration.Dbgr9aJv.js";function Jt(s,e,l){const t=s.slice();return t[2]=e[l],t}function il(s){let e,l="feed";return{c(){e=v("a"),e.textContent=l,this.h()},l(t){e=g(t,"A",{class:!0,href:!0,"data-svelte-h":!0}),Z(e)!=="svelte-1ykvt8z"&&(e.textContent=l),this.h()},h(){i(e,"class","panel-header-link"),i(e,"href","/feed")},m(t,n){P(t,e,n)},p:K,d(t){t&&m(e)}}}function Kt(s){let e,l='Nothing in your feed? Try following some more <a href="/users">users</a> and <a href="/collections">collections</a>.';return{c(){e=v("p"),e.innerHTML=l},l(t){e=g(t,"P",{"data-svelte-h":!0}),Z(e)!=="svelte-6uetj4"&&(e.innerHTML=l)},m(t,n){P(t,e,n)},d(t){t&&m(e)}}}function ol(s){let e,l,t,n,a,o,u,p=s[2].display_name+"",h,b,k,$=s[2].title+"",d,r;return{c(){e=v("div"),l=v("a"),t=v("div"),n=v("img"),u=D(),h=O(p),b=O(`
                        edited the collection: 
                        `),k=v("span"),d=O($),this.h()},l(_){e=g(_,"DIV",{class:!0});var f=I(e);l=g(f,"A",{href:!0});var E=I(l);t=g(E,"DIV",{class:!0});var C=I(t);n=g(C,"IMG",{src:!0,alt:!0,class:!0}),u=V(C),h=S(C,p),b=S(C,`
                        edited the collection: 
                        `),k=g(C,"SPAN",{class:!0});var w=I(k);d=S(w,$),w.forEach(m),C.forEach(m),E.forEach(m),f.forEach(m),this.h()},h(){Q(n.src,a=s[2].avatar_url)||i(n,"src",a),i(n,"alt",o=`${s[2].display_name}'s avatar`),i(n,"class","feed-avatar"),i(k,"class","feed-item-subject"),i(t,"class","feed-item-one-liner"),i(l,"href",r=`/collection/${s[2].collection_id}`),i(e,"class","feed-item")},m(_,f){P(_,e,f),c(e,l),c(l,t),c(t,n),c(t,u),c(t,h),c(t,b),c(t,k),c(k,d)},p(_,f){f&1&&!Q(n.src,a=_[2].avatar_url)&&i(n,"src",a),f&1&&o!==(o=`${_[2].display_name}'s avatar`)&&i(n,"alt",o),f&1&&p!==(p=_[2].display_name+"")&&q(h,p),f&1&&$!==($=_[2].title+"")&&q(d,$),f&1&&r!==(r=`/collection/${_[2].collection_id}`)&&i(l,"href",r)},i:K,o:K,d(_){_&&m(e)}}}function fl(s){let e,l,t,n,a,o,u=s[2].display_name+"",p,h,b,k=s[2].title+"",$,d;return{c(){e=v("a"),l=v("div"),t=v("img"),o=D(),p=O(u),h=O(`
                    followed a collection: 
                    `),b=v("span"),$=O(k),this.h()},l(r){e=g(r,"A",{href:!0});var _=I(e);l=g(_,"DIV",{class:!0});var f=I(l);t=g(f,"IMG",{src:!0,alt:!0,class:!0}),o=V(f),p=S(f,u),h=S(f,`
                    followed a collection: 
                    `),b=g(f,"SPAN",{class:!0});var E=I(b);$=S(E,k),E.forEach(m),f.forEach(m),_.forEach(m),this.h()},h(){Q(t.src,n=s[2].avatar_url)||i(t,"src",n),i(t,"alt",a=`${s[2].display_name}'s avatar`),i(t,"class","feed-avatar"),i(b,"class","feed-item-subject"),i(l,"class","feed-item-one-liner"),i(e,"href",d=`/collection/${s[2].collection_id}`)},m(r,_){P(r,e,_),c(e,l),c(l,t),c(l,o),c(l,p),c(l,h),c(l,b),c(b,$)},p(r,_){_&1&&!Q(t.src,n=r[2].avatar_url)&&i(t,"src",n),_&1&&a!==(a=`${r[2].display_name}'s avatar`)&&i(t,"alt",a),_&1&&u!==(u=r[2].display_name+"")&&q(p,u),_&1&&k!==(k=r[2].title+"")&&q($,k),_&1&&d!==(d=`/collection/${r[2].collection_id}`)&&i(e,"href",d)},i:K,o:K,d(r){r&&m(e)}}}function ul(s){let e,l,t,n,a,o,u=s[2].display_name+"",p,h,b=s[2].original_poster_display_name+"",k,$,d;return{c(){e=v("a"),l=v("div"),t=v("img"),o=D(),p=O(u),h=O(" liked "),k=O(b),$=O("'s post"),this.h()},l(r){e=g(r,"A",{href:!0});var _=I(e);l=g(_,"DIV",{class:!0});var f=I(l);t=g(f,"IMG",{src:!0,alt:!0,class:!0}),o=V(f),p=S(f,u),h=S(f," liked "),k=S(f,b),$=S(f,"'s post"),f.forEach(m),_.forEach(m),this.h()},h(){Q(t.src,n=s[2].avatar_url)||i(t,"src",n),i(t,"alt",a=`${s[2].display_name}'s avatar`),i(t,"class","feed-avatar"),i(l,"class","feed-item-one-liner"),i(e,"href",d=`/posts/${s[2].original_poster_username}/now-playing/${s[2].feed_item_timestamp.toISOString()}`)},m(r,_){P(r,e,_),c(e,l),c(l,t),c(l,o),c(l,p),c(l,h),c(l,k),c(l,$)},p(r,_){_&1&&!Q(t.src,n=r[2].avatar_url)&&i(t,"src",n),_&1&&a!==(a=`${r[2].display_name}'s avatar`)&&i(t,"alt",a),_&1&&u!==(u=r[2].display_name+"")&&q(p,u),_&1&&b!==(b=r[2].original_poster_display_name+"")&&q(k,b),_&1&&d!==(d=`/posts/${r[2].original_poster_username}/now-playing/${r[2].feed_item_timestamp.toISOString()}`)&&i(e,"href",d)},i:K,o:K,d(r){r&&m(e)}}}function cl(s){let e,l,t,n,a,o,u=s[2].display_name+"",p,h,b=s[2].original_poster_display_name+"",k,$,d;return{c(){e=v("a"),l=v("div"),t=v("img"),o=D(),p=O(u),h=O(" commented on "),k=O(b),$=O("'s post"),this.h()},l(r){e=g(r,"A",{href:!0});var _=I(e);l=g(_,"DIV",{class:!0});var f=I(l);t=g(f,"IMG",{src:!0,alt:!0,class:!0}),o=V(f),p=S(f,u),h=S(f," commented on "),k=S(f,b),$=S(f,"'s post"),f.forEach(m),_.forEach(m),this.h()},h(){var r;Q(t.src,n=s[2].avatar_url)||i(t,"src",n),i(t,"alt",a=`${s[2].display_name}'s avatar`),i(t,"class","feed-avatar"),i(l,"class","feed-item-one-liner"),i(e,"href",d=`/${s[2].original_poster_username}/now-playing/${s[2].original_post_date}#${(r=s[2].username)==null?void 0:r.concat(s[2].created_at.valueOf().toString())}`)},m(r,_){P(r,e,_),c(e,l),c(l,t),c(l,o),c(l,p),c(l,h),c(l,k),c(l,$)},p(r,_){var f;_&1&&!Q(t.src,n=r[2].avatar_url)&&i(t,"src",n),_&1&&a!==(a=`${r[2].display_name}'s avatar`)&&i(t,"alt",a),_&1&&u!==(u=r[2].display_name+"")&&q(p,u),_&1&&b!==(b=r[2].original_poster_display_name+"")&&q(k,b),_&1&&d!==(d=`/${r[2].original_poster_username}/now-playing/${r[2].original_post_date}#${(f=r[2].username)==null?void 0:f.concat(r[2].created_at.valueOf().toString())}`)&&i(e,"href",d)},i:K,o:K,d(r){r&&m(e)}}}function _l(s){let e,l,t,n,a,o,u=s[2].display_name+"",p,h,b,k,$,d,r,_,f,E,C;return E=new xt({props:{post:s[2],mode:"feed"}}),{c(){e=v("a"),l=v("div"),t=v("img"),o=D(),p=O(u),h=O(`
                posted:`),k=D(),$=v("div"),d=v("img"),_=D(),f=v("div"),x(E.$$.fragment),this.h()},l(w){e=g(w,"A",{href:!0});var N=I(e);l=g(N,"DIV",{class:!0});var M=I(l);t=g(M,"IMG",{src:!0,alt:!0,class:!0}),o=V(M),p=S(M,u),h=S(M,`
                posted:`),M.forEach(m),N.forEach(m),k=V(w),$=g(w,"DIV",{class:!0});var W=I($);d=g(W,"IMG",{class:!0,src:!0,alt:!0}),_=V(W),f=g(W,"DIV",{class:!0});var L=I(f);ee(E.$$.fragment,L),L.forEach(m),W.forEach(m),this.h()},h(){Q(t.src,n=s[2].avatar_url)||i(t,"src",n),i(t,"alt",a=`${s[2].display_name}'s avatar`),i(t,"class","feed-avatar"),i(l,"class","feed-item-user-data"),i(e,"href",b=`/posts/${s[2].username}/now-playing/${s[2].feed_item_timestamp.toISOString()}`),i(d,"class","feed-item-ornament"),Q(d.src,r=nl)||i(d,"src",r),i(d,"alt","decoration"),i(f,"class","feed-item-now-playing"),i($,"class","feed-item-row")},m(w,N){P(w,e,N),c(e,l),c(l,t),c(l,o),c(l,p),c(l,h),P(w,k,N),P(w,$,N),c($,d),c($,_),c($,f),te(E,f,null),C=!0},p(w,N){(!C||N&1&&!Q(t.src,n=w[2].avatar_url))&&i(t,"src",n),(!C||N&1&&a!==(a=`${w[2].display_name}'s avatar`))&&i(t,"alt",a),(!C||N&1)&&u!==(u=w[2].display_name+"")&&q(p,u),(!C||N&1&&b!==(b=`/posts/${w[2].username}/now-playing/${w[2].feed_item_timestamp.toISOString()}`))&&i(e,"href",b);const M={};N&1&&(M.post=w[2]),E.$set(M)},i(w){C||(A(E.$$.fragment,w),C=!0)},o(w){j(E.$$.fragment,w),C=!1},d(w){w&&(m(e),m(k),m($)),le(E)}}}function Qt(s){let e,l,t,n,a,o,u,p,h;const b=[_l,cl,ul,fl,ol],k=[];function $(d,r){return r&1&&(l=null),r&1&&(t=null),r&1&&(n=null),r&1&&(a=null),r&1&&(o=null),l==null&&(l=!!Object.keys(d[2]).includes("now_playing_post_id")),l?0:(t==null&&(t=!!Object.keys(d[2]).includes("comment_id")),t?1:(n==null&&(n=!!Object.keys(d[2]).includes("reaction_id")),n?2:(a==null&&(a=!!Object.keys(d[2]).includes("collection_follow_id")),a?3:(o==null&&(o=!!Object.keys(d[2]).includes("collection_edit_id")),o?4:-1))))}return~(u=$(s,-1))&&(p=k[u]=b[u](s)),{c(){e=v("div"),p&&p.c(),this.h()},l(d){e=g(d,"DIV",{class:!0});var r=I(e);p&&p.l(r),r.forEach(m),this.h()},h(){i(e,"class","feed-item")},m(d,r){P(d,e,r),~u&&k[u].m(e,null),h=!0},p(d,r){let _=u;u=$(d,r),u===_?~u&&k[u].p(d,r):(p&&(Ne(),j(k[_],1,1,()=>{k[_]=null}),Te()),~u?(p=k[u],p?p.p(d,r):(p=k[u]=b[u](d),p.c()),A(p,1),p.m(e,null)):p=null)},i(d){h||(A(p),h=!0)},o(d){j(p),h=!1},d(d){d&&m(e),~u&&k[u].d()}}}function dl(s){let e,l,t,n,a,o,u,p="see more",h,b,k;l=new tt({props:{$$slots:{default:[il]},$$scope:{ctx:s}}});let $=s[0].length==0&&Kt(),d=et(s[0]),r=[];for(let f=0;f<d.length;f+=1)r[f]=Qt(Jt(s,d,f));const _=f=>j(r[f],1,1,()=>{r[f]=null});return{c(){e=v("div"),x(l.$$.fragment),t=D(),$&&$.c(),n=D();for(let f=0;f<r.length;f+=1)r[f].c();a=D(),o=v("div"),u=v("button"),u.textContent=p,this.h()},l(f){e=g(f,"DIV",{class:!0});var E=I(e);ee(l.$$.fragment,E),t=V(E),$&&$.l(E),n=V(E);for(let w=0;w<r.length;w+=1)r[w].l(E);a=V(E),o=g(E,"DIV",{class:!0});var C=I(o);u=g(C,"BUTTON",{class:!0,"data-svelte-h":!0}),Z(u)!=="svelte-1w48hif"&&(u.textContent=p),C.forEach(m),E.forEach(m),this.h()},h(){i(u,"class","standard svelte-7vjjpw"),i(o,"class","button-spacer svelte-7vjjpw"),i(e,"class","feed-panel")},m(f,E){P(f,e,E),te(l,e,null),c(e,t),$&&$.m(e,null),c(e,n);for(let C=0;C<r.length;C+=1)r[C]&&r[C].m(e,null);c(e,a),c(e,o),c(o,u),h=!0,b||(k=je(u,"click",s[1]),b=!0)},p(f,[E]){const C={};if(E&32&&(C.$$scope={dirty:E,ctx:f}),l.$set(C),f[0].length==0?$||($=Kt(),$.c(),$.m(e,n)):$&&($.d(1),$=null),E&1){d=et(f[0]);let w;for(w=0;w<d.length;w+=1){const N=Jt(f,d,w);r[w]?(r[w].p(N,E),A(r[w],1)):(r[w]=Qt(N),r[w].c(),A(r[w],1),r[w].m(e,a))}for(Ne(),w=d.length;w<r.length;w+=1)_(w);Te()}},i(f){if(!h){A(l.$$.fragment,f);for(let E=0;E<d.length;E+=1)A(r[E]);h=!0}},o(f){j(l.$$.fragment,f),r=r.filter(Boolean);for(let E=0;E<r.length;E+=1)j(r[E]);h=!1},d(f){f&&m(e),le(l),$&&$.d(),Zt(r,f),b=!1,k()}}}function ml(s,e,l){let{feedItems:t}=e;const n=()=>Me("/feed");return s.$$set=a=>{"feedItems"in a&&l(0,t=a.feedItems)},[t,n]}class pl extends ct{constructor(e){super(),_t(this,e,ml,dl,ut,{feedItems:0})}}function Wt(s,e,l){const t=s.slice();return t[4]=e[l],t}function hl(s){let e,l,t,n;return{c(){e=v("a"),l=O(s[2]),t=O("'s Now Playing posts"),this.h()},l(a){e=g(a,"A",{class:!0,href:!0});var o=I(e);l=S(o,s[2]),t=S(o,"'s Now Playing posts"),o.forEach(m),this.h()},h(){i(e,"class","panel-header-link"),i(e,"href",n=`/user/${s[1]}/now-playing-posts`)},m(a,o){P(a,e,o),c(e,l),c(e,t)},p(a,o){o&4&&q(l,a[2]),o&2&&n!==(n=`/user/${a[1]}/now-playing-posts`)&&i(e,"href",n)},d(a){a&&m(e)}}}function Xt(s){let e,l;return e=new xt({props:{post:s[4],mode:"feed"}}),{c(){x(e.$$.fragment)},l(t){ee(e.$$.fragment,t)},m(t,n){te(e,t,n),l=!0},p(t,n){const a={};n&1&&(a.post=t[4]),e.$set(a)},i(t){l||(A(e.$$.fragment,t),l=!0)},o(t){j(e.$$.fragment,t),l=!1},d(t){le(e,t)}}}function vl(s){let e,l,t,n,a,o,u,p="see more",h,b,k;l=new tt({props:{$$slots:{default:[hl]},$$scope:{ctx:s}}});let $=et(s[0]),d=[];for(let _=0;_<$.length;_+=1)d[_]=Xt(Wt(s,$,_));const r=_=>j(d[_],1,1,()=>{d[_]=null});return{c(){e=v("div"),x(l.$$.fragment),t=D(),n=v("div");for(let _=0;_<d.length;_+=1)d[_].c();a=D(),o=v("div"),u=v("button"),u.textContent=p,this.h()},l(_){e=g(_,"DIV",{class:!0});var f=I(e);ee(l.$$.fragment,f),t=V(f),n=g(f,"DIV",{class:!0});var E=I(n);for(let w=0;w<d.length;w+=1)d[w].l(E);E.forEach(m),a=V(f),o=g(f,"DIV",{class:!0});var C=I(o);u=g(C,"BUTTON",{class:!0,"data-svelte-h":!0}),Z(u)!=="svelte-1c8yhhh"&&(u.textContent=p),C.forEach(m),f.forEach(m),this.h()},h(){i(n,"class","posts-spacing svelte-dx1qci"),i(u,"class","standard svelte-dx1qci"),i(o,"class","button-spacer svelte-dx1qci"),i(e,"class","panel-medium")},m(_,f){P(_,e,f),te(l,e,null),c(e,t),c(e,n);for(let E=0;E<d.length;E+=1)d[E]&&d[E].m(n,null);c(e,a),c(e,o),c(o,u),h=!0,b||(k=je(u,"click",s[3]),b=!0)},p(_,[f]){const E={};if(f&134&&(E.$$scope={dirty:f,ctx:_}),l.$set(E),f&1){$=et(_[0]);let C;for(C=0;C<$.length;C+=1){const w=Wt(_,$,C);d[C]?(d[C].p(w,f),A(d[C],1)):(d[C]=Xt(w),d[C].c(),A(d[C],1),d[C].m(n,null))}for(Ne(),C=$.length;C<d.length;C+=1)r(C);Te()}},i(_){if(!h){A(l.$$.fragment,_);for(let f=0;f<$.length;f+=1)A(d[f]);h=!0}},o(_){j(l.$$.fragment,_),d=d.filter(Boolean);for(let f=0;f<d.length;f+=1)j(d[f]);h=!1},d(_){_&&m(e),le(l),Zt(d,_),b=!1,k()}}}function gl(s,e,l){let{posts:t}=e,{username:n}=e,{displayName:a}=e;console.log(t);const o=()=>Me(`/user/${n}/now-playing-posts`);return s.$$set=u=>{"posts"in u&&l(0,t=u.posts),"username"in u&&l(1,n=u.username),"displayName"in u&&l(2,a=u.displayName)},[t,n,a,o]}class $l extends ct{constructor(e){super(),_t(this,e,gl,vl,ut,{posts:0,username:1,displayName:2})}}function bl(s){var d;let e,l,t,n,a,o,u,p,h;function b(r,_){return r[13]==!0?El:kl}let k=b(s),$=k(s);return o=new sl({props:{mode:"profileMenu",blocked:s[12],flagged:s[11],profileUserId:s[15],success:(d=s[0])==null?void 0:d.success}}),{c(){e=v("form"),l=v("input"),t=D(),n=v("button"),$.c(),a=D(),x(o.$$.fragment),this.h()},l(r){e=g(r,"FORM",{method:!0,action:!0});var _=I(e);l=g(_,"INPUT",{type:!0,name:!0,id:!0}),t=V(_),n=g(_,"BUTTON",{class:!0,type:!0,formaction:!0});var f=I(n);$.l(f),f.forEach(m),_.forEach(m),a=V(r),ee(o.$$.fragment,r),this.h()},h(){i(l,"type","hidden"),i(l,"name","profile-user-id"),i(l,"id","profile-user-id"),l.value=s[15],i(n,"class","standard"),i(n,"type","submit"),i(n,"formaction","?/followUser"),i(e,"method","POST"),i(e,"action","?/followUser")},m(r,_){P(r,e,_),c(e,l),c(e,t),c(e,n),$.m(n,null),P(r,a,_),te(o,r,_),u=!0,p||(h=tl(ll.call(null,e)),p=!0)},p(r,_){var E;k!==(k=b(r))&&($.d(1),$=k(r),$&&($.c(),$.m(n,null)));const f={};_&4096&&(f.blocked=r[12]),_&2048&&(f.flagged=r[11]),_&1&&(f.success=(E=r[0])==null?void 0:E.success),o.$set(f)},i(r){u||(A(o.$$.fragment,r),u=!0)},o(r){j(o.$$.fragment,r),u=!1},d(r){r&&(m(e),m(a)),$.d(),le(o,r),p=!1,h()}}}function wl(s){let e,l='<div class="inner-border-condensed">edit profile</div>',t,n;return{c(){e=v("button"),e.innerHTML=l,this.h()},l(a){e=g(a,"BUTTON",{class:!0,"data-svelte-h":!0}),Z(e)!=="svelte-1fratcr"&&(e.innerHTML=l),this.h()},h(){i(e,"class","double-border-top")},m(a,o){P(a,e,o),t||(n=je(e,"click",s[18]),t=!0)},p:K,i:K,o:K,d(a){a&&m(e),t=!1,n()}}}function kl(s){let e;return{c(){e=O("+ follow")},l(l){e=S(l,"+ follow")},m(l,t){P(l,e,t)},d(l){l&&m(e)}}}function El(s){let e;return{c(){e=O("unfollow")},l(l){e=S(l,"unfollow")},m(l,t){P(l,e,t)},d(l){l&&m(e)}}}function Il(s){let e,l,t,n,a="choose your top albums",o,u,p;return e=new tt({props:{$$slots:{default:[Cl]},$$scope:{ctx:s}}}),{c(){x(e.$$.fragment),l=D(),t=v("div"),n=v("button"),n.textContent=a,this.h()},l(h){ee(e.$$.fragment,h),l=V(h),t=g(h,"DIV",{class:!0});var b=I(t);n=g(b,"BUTTON",{class:!0,"data-svelte-h":!0}),Z(n)!=="svelte-myb72r"&&(n.textContent=a),b.forEach(m),this.h()},h(){i(n,"class","standard"),i(t,"class","panel-button-buffer")},m(h,b){te(e,h,b),P(h,l,b),P(h,t,b),c(t,n),o=!0,u||(p=je(n,"click",s[20]),u=!0)},p(h,b){const k={};b&134217728&&(k.$$scope={dirty:b,ctx:h}),e.$set(k)},i(h){o||(A(e.$$.fragment,h),o=!0)},o(h){j(e.$$.fragment,h),o=!1},d(h){h&&(m(l),m(t)),le(e,h),u=!1,p()}}}function yl(s){let e,l,t,n;return e=new tt({props:{$$slots:{default:[Dl]},$$scope:{ctx:s}}}),t=new al({props:{collectionContents:s[9],collectionReturned:s[10],collectionType:"release_groups",layout:"condensed-grid",mode:"view"}}),{c(){x(e.$$.fragment),l=D(),x(t.$$.fragment)},l(a){ee(e.$$.fragment,a),l=V(a),ee(t.$$.fragment,a)},m(a,o){te(e,a,o),P(a,l,o),te(t,a,o),n=!0},p(a,o){const u={};o&134217730&&(u.$$scope={dirty:o,ctx:a}),e.$set(u);const p={};o&512&&(p.collectionContents=a[9]),o&1024&&(p.collectionReturned=a[10]),t.$set(p)},i(a){n||(A(e.$$.fragment,a),A(t.$$.fragment,a),n=!0)},o(a){j(e.$$.fragment,a),j(t.$$.fragment,a),n=!1},d(a){a&&m(l),le(e,a),le(t,a)}}}function Cl(s){let e;return{c(){e=O("top albums")},l(l){e=S(l,"top albums")},m(l,t){P(l,e,t)},d(l){l&&m(e)}}}function Yt(s){let e,l="edit",t,n;return{c(){e=v("button"),e.textContent=l,this.h()},l(a){e=g(a,"BUTTON",{class:!0,"data-svelte-h":!0}),Z(e)!=="svelte-7rznue"&&(e.textContent=l),this.h()},h(){i(e,"class","standard")},m(a,o){P(a,e,o),t||(n=je(e,"click",s[19]),t=!0)},d(a){a&&m(e),t=!1,n()}}}function Dl(s){var n;let e,l,t=((n=s[14])==null?void 0:n.id)==s[1]&&Yt(s);return{c(){e=O(`top albums
            `),t&&t.c(),l=Rt()},l(a){e=S(a,`top albums
            `),t&&t.l(a),l=Rt()},m(a,o){P(a,e,o),t&&t.m(a,o),P(a,l,o)},p(a,o){var u;((u=a[14])==null?void 0:u.id)==a[1]?t||(t=Yt(a),t.c(),t.m(l.parentNode,l)):t&&(t.d(1),t=null)},d(a){a&&(m(e),m(l)),t&&t.d(a)}}}function Vl(s){let e,l;return e=new $l({props:{posts:s[4],displayName:s[16],username:s[3]}}),{c(){x(e.$$.fragment)},l(t){ee(e.$$.fragment,t)},m(t,n){te(e,t,n),l=!0},p(t,n){const a={};n&16&&(a.posts=t[4]),n&8&&(a.username=t[3]),e.$set(a)},i(t){l||(A(e.$$.fragment,t),l=!0)},o(t){j(e.$$.fragment,t),l=!1},d(t){le(e,t)}}}function Pl(s){var a;let e,l,t,n;return e=new rl({}),t=new pl({props:{feedItems:(a=s[2])==null?void 0:a.feedData}}),{c(){x(e.$$.fragment),l=D(),x(t.$$.fragment)},l(o){ee(e.$$.fragment,o),l=V(o),ee(t.$$.fragment,o)},m(o,u){te(e,o,u),P(o,l,u),te(t,o,u),n=!0},p(o,u){var h;const p={};u&4&&(p.feedItems=(h=o[2])==null?void 0:h.feedData),t.$set(p)},i(o){n||(A(e.$$.fragment,o),A(t.$$.fragment,o),n=!0)},o(o){j(e.$$.fragment,o),j(t.$$.fragment,o),n=!1},d(o){o&&m(l),le(e,o),le(t,o)}}}function Nl(s){var Et,It,yt;let e,l,t,n,a,o,u,p,h,b,k,$=((Et=s[14])==null?void 0:Et.display_name)+"",d,r,_,f=((It=s[14])==null?void 0:It.username)+"",E,C,w,N,M,W,L,Oe=(((yt=s[14])==null?void 0:yt.about)??"")+"",Se,Ae,oe,H,R,se,we,ke,Ue,lt,de,dt="collections",Ge,st,me,ae,Ee,Ie,Be,at,pe,mt="posts",He,rt,he,re,ye,Ce,qe,nt,ve,pt="collections followed",Fe,it,ge,ne,De,Ve,Le,ot,$e,ht="users followed",Re,ze,Pe,Je,ie,be,G,B,ft,z,J,F;document.title=e=`
		`+s[16]+`'s Profile
	`;const vt=[wl,bl],fe=[];function gt(y,T){var U;return((U=y[14])==null?void 0:U.id)==y[1]?0:1}N=gt(s),M=fe[N]=vt[N](s);const $t=[yl,Il],ue=[];function bt(y,T){var U,X,Y;return((U=y[9])==null?void 0:U.length)>0?0:((X=y[9])==null?void 0:X.length)==0&&((Y=y[14])==null?void 0:Y.id)==y[1]?1:-1}~(G=bt(s))&&(B=ue[G]=$t[G](s));const wt=[Pl,Vl],ce=[];function kt(y,T){var U;return((U=y[14])==null?void 0:U.id)==y[1]?0:1}return z=kt(s),J=ce[z]=wt[z](s),{c(){l=D(),t=v("div"),n=v("div"),a=v("img"),u=D(),p=v("div"),h=v("div"),b=v("div"),k=v("h1"),d=O($),r=D(),_=v("p"),E=O(f),C=D(),w=v("div"),M.c(),W=D(),L=v("p"),Se=O(Oe),Ae=D(),oe=v("div"),H=v("div"),R=v("div"),se=v("a"),we=v("div"),ke=v("p"),Ue=O(s[5]),lt=D(),de=v("p"),de.textContent=dt,st=D(),me=v("div"),ae=v("a"),Ee=v("div"),Ie=v("p"),Be=O(s[8]),at=D(),pe=v("p"),pe.textContent=mt,rt=D(),he=v("div"),re=v("a"),ye=v("div"),Ce=v("p"),qe=O(s[6]),nt=D(),ve=v("p"),ve.textContent=pt,it=D(),ge=v("div"),ne=v("a"),De=v("div"),Ve=v("p"),Le=O(s[7]),ot=D(),$e=v("p"),$e.textContent=ht,ze=D(),Pe=v("div"),Je=D(),ie=v("div"),be=v("div"),B&&B.c(),ft=D(),J.c(),this.h()},l(y){el("svelte-1dz2g57",document.head).forEach(m),l=V(y),t=g(y,"DIV",{class:!0});var U=I(t);n=g(U,"DIV",{class:!0});var X=I(n);a=g(X,"IMG",{src:!0,alt:!0}),u=V(X),p=g(X,"DIV",{class:!0});var Y=I(p);h=g(Y,"DIV",{class:!0});var Ke=I(h);b=g(Ke,"DIV",{class:!0});var Qe=I(b);k=g(Qe,"H1",{});var Ct=I(k);d=S(Ct,$),Ct.forEach(m),r=V(Qe),_=g(Qe,"P",{class:!0});var Dt=I(_);E=S(Dt,f),Dt.forEach(m),Qe.forEach(m),C=V(Ke),w=g(Ke,"DIV",{class:!0});var Vt=I(w);M.l(Vt),Vt.forEach(m),Ke.forEach(m),W=V(Y),L=g(Y,"P",{});var Pt=I(L);Se=S(Pt,Oe),Pt.forEach(m),Y.forEach(m),X.forEach(m),Ae=V(U),oe=g(U,"DIV",{class:!0});var Nt=I(oe);H=g(Nt,"DIV",{class:!0,"aria-label":!0});var _e=I(H);R=g(_e,"DIV",{class:!0,"aria-label":!0});var Tt=I(R);se=g(Tt,"A",{class:!0,href:!0});var We=I(se);we=g(We,"DIV",{class:!0});var Ot=I(we);ke=g(Ot,"P",{class:!0});var St=I(ke);Ue=S(St,s[5]),St.forEach(m),Ot.forEach(m),lt=V(We),de=g(We,"P",{class:!0,"data-svelte-h":!0}),Z(de)!=="svelte-1mxlcvb"&&(de.textContent=dt),We.forEach(m),Tt.forEach(m),st=V(_e),me=g(_e,"DIV",{class:!0,"aria-label":!0});var At=I(me);ae=g(At,"A",{class:!0,href:!0});var Xe=I(ae);Ee=g(Xe,"DIV",{class:!0});var Mt=I(Ee);Ie=g(Mt,"P",{class:!0});var jt=I(Ie);Be=S(jt,s[8]),jt.forEach(m),Mt.forEach(m),at=V(Xe),pe=g(Xe,"P",{class:!0,"data-svelte-h":!0}),Z(pe)!=="svelte-1tn0cyx"&&(pe.textContent=mt),Xe.forEach(m),At.forEach(m),rt=V(_e),he=g(_e,"DIV",{class:!0,"aria-label":!0});var Ut=I(he);re=g(Ut,"A",{class:!0,href:!0});var Ye=I(re);ye=g(Ye,"DIV",{class:!0});var Gt=I(ye);Ce=g(Gt,"P",{class:!0});var Bt=I(Ce);qe=S(Bt,s[6]),Bt.forEach(m),Gt.forEach(m),nt=V(Ye),ve=g(Ye,"P",{class:!0,"data-svelte-h":!0}),Z(ve)!=="svelte-174crhv"&&(ve.textContent=pt),Ye.forEach(m),Ut.forEach(m),it=V(_e),ge=g(_e,"DIV",{class:!0,"aria-label":!0});var Ht=I(ge);ne=g(Ht,"A",{class:!0,href:!0});var Ze=I(ne);De=g(Ze,"DIV",{class:!0});var qt=I(De);Ve=g(qt,"P",{class:!0});var Ft=I(Ve);Le=S(Ft,s[7]),Ft.forEach(m),qt.forEach(m),ot=V(Ze),$e=g(Ze,"P",{class:!0,"data-svelte-h":!0}),Z($e)!=="svelte-prawe6"&&($e.textContent=ht),Ze.forEach(m),Ht.forEach(m),_e.forEach(m),Nt.forEach(m),U.forEach(m),ze=V(y),Pe=g(y,"DIV",{class:!0}),I(Pe).forEach(m),Je=V(y),ie=g(y,"DIV",{class:!0});var xe=I(ie);be=g(xe,"DIV",{class:!0});var Lt=I(be);B&&B.l(Lt),Lt.forEach(m),ft=V(xe),J.l(xe),xe.forEach(m),this.h()},h(){var y,T;Q(a.src,o=(y=s[14])==null?void 0:y.avatar_url)||i(a,"src",o),i(a,"alt","$"+((T=s[14])==null?void 0:T.display_name)+"'s avatar"),i(_,"class","data-muted"),i(b,"class","profile-displayname-username-column"),i(w,"class","profile-buttons-group"),i(h,"class","profile-username-buttons-row"),i(p,"class","profile-info-box-column"),i(n,"class","profile-info-box-left"),i(ke,"class","metric-numerals"),i(we,"class","numeral"),i(de,"class","data-muted-uppercase"),i(se,"class","metrics"),i(se,"href",Ge="/user/"+s[3]+"/collections"),i(R,"class","metric"),i(R,"aria-label","metric"),i(Ie,"class","metric-numerals"),i(Ee,"class","numeral"),i(pe,"class","data-muted-uppercase"),i(ae,"class","metrics"),i(ae,"href",He="/user/"+s[3]+"/now-playing-posts"),i(me,"class","metric"),i(me,"aria-label","metric"),i(Ce,"class","metric-numerals"),i(ye,"class","numeral"),i(ve,"class","data-muted-uppercase"),i(re,"class","metrics"),i(re,"href",Fe="/user/"+s[3]+"/collections-following"),i(he,"class","metric"),i(he,"aria-label","metric"),i(Ve,"class","metric-numerals"),i(De,"class","numeral"),i($e,"class","data-muted-uppercase"),i(ne,"class","metrics"),i(ne,"href",Re="/user/"+s[3]+"/users-following"),i(ge,"class","metric"),i(ge,"aria-label","metric"),i(H,"class","profile-stats-box"),i(H,"aria-label","user metrics"),i(oe,"class","profile-info-box-right"),i(t,"class","profile-info"),i(Pe,"class","border-full-vw"),i(be,"class","panel-medium"),i(ie,"class","content svelte-tt9x3c")},m(y,T){P(y,l,T),P(y,t,T),c(t,n),c(n,a),c(n,u),c(n,p),c(p,h),c(h,b),c(b,k),c(k,d),c(b,r),c(b,_),c(_,E),c(h,C),c(h,w),fe[N].m(w,null),c(p,W),c(p,L),c(L,Se),c(t,Ae),c(t,oe),c(oe,H),c(H,R),c(R,se),c(se,we),c(we,ke),c(ke,Ue),c(se,lt),c(se,de),c(H,st),c(H,me),c(me,ae),c(ae,Ee),c(Ee,Ie),c(Ie,Be),c(ae,at),c(ae,pe),c(H,rt),c(H,he),c(he,re),c(re,ye),c(ye,Ce),c(Ce,qe),c(re,nt),c(re,ve),c(H,it),c(H,ge),c(ge,ne),c(ne,De),c(De,Ve),c(Ve,Le),c(ne,ot),c(ne,$e),P(y,ze,T),P(y,Pe,T),P(y,Je,T),P(y,ie,T),c(ie,be),~G&&ue[G].m(be,null),c(ie,ft),ce[z].m(ie,null),F=!0},p(y,[T]){(!F||T&65536)&&e!==(e=`
		`+y[16]+`'s Profile
	`)&&(document.title=e);let U=N;N=gt(y),N===U?fe[N].p(y,T):(Ne(),j(fe[U],1,1,()=>{fe[U]=null}),Te(),M=fe[N],M?M.p(y,T):(M=fe[N]=vt[N](y),M.c()),A(M,1),M.m(w,null)),(!F||T&32)&&q(Ue,y[5]),(!F||T&8&&Ge!==(Ge="/user/"+y[3]+"/collections"))&&i(se,"href",Ge),(!F||T&256)&&q(Be,y[8]),(!F||T&8&&He!==(He="/user/"+y[3]+"/now-playing-posts"))&&i(ae,"href",He),(!F||T&64)&&q(qe,y[6]),(!F||T&8&&Fe!==(Fe="/user/"+y[3]+"/collections-following"))&&i(re,"href",Fe),(!F||T&128)&&q(Le,y[7]),(!F||T&8&&Re!==(Re="/user/"+y[3]+"/users-following"))&&i(ne,"href",Re);let X=G;G=bt(y),G===X?~G&&ue[G].p(y,T):(B&&(Ne(),j(ue[X],1,1,()=>{ue[X]=null}),Te()),~G?(B=ue[G],B?B.p(y,T):(B=ue[G]=$t[G](y),B.c()),A(B,1),B.m(be,null)):B=null);let Y=z;z=kt(y),z===Y?ce[z].p(y,T):(Ne(),j(ce[Y],1,1,()=>{ce[Y]=null}),Te(),J=ce[z],J?J.p(y,T):(J=ce[z]=wt[z](y),J.c()),A(J,1),J.m(ie,null))},i(y){F||(A(M),A(B),A(J),F=!0)},o(y){j(M),j(B),j(J),F=!1},d(y){y&&(m(l),m(t),m(ze),m(Pe),m(Je),m(ie)),fe[N].d(),~G&&ue[G].d(),ce[z].d()}}}function Tl(s,e,l){let t,n,a,{data:o}=e,{form:u}=e,{sessionUserId:p,profileData:h,feedItems:b,profileUsername:k,posts:$}=o;const{profileUserData:d,followInfo:r,permission:_,profileUserBlockInfo:f,profileUserFlagInfo:E}=h,C=d==null?void 0:d.id;let w=null,N=null,M=null,W=null,L=null;_&&(w=h.collectionCount[0].count,N=h.collectionFollowingCount[0].count,M=h.userFollowingCount[0].count,W=h.nowPlayingPostsCount[0].count,L=h.topAlbumsCollection);let Oe;L&&(Oe=!0);const Se=d==null?void 0:d.display_name,Ae=()=>Me("/account"),oe=()=>Me(`./${zt}/top-albums`),H=()=>Me(`./${zt}/top-albums`);return s.$$set=R=>{"data"in R&&l(17,o=R.data),"form"in R&&l(0,u=R.form)},s.$$.update=()=>{s.$$.dirty&131072,s.$$.dirty&131072&&l(1,{sessionUserId:p,profileData:h,feedItems:b,profileUsername:k,posts:$}=o,p,(l(2,b),l(17,o)),(l(3,k),l(17,o)),(l(4,$),l(17,o))),s.$$.dirty&1&&l(13,t=(u==null?void 0:u.followStatus)??(r==null?void 0:r.follows_now)??!1),s.$$.dirty&1&&l(12,n=(u==null?void 0:u.blockStatus)??(f==null?void 0:f.active)??!1),s.$$.dirty&1&&l(11,a=(u==null?void 0:u.flagStatus)??(E==null?void 0:E.active)??!1)},[u,p,b,k,$,w,N,M,W,L,Oe,a,n,t,d,C,Se,o,Ae,oe,H]}class Ll extends ct{constructor(e){super(),_t(this,e,Tl,Nl,ut,{data:17,form:0})}}export{Ll as component};
