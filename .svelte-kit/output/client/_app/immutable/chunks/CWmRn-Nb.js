import"./Bg9kRutz.js";import{aM as Ft,aN as It,p as yt,aO as st,a4 as St,s as Pt,aQ as kt,g as n,aP as Mt,f as ot,b as ht,c as l,r as d,t as Y,d as W}from"./CIC73nbL.js";import{s as Tt}from"./zPX_AMPA.js";import{i as j}from"./w9zPIjBD.js";import{d as ut,a as O,t as V}from"./D1sabymj.js";import{c as xt}from"./D1rop58F.js";import{d as nt,r as Ot,s as vt,b as wt}from"./pfHeeLMb.js";import{l as mt,p as x,b as bt,a as Rt}from"./Cu7UW-DA.js";import"./69_IOA4Y.js";import"./BkhXqVo8.js";import"./QnRASlD3.js";import{L as zt,U as At}from"./DLJZCxYD.js";import{I as Nt}from"./t3XdKj5y.js";import{d as Wt}from"./DOrtXGrH.js";import{o as jt,m as _t,j as pt,d as Dt,g as Lt,b as qt}from"./CentS020.js";import{s as G,t as ct}from"./gG4CUbDX.js";import{a as rt}from"./BdK7rzmN.js";import{b as it}from"./CRtoN-tp.js";import{i as Et}from"./BwQo_Iph.js";import{w as Vt,d as Bt}from"./CpzmMpJK.js";import{t as Ht,o as Qt,f as Gt,c as Jt,e as Kt}from"./C1qF14Wh.js";const Xt={defaultOpen:!1,disabled:!1,forceVisible:!1},{name:gt}=Dt("collapsible");function Yt(c){const t={...Xt,...c},w=Ht(jt(t,"open","defaultOpen","onOpenChange")),{disabled:u,forceVisible:y}=w,g=t.open??Vt(t.defaultOpen),h=Qt(g,t==null?void 0:t.onOpenChange),r=_t(gt(),{stores:[h,u],returned:([a,s])=>({"data-state":a?"open":"closed","data-disabled":pt(s)})}),e=_t(gt("trigger"),{stores:[h,u],returned:([a,s])=>({"data-state":a?"open":"closed","data-disabled":pt(s),disabled:pt(s)}),action:a=>({destroy:Lt(a,"click",()=>{a.dataset.disabled===void 0&&h.update(k=>!k)})})}),i=Bt([h,y],([a,s])=>a||s),C=_t(gt("content"),{stores:[i,u],returned:([a,s])=>({"data-state":a?"open":"closed","data-disabled":pt(s),hidden:a?void 0:!0,style:qt({display:a?void 0:"none"})})});return{elements:{root:r,trigger:e,content:C},states:{open:h},options:w}}function Ut(){return{NAME:"collapsible",PARTS:["root","content","trigger"]}}function Zt(c){const{NAME:t,PARTS:w}=Ut(),u=Gt(t,w),y={...Yt(Jt(c)),getAttrs:u};return It(t,y),{...y,updateOption:Kt(y.options)}}function $t(){const{NAME:c}=Ut();return Ft(c)}var te=V("<div><!></div>");function ee(c,t){const w=mt(t,["children","$$slots","$$events","$$legacy"]),u=mt(w,["disabled","open","onOpenChange","asChild","el"]);yt(t,!1);const[y,g]=Rt(),h=()=>bt(P,"$root",y),r=kt();let e=x(t,"disabled",24,()=>{}),i=x(t,"open",28,()=>{}),C=x(t,"onOpenChange",24,()=>{}),a=x(t,"asChild",8,!1),s=x(t,"el",28,()=>{});const{elements:{root:P},states:{open:k},updateOption:D,getAttrs:v}=Zt({disabled:e(),forceVisible:!0,defaultOpen:i(),onOpenChange:({next:f})=>{var _;return i()!==f&&((_=C())==null||_(f),i(f)),f}}),o=v("root");st(()=>St(i()),()=>{i()!==void 0&&k.set(i())}),st(()=>St(e()),()=>{D("disabled",e())}),st(()=>h(),()=>{Pt(r,h())}),st(()=>n(r),()=>{Object.assign(n(r),o)}),Mt(),Et();var J=ut(),B=ot(J);{var Z=f=>{var _=ut(),L=ot(_);G(L,t,"default",{get builder(){return n(r)}},null),O(f,_)},$=f=>{var _=te();let L;var I=l(_);G(I,t,"default",{get builder(){return n(r)}},null),d(_),it(_,U=>s(U),()=>s()),rt(_,U=>{var H,tt;return(tt=(H=n(r)).action)==null?void 0:tt.call(H,U)}),Y(()=>L=nt(_,L,{...n(r),...u})),O(f,_)};j(B,f=>{a()?f(Z):f($,!1)})}O(c,J),ht(),g()}var ae=V("<div><!></div>"),ne=V("<div><!></div>"),re=V("<div><!></div>"),ie=V("<div><!></div>"),se=V("<div><!></div>");function oe(c,t){const w=mt(t,["children","$$slots","$$events","$$legacy"]),u=mt(w,["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","asChild","el"]);yt(t,!1);const[y,g]=Rt(),h=()=>bt(o,"$content",y),r=()=>bt(J,"$open",y),e=kt();let i=x(t,"transition",24,()=>{}),C=x(t,"transitionConfig",24,()=>{}),a=x(t,"inTransition",24,()=>{}),s=x(t,"inTransitionConfig",24,()=>{}),P=x(t,"outTransition",24,()=>{}),k=x(t,"outTransitionConfig",24,()=>{}),D=x(t,"asChild",8,!1),v=x(t,"el",28,()=>{});const{elements:{content:o},states:{open:J},getAttrs:B}=$t(),Z=B("content");st(()=>h(),()=>{Pt(e,h())}),st(()=>n(e),()=>{Object.assign(n(e),Z)}),Mt(),Et();var $=ut(),f=ot($);{var _=I=>{var U=ut(),H=ot(U);G(H,t,"default",{get builder(){return n(e)}},null),O(I,U)},L=(I,U)=>{{var H=z=>{var F=ae();let K;var et=l(F);G(et,t,"default",{get builder(){return n(e)}},null),d(F),it(F,M=>v(M),()=>v()),rt(F,M=>{var S,q;return(q=(S=n(e)).action)==null?void 0:q.call(S,M)}),Y(()=>K=nt(F,K,{...n(e),...u})),ct(3,F,i,C),O(z,F)},tt=(z,F)=>{{var K=M=>{var S=ne();let q;var lt=l(S);G(lt,t,"default",{get builder(){return n(e)}},null),d(S),it(S,A=>v(A),()=>v()),rt(S,A=>{var T,N;return(N=(T=n(e)).action)==null?void 0:N.call(T,A)}),Y(()=>q=nt(S,q,{...n(e),...u})),ct(1,S,a,s),ct(2,S,P,k),O(M,S)},et=(M,S)=>{{var q=A=>{var T=re();let N;var p=l(T);G(p,t,"default",{get builder(){return n(e)}},null),d(T),it(T,m=>v(m),()=>v()),rt(T,m=>{var b,R;return(R=(b=n(e)).action)==null?void 0:R.call(b,m)}),Y(()=>N=nt(T,N,{...n(e),...u})),ct(1,T,a,s),O(A,T)},lt=(A,T)=>{{var N=m=>{var b=ie();let R;var Q=l(b);G(Q,t,"default",{get builder(){return n(e)}},null),d(b),it(b,E=>v(E),()=>v()),rt(b,E=>{var X,at;return(at=(X=n(e)).action)==null?void 0:at.call(X,E)}),Y(()=>R=nt(b,R,{...n(e),...u})),ct(2,b,P,k),O(m,b)},p=(m,b)=>{{var R=Q=>{var E=se();let X;var at=l(E);G(at,t,"default",{get builder(){return n(e)}},null),d(E),it(E,dt=>v(dt),()=>v()),rt(E,dt=>{var ft,Ct;return(Ct=(ft=n(e)).action)==null?void 0:Ct.call(ft,dt)}),Y(()=>X=nt(E,X,{...n(e),...u})),O(Q,E)};j(m,Q=>{r()&&Q(R)},b)}};j(A,m=>{P()&&r()?m(N):m(p,!1)},T)}};j(M,A=>{a()&&r()?A(q):A(lt,!1)},S)}};j(z,M=>{a()&&P()&&r()?M(K):M(et,!1)},F)}};j(I,z=>{i()&&r()?z(H):z(tt,!1)},U)}};j(f,I=>{D()&&r()?I(_):I(L,!1)})}O(c,$),ht(),g()}function le(c){const t=c-1;return t*t*t+1}function de(c,{delay:t=0,duration:w=400,easing:u=le,axis:y="y"}={}){const g=getComputedStyle(c),h=+g.opacity,r=y==="y"?"height":"width",e=parseFloat(g[r]),i=y==="y"?["top","bottom"]:["left","right"],C=i.map(o=>`${o[0].toUpperCase()}${o.slice(1)}`),a=parseFloat(g[`padding${C[0]}`]),s=parseFloat(g[`padding${C[1]}`]),P=parseFloat(g[`margin${C[0]}`]),k=parseFloat(g[`margin${C[1]}`]),D=parseFloat(g[`border${C[0]}Width`]),v=parseFloat(g[`border${C[1]}Width`]);return{delay:t,duration:w,easing:u,css:o=>`overflow: hidden;opacity: ${Math.min(o*20,1)*h};${r}: ${o*e}px;padding-${i[0]}: ${o*a}px;padding-${i[1]}: ${o*s}px;margin-${i[0]}: ${o*P}px;margin-${i[1]}: ${o*k}px;border-${i[0]}-width: ${o*D}px;border-${i[1]}-width: ${o*v}px;min-${r}: 0`}}var ce=V('<div class="reply-editor"><form name="submitReply" id="submitReply" class="reply" method="post" action="?/submitReply"><textarea rows="4" cols="1" id="reply-text" name="reply-text" spellcheck="true" placeholder="Reply..." required></textarea> <button class="standard svelte-zeyi1k" formaction="?/submitReply">submit</button></form></div>');function ue(c){var t=ce();O(c,t)}var ve=V('<span class="status-badge">edited</span>'),pe=V('<input type="hidden" name="post-reply-id" id="post-reply-id" form="delete"> <input type="hidden" name="post-reply-id" id="post-reply-id" form="flagPost"> <div class="comment-panel"><div class="comment"><div class="comment-metadata"><div class="row-group-user-data"><img class="comment-avatar"> <div class="row-group-column"><a><span class="comment-display-name"> </span></a> <a><span class="date" aria-label="permalink"> <!></span></a></div></div> <div class="row-group"><!></div></div> <div class="comment-text"><!></div> <div class="comment-reaction-row"><div class="row-group"></div> <div class="row-group-icon-description"><!></div></div></div> <!></div>',1);function Ie(c,t){var A,T,N;yt(t,!0);let w=x(t,"editState",15,!1),u=x(t,"userActionSuccess",11,null),y;const g=(A=t.reply)==null?void 0:A.original_post_date.toISOString(),h=Date.parse(g).toString(),r=(T=t.reply)==null?void 0:T.created_at.toISOString(),e=Date.parse(r).toString(),i=`/posts/${t.reply.original_poster_username}/now-playing/${h}#${(N=t.reply.username)==null?void 0:N.concat(e)}`;var C=pe(),a=ot(C);Ot(a);var s=W(a,2);Ot(s);var P=W(s,2),k=l(P),D=l(k),v=l(D),o=l(v),J=W(o,2),B=l(J),Z=l(B),$=l(Z,!0);d(Z),d(B);var f=W(B,2);vt(f,"href",i);var _=l(f),L=l(_),I=W(L);zt(I,{size:"15",color:"var(--freq-color-text-muted)"}),d(_),d(f),d(J),d(v);var U=W(v,2),H=l(U);{var tt=p=>{var m=ve();O(p,m)};j(H,p=>{t.reply.status==="edited"&&p(tt)})}d(U),d(D);var z=W(D,2),F=l(z);Nt(F,{get text(){return t.reply.text}}),d(z);var K=W(z,2),et=W(l(K),2),M=l(et);{var S=p=>{At(p,{mode:"sessionUserPostMenu",get postId(){return t.reply.id},get success(){return u()},get editState(){return w()},set editState(m){w(m)}})},q=(p,m)=>{{var b=R=>{At(R,{mode:"postMenu",get success(){return u()}})};j(p,R=>{t.reply.user_id!=t.sessionUserId&&R(b)},m)}};j(M,p=>{t.reply.user_id==t.sessionUserId?p(S):p(q,!1)})}d(et),d(K),d(k);var lt=W(k,2);xt(lt,()=>ee,(p,m)=>{m(p,{get open(){return y},children:(b,R)=>{var Q=ut(),E=ot(Q);xt(E,()=>oe,(X,at)=>{at(X,{transition:de,children:(dt,ft)=>{ue(dt)},$$slots:{default:!0}})}),O(b,Q)},$$slots:{default:!0}})}),d(P),Y(p=>{wt(a,t.reply.id),wt(s,t.reply.id),vt(o,"src",t.reply.avatar_url),vt(o,"alt",`${t.reply.display_name}'s avatar`),vt(B,"href",`/user/${t.reply.username??""}`),Tt($,t.reply.display_name),Tt(L,`${p??""} `)},[()=>Wt(t.reply.created_at)]),O(c,C),ht()}export{ue as P,Ie as a};
