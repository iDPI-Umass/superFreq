import"../chunks/Bg9kRutz.js";import{p as C,a6 as H,u as I,f as O,g as t,t as M,b as S,$,c as i,d as n,e as c,s as T,a as j,n as q,r as u}from"../chunks/CIC73nbL.js";import{s as B}from"../chunks/zPX_AMPA.js";import{t as m,a as l}from"../chunks/D1sabymj.js";import{h as D}from"../chunks/CZBN_KMn.js";import{r as U,b as P}from"../chunks/pfHeeLMb.js";import{p as E}from"../chunks/D8QYH9wd.js";import{i as F}from"../chunks/QnRASlD3.js";import{P as G}from"../chunks/h0YdFdS4.js";import"../chunks/69_IOA4Y.js";import"../chunks/CentS020.js";import{N as J}from"../chunks/BniDsu-1.js";import{R as K}from"../chunks/Bag0UgaA.js";var L=m("<span>update username</span>"),Q=m("<span>Username taken</span>"),V=m("<span>Please try another username.</span>"),W=m("<span> </span>"),X=m('<div class="panel svelte-1vdlbrh" id="profile-info"><!> <form class="horizontal" id="account-data" method="POST"><div class="form-column"><label class="text-label" for="current-username" form="account-data">Current Username</label> <input class="text svelte-1vdlbrh" type="text" name="current-username" id="current-username" form="account-data" disabled> <label class="text-label" for="new-username" form="account-data">New Username</label> <input class="text svelte-1vdlbrh" type="text" name="new-username" id="new-username" form="account-data"> <button type="submit" class="double-border-top"><div class="inner-border">submit</div></button></div></form> <!></div> <!>',1);function ce(N,s){C(s,!0);let R=c(()=>s.data.profile),h=c(()=>{var e;return(e=t(R))==null?void 0:e.username}),_=5,d=j(0),k=c(()=>{var e;return((e=s.form)==null?void 0:e.success)==!1}),b=c(()=>{var e,r;return(e=s.form)!=null&&e.success?(r=s.form)==null?void 0:r.success:!1});H(()=>{F()}),I(()=>{t(b)&&(T(d,E(_)),setInterval(()=>T(d,t(d)-1),1e3))});var g=X();D(e=>{$.title=`
		Update Username
	`});var p=O(g),x=i(p);G(x,{headerText:r=>{var a=L();l(r,a)}});var f=n(x,2),w=i(f),v=n(i(w),2);U(v);var y=n(v,4);U(y),q(2),u(w),u(f);var z=n(f,2);J(z,{get showModal(){return t(k)},headerText:a=>{var o=Q();l(a,o)},message:a=>{var o=V();l(a,o)},$$slots:{headerText:!0,message:!0}}),u(p);var A=n(p,2);K(A,{get showModal(){return t(b)},get delay(){return _},redirectPath:"/account",message:r=>{var a=W(),o=i(a);u(a),M(()=>B(o,`Username updated successfully. Redirecting to your account page in ${t(d)??""} seconds.`)),l(r,a)},$$slots:{message:!0}}),M(()=>{P(v,t(h)),P(y,t(h))}),l(N,g),S()}export{ce as component};
