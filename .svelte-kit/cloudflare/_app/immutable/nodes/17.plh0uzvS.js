import"../chunks/Bg9kRutz.js";import{p as G,f as I,b as J,t as P,c as R,d,$ as K,r as M,g as t,e as c}from"../chunks/CIC73nbL.js";import{s as O}from"../chunks/zPX_AMPA.js";import{i as b}from"../chunks/w9zPIjBD.js";import{e as Q,i as V}from"../chunks/ChSzfhcg.js";import{t as g,a as f}from"../chunks/D1sabymj.js";import{h as W}from"../chunks/CZBN_KMn.js";import{r as v,b as h}from"../chunks/pfHeeLMb.js";import{p as _}from"../chunks/D8QYH9wd.js";import{N as X}from"../chunks/DLJZCxYD.js";import{a as Y}from"../chunks/CWmRn-Nb.js";import{P as Z}from"../chunks/h0YdFdS4.js";import"../chunks/Bag0UgaA.js";import{N as $}from"../chunks/BniDsu-1.js";var ee=g("<span> </span>"),se=g('<input type="hidden" name="post-id" id="post-id" form="delete"> <input type="hidden" name="post-username" id="post-username" form="delete"> <input type="hidden" name="post-id" id="post-id" form="flagPost"> <input type="hidden" name="post-id" id="post-id" form="submitReaction"> <input type="hidden" name="reaction-type" id="reaction-type" form="submitReaction" value="like"> <!>',1),te=g("<span>success!</span>"),ae=g('<div class="panel-medium"><!> <div class="posts-spacing svelte-1gilt3n"></div></div> <!>',1);function ge(k,r){G(r,!0);let u=r.data,N=_(u.posts),A=_(u.username),S=_(u.sessionUserId),H=_(u.sessionUserCollections),L=c(()=>{var s;return((s=r.form)==null?void 0:s.showCollectionsModal)??!1}),j=c(()=>{var s;return((s=r.form)==null?void 0:s.updateSuccess)??!1});var U=ae();W(s=>{P(()=>K.title=`
		${A??""}'s' Now Playing posts
	`)});var y=I(U),C=R(y);Z(C,{headerText:e=>{var a=ee(),i=R(a);M(a),P(()=>O(i,`${N[0].display_name??""}'s Now Playing posts`)),f(e,a)}});var T=d(C,2);Q(T,21,()=>N,V,(s,e)=>{var a=se(),i=I(a);v(i);var l=d(i,2);v(l);var x=d(l,2);v(x);var w=d(x,2);v(w);var B=d(w,2),D=d(B,2);{var E=o=>{const m=c(()=>{var n;return(n=r.form)==null?void 0:n.success});X(o,{get sessionUserId(){return S},get post(){return t(e)},mode:"feed",get userActionSuccess(){return t(m)},get collections(){return H},get showCollectionsModal(){return t(L)},get showSaveSucessModal(){return t(j)}})},F=(o,m)=>{{var n=p=>{Y(p,{get reply(){return t(e)},get sessionUserId(){return S}})};b(o,p=>{t(e).type=="reply"&&p(n)},m)}};b(D,o=>{t(e).type=="now_playing"?o(E):o(F,!1)})}P(()=>{var o,m,n,p;h(i,(o=t(e))==null?void 0:o.id),h(l,(m=t(e))==null?void 0:m.username),h(x,(n=t(e))==null?void 0:n.id),h(w,(p=t(e))==null?void 0:p.id)}),f(s,a)}),M(T),M(y);var q=d(y,2);{var z=s=>{const e=c(()=>{var a;return(a=r.form)==null?void 0:a.success});$(s,{get showModal(){return t(e)},headerText:i=>{var l=te();f(i,l)},$$slots:{headerText:!0}})};b(q,s=>{var e;(e=r.form)!=null&&e.success&&s(z)})}f(k,U),J()}export{ge as component};
