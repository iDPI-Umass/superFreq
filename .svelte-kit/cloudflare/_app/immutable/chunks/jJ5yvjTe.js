import"./Bg9kRutz.js";import{p as B,f as g,b as M,c as T,d as G,r as L,g as c,e as b,a2 as I,t as R,n as U}from"./CIC73nbL.js";import{t as u,a as i,d as j}from"./D1sabymj.js";import{C as D,a as E}from"./CBTFtqMS.js";import{i as x}from"./w9zPIjBD.js";import{s as f}from"./pfHeeLMb.js";import{p as F}from"./D8QYH9wd.js";import{p as _}from"./Cu7UW-DA.js";import{M as H}from"./BadVv_ud.js";import{w as A}from"./BShju2DL.js";var J=u('<img class="svelte-1qx7hzq">'),K=u('<img alt="loading cover art" class="svelte-1qx7hzq"> <p>Loading cover art.</p>',1),O=u('<div class="mb-search svelte-1qx7hzq"><!></div> <span class="tip">search for album cover to make your profile image</span> <!>',1);function ta(w,e){B(e,!0);const q=(a,r=I,d=I)=>{var t=j(),N=g(t);E(N,l,v=>{var s=K(),S=g(s);f(S,"src",A),U(2),i(v,s)},v=>{var s=J();R(()=>{f(s,"src",r().img_url??r().last_fm_img_url??A),f(s,"alt",`${(r().img_url??r().last_fm_img_url?d():"no available")??""} cover art`)}),i(v,s)}),i(a,t)};let m=_(e,"newItemAdded",15,!1),o=_(e,"avatarItem",31,()=>F({})),l=_(e,"imgPromise",15,null),y=b(()=>e.avatarInfo.artist_name),p=b(()=>e.avatarInfo.release_group_name);var h=O(),n=g(h),P=T(n);H(P,{searchCategory:"release_groups",searchButtonText:"search",searchPlaceholder:"Search for an album",mode:"single",limit:"10",get addedItems(){return o()},set addedItems(a){o(a)},get newItemAdded(){return m()},set newItemAdded(a){m(a)},get imgPromise(){return l()},set imgPromise(a){l(a)}}),L(n);var z=G(n,4);{var k=a=>{D(a,{get item(){return e.avatarInfo},get altText(){return`${e.displayName??""}'s avatar: ${c(p)??""} by ${c(y)??""}`}})},C=(a,r)=>{{var d=t=>{q(t,o,()=>c(p))};x(a,t=>{o()&&m()&&t(d)},r)}};x(z,a=>{e.avatarUrl&&!m()?a(k):a(C,!1)})}i(w,h),M()}export{ta as A};
