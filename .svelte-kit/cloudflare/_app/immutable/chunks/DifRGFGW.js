import"./Bg9kRutz.js";import{al as Br,aX as Ur,a5 as Wr,K as Zr,I as Qt,x as Hr,P as jr,G as Yr,y as Vr,U as qr,f as Z,p as hr,b as yr,c as B,r as z,n as lt,a as Kr,u as Xr,s as Nt,g as N,t as H,a2 as be,d as ye,e as dt}from"./CIC73nbL.js";import{s as ve}from"./zPX_AMPA.js";import{a as $t,C as Qe}from"./CBTFtqMS.js";import{i as I}from"./w9zPIjBD.js";import{e as Lt,i as er}from"./ChSzfhcg.js";import{d as ge,a as g,t as M,b as Ge}from"./D1sabymj.js";import{a as tr}from"./BdK7rzmN.js";import{a as ut,c as ct,s as De}from"./pfHeeLMb.js";import{d as Jr,e as rr}from"./26D3B16x.js";import{I as Dr,s as Er,a as Qr}from"./gG4CUbDX.js";import{p as He}from"./D8QYH9wd.js";import{l as br,s as Tr,p as je}from"./Cu7UW-DA.js";import{c as $r,D as en,M as tn,B as rn}from"./B-_ULT65.js";import"./69_IOA4Y.js";import{w as nr}from"./BShju2DL.js";import{l as nn}from"./DOrtXGrH.js";function ar(e,t,r){Qt&&Hr();var n=e,a=qr,i,s=Br()?Ur:Wr;Zr(()=>{s(a,a=t())&&(i&&jr(i),i=Yr(()=>r(n)))}),Qt&&(n=Vr)}function an(e,{from:t,to:r},n={}){var{delay:a=0,duration:i=de=>Math.sqrt(de)*120,easing:s=$r}=n,l=getComputedStyle(e),c=l.transform==="none"?"":l.transform,[v,d]=l.transformOrigin.split(" ").map(parseFloat);v/=e.clientWidth,d/=e.clientHeight;var h=on(e),u=e.clientWidth/r.width/h,f=e.clientHeight/r.height/h,E=t.left+t.width*v,y=t.top+t.height*d,b=r.left+r.width*v,R=r.top+r.height*d,w=(E-b)*u,X=(y-R)*f,k=t.width/r.width,me=t.height/r.height;return{delay:a,duration:typeof i=="function"?i(Math.sqrt(w*w+X*X)):i,easing:s,css:(de,ue)=>{var ae=ue*w,m=ue*X,o=de+ue*k,p=de+ue*me;return`transform: ${c} translate(${ae}px, ${m}px) scale(${o}, ${p});`}}}function on(e){if("currentCSSZoom"in e)return e.currentCSSZoom;for(var t=e,r=1;t!==null;)r*=+getComputedStyle(t).zoom,t=t.parentElement;return r}function ir(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Re(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ir(Object(r),!0).forEach(function(n){qe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ir(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function et(e){"@babel/helpers - typeof";return et=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},et(e)}function qe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sn(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function ln(e,t){if(e==null)return{};var r=sn(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function dn(e,t){return cn(e)||vn(e,t)||Yt(e,t)||mn()}function we(e){return un(e)||fn(e)||Yt(e)||gn()}function un(e){if(Array.isArray(e))return kt(e)}function cn(e){if(Array.isArray(e))return e}function fn(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function vn(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],a=!0,i=!1,s,l;try{for(r=r.call(e);!(a=(s=r.next()).done)&&(n.push(s.value),!(t&&n.length===t));a=!0);}catch(c){i=!0,l=c}finally{try{!a&&r.return!=null&&r.return()}finally{if(i)throw l}}return n}}function Yt(e,t){if(e){if(typeof e=="string")return kt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kt(e,t)}}function kt(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function gn(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mn(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function it(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=Yt(e))||t){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(c){throw c},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i=!0,s=!1,l;return{s:function(){r=r.call(e)},n:function(){var c=r.next();return i=c.done,c},e:function(c){s=!0,l=c},f:function(){try{!i&&r.return!=null&&r.return()}finally{if(s)throw l}}}}var pn="finalize",_n="consider";function Ke(e,t,r){e.dispatchEvent(new CustomEvent(pn,{detail:{items:t,info:r}}))}function ke(e,t,r){e.dispatchEvent(new CustomEvent(_n,{detail:{items:t,info:r}}))}var Tt="draggedEntered",ot="draggedLeft",wt="draggedOverIndex",Vt="draggedLeftDocument",_t={LEFT_FOR_ANOTHER:"leftForAnother",OUTSIDE_OF_ANY:"outsideOfAny"};function hn(e,t,r){e.dispatchEvent(new CustomEvent(Tt,{detail:{indexObj:t,draggedEl:r}}))}function yn(e,t,r){e.dispatchEvent(new CustomEvent(ot,{detail:{draggedEl:t,type:_t.LEFT_FOR_ANOTHER,theOtherDz:r}}))}function Dn(e,t){e.dispatchEvent(new CustomEvent(ot,{detail:{draggedEl:t,type:_t.OUTSIDE_OF_ANY}}))}function En(e,t,r){e.dispatchEvent(new CustomEvent(wt,{detail:{indexObj:t,draggedEl:r}}))}function bn(e){window.dispatchEvent(new CustomEvent(Vt,{detail:{draggedEl:e}}))}var se={DRAG_STARTED:"dragStarted",DRAGGED_ENTERED:Tt,DRAGGED_ENTERED_ANOTHER:"dragEnteredAnother",DRAGGED_OVER_INDEX:wt,DRAGGED_LEFT:ot,DRAGGED_LEFT_ALL:"draggedLeftAll",DROPPED_INTO_ZONE:"droppedIntoZone",DROPPED_INTO_ANOTHER:"droppedIntoAnother",DROPPED_OUTSIDE_OF_ANY:"droppedOutsideOfAny",DRAG_STOPPED:"dragStopped"},le={POINTER:"pointer",KEYBOARD:"keyboard"},Ot="isDndShadowItem",At="data-is-dnd-shadow-item-internal",Tn="data-is-dnd-shadow-item-hint",wn="id:dnd-shadow-placeholder-0000",On="dnd-action-dragged-el",Q="id",Gt=0;function wr(){Gt++}function Or(){if(Gt===0)throw new Error("Bug! trying to decrement when there are no dropzones");Gt--}var qt=typeof window>"u";function Bt(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r,n=t?Sn(e):e.getBoundingClientRect(),a=getComputedStyle(e),i=a.transform;if(i){var s,l,c,v;if(i.startsWith("matrix3d("))r=i.slice(9,-1).split(/, /),s=+r[0],l=+r[5],c=+r[12],v=+r[13];else if(i.startsWith("matrix("))r=i.slice(7,-1).split(/, /),s=+r[0],l=+r[3],c=+r[4],v=+r[5];else return n;var d=a.transformOrigin,h=n.x-c-(1-s)*parseFloat(d),u=n.y-v-(1-l)*parseFloat(d.slice(d.indexOf(" ")+1)),f=s?n.width/s:e.offsetWidth,E=l?n.height/l:e.offsetHeight;return{x:h,y:u,width:f,height:E,top:u,right:h+f,bottom:u+E,left:h}}else return n}function Ar(e){var t=Bt(e);return{top:t.top+window.scrollY,bottom:t.bottom+window.scrollY,left:t.left+window.scrollX,right:t.right+window.scrollX}}function Ir(e){var t=e.getBoundingClientRect();return{top:t.top+window.scrollY,bottom:t.bottom+window.scrollY,left:t.left+window.scrollX,right:t.right+window.scrollX}}function xr(e){return{x:(e.left+e.right)/2,y:(e.top+e.bottom)/2}}function An(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function It(e,t){return e.y<=t.bottom&&e.y>=t.top&&e.x>=t.left&&e.x<=t.right}function rt(e){return xr(Ir(e))}function or(e,t){var r=rt(e),n=Ar(t);return It(r,n)}function In(e,t){var r=rt(e),n=rt(t);return An(r,n)}function xn(e){var t=Ir(e);return t.right<0||t.left>document.documentElement.scrollWidth||t.bottom<0||t.top>document.documentElement.scrollHeight}function Sn(e){for(var t=e.getBoundingClientRect(),r={top:t.top,bottom:t.bottom,left:t.left,right:t.right},n=e.parentElement;n&&n!==document.body;){var a=n.getBoundingClientRect(),i=window.getComputedStyle(n).overflowY,s=window.getComputedStyle(n).overflowX,l=i==="scroll"||i==="auto",c=s==="scroll"||s==="auto";l&&(r.top=Math.max(r.top,a.top),r.bottom=Math.min(r.bottom,a.bottom)),c&&(r.left=Math.max(r.left,a.left),r.right=Math.min(r.right,a.right)),n=n.parentElement}return r.top=Math.max(r.top,0),r.bottom=Math.min(r.bottom,window.innerHeight),r.left=Math.max(r.left,0),r.right=Math.min(r.right,window.innerWidth),{top:r.top,bottom:r.bottom,left:r.left,right:r.right,width:Math.max(0,r.right-r.left),height:Math.max(0,r.bottom-r.top)}}var Ye;function Kt(){Ye=new Map}Kt();function Cn(e){var t=Array.from(e.children).findIndex(function(r){return r.getAttribute(At)});if(t>=0)return Ye.has(e)||Ye.set(e,new Map),Ye.get(e).set(t,Ar(e.children[t])),t}function Rn(e,t){if(!or(e,t))return null;var r=t.children;if(r.length===0)return{index:0,isProximityBased:!0};for(var n=Cn(t),a=0;a<r.length;a++)if(or(e,r[a])){var i=Ye.has(t)&&Ye.get(t).get(a);return i&&!It(rt(e),i)?{index:n,isProximityBased:!1}:{index:a,isProximityBased:!1}}for(var s=Number.MAX_VALUE,l=void 0,c=0;c<r.length;c++){var v=In(e,r[c]);v<s&&(s=v,l=c)}return{index:l,isProximityBased:!0}}function ft(e){return JSON.stringify(e,null,2)}function ht(e){if(!e)throw new Error("cannot get depth of a falsy node");return Sr(e,0)}function Sr(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.parentElement?Sr(e.parentElement,t+1):t-1}function Nn(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var r in e)if(!{}.hasOwnProperty.call(t,r)||t[r]!==e[r])return!1;return!0}function Ln(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}var Pn=200,sr=10,Ut;function Mn(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Pn,n=arguments.length>3?arguments[3]:void 0,a,i,s=!1,l,c=Array.from(t).sort(function(d,h){return ht(h)-ht(d)});function v(){var d=rt(e),h=n.multiScrollIfNeeded();if(!h&&l&&Math.abs(l.x-d.x)<sr&&Math.abs(l.y-d.y)<sr){Ut=window.setTimeout(v,r);return}if(xn(e)){bn(e);return}l=d;var u=!1,f=it(c),E;try{for(f.s();!(E=f.n()).done;){var y=E.value;h&&Kt();var b=Rn(e,y);if(b!==null){var R=b.index;u=!0,y!==a?(a&&yn(a,e,y),hn(y,b,e),a=y):R!==i&&(En(y,b,e),i=R);break}}}catch(w){f.e(w)}finally{f.f()}!u&&s&&a?(Dn(a,e),a=void 0,i=void 0,s=!1):s=!0,Ut=window.setTimeout(v,r)}v()}function Fn(){clearTimeout(Ut),Kt()}var $e=30;function zn(){var e;function t(){e={directionObj:void 0,stepPx:0}}t();function r(i){var s=e,l=s.directionObj,c=s.stepPx;l&&(i.scrollBy(l.x*c,l.y*c),window.requestAnimationFrame(function(){return r(i)}))}function n(i){return $e-i}function a(i,s){if(!s)return!1;var l=kn(i,s),c=!!e.directionObj;if(l===null)return c&&t(),!1;var v=!1,d=!1;return s.scrollHeight>s.clientHeight&&(l.bottom<$e?(v=!0,e.directionObj={x:0,y:1},e.stepPx=n(l.bottom)):l.top<$e&&(v=!0,e.directionObj={x:0,y:-1},e.stepPx=n(l.top)),!c&&v)||s.scrollWidth>s.clientWidth&&(l.right<$e?(d=!0,e.directionObj={x:1,y:0},e.stepPx=n(l.right)):l.left<$e&&(d=!0,e.directionObj={x:-1,y:0},e.stepPx=n(l.left)),!c&&d)?(r(s),!0):(t(),!1)}return{scrollIfNeeded:a,resetScrolling:t}}function kn(e,t){var r=t===document.scrollingElement?{top:0,bottom:window.innerHeight,left:0,right:window.innerWidth}:t.getBoundingClientRect();return It(e,r)?{top:e.y-r.top,bottom:r.bottom-e.y,left:e.x-r.left,right:r.right-e.x}:null}function Gn(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,r=Un(e),n=Array.from(r).sort(function(c,v){return ht(v)-ht(c)}),a=zn(),i=a.scrollIfNeeded,s=a.resetScrolling;function l(){var c=t();if(!c||!n)return!1;for(var v=n.filter(function(u){return It(c,u.getBoundingClientRect())||u===document.scrollingElement}),d=0;d<v.length;d++){var h=i(c,v[d]);if(h)return!0}return!1}return{multiScrollIfNeeded:r.size>0?l:function(){return!1},destroy:function(){return s()}}}function Bn(e){if(!e)return[];for(var t=[],r=e;r;){var n=window.getComputedStyle(r),a=n.overflow;a.split(" ").some(function(i){return i.includes("auto")||i.includes("scroll")})&&t.push(r),r=r.parentElement}return t}function Un(e){var t=new Set,r=it(e),n;try{for(r.s();!(n=r.n()).done;){var a=n.value;Bn(a).forEach(function(i){return t.add(i)})}}catch(i){r.e(i)}finally{r.f()}return(document.scrollingElement.scrollHeight>document.scrollingElement.clientHeight||document.scrollingElement.scrollWidth>document.scrollingElement.clientHeight)&&t.add(document.scrollingElement),t}function Wn(e){var t=e.cloneNode(!0),r=[],n=e.tagName==="SELECT",a=n?[e]:we(e.querySelectorAll("select")),i=it(a),s;try{for(i.s();!(s=i.n()).done;){var l=s.value;r.push(l.value)}}catch(X){i.e(X)}finally{i.f()}if(a.length>0)for(var c=n?[t]:we(t.querySelectorAll("select")),v=0;v<c.length;v++){var d=c[v],h=r[v],u=d.querySelector('option[value="'.concat(h,'"'));u&&u.setAttribute("selected",!0)}var f=e.tagName==="CANVAS",E=f?[e]:we(e.querySelectorAll("canvas"));if(E.length>0)for(var y=f?[t]:we(t.querySelectorAll("canvas")),b=0;b<y.length;b++){var R=E[b],w=y[b];w.width=R.width,w.height=R.height,R.width>0&&R.height>0&&w.getContext("2d").drawImage(R,0,0)}return t}var nt=Object.freeze({USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT:"USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT"}),Zn=qe({},nt.USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT,!1);function Cr(e){if(!nt[e])throw new Error("Can't get non existing feature flag ".concat(e,"! Supported flags: ").concat(Object.keys(nt)));return Zn[e]}var Hn=.2;function Be(e){return"".concat(e," ").concat(Hn,"s ease")}function jn(e,t){var r=e.getBoundingClientRect(),n=Wn(e);Rr(e,n),n.id=On,n.style.position="fixed";var a=r.top,i=r.left;if(n.style.top="".concat(a,"px"),n.style.left="".concat(i,"px"),t){var s=xr(r);a-=s.y-t.y,i-=s.x-t.x,window.setTimeout(function(){n.style.top="".concat(a,"px"),n.style.left="".concat(i,"px")},0)}return n.style.margin="0",n.style.boxSizing="border-box",n.style.height="".concat(r.height,"px"),n.style.width="".concat(r.width,"px"),n.style.transition="".concat(Be("top"),", ").concat(Be("left"),", ").concat(Be("background-color"),", ").concat(Be("opacity"),", ").concat(Be("color")," "),window.setTimeout(function(){return n.style.transition+=", ".concat(Be("width"),", ").concat(Be("height"))},0),n.style.zIndex="9999",n.style.cursor="grabbing",n}function Yn(e){e.style.cursor="grab"}function Vn(e,t,r,n){Rr(t,e);var a=t.getBoundingClientRect(),i=e.getBoundingClientRect(),s=a.width-i.width,l=a.height-i.height;if(s||l){var c={left:(r-i.left)/i.width,top:(n-i.top)/i.height};Cr(nt.USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT)||(e.style.height="".concat(a.height,"px"),e.style.width="".concat(a.width,"px")),e.style.left="".concat(parseFloat(e.style.left)-c.left*s,"px"),e.style.top="".concat(parseFloat(e.style.top)-c.top*l,"px")}}function Rr(e,t){var r=window.getComputedStyle(e);Array.from(r).filter(function(n){return n.startsWith("background")||n.startsWith("padding")||n.startsWith("font")||n.startsWith("text")||n.startsWith("align")||n.startsWith("justify")||n.startsWith("display")||n.startsWith("flex")||n.startsWith("border")||n==="opacity"||n==="color"||n==="list-style-type"||Cr(nt.USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT)&&(n==="width"||n==="height")}).forEach(function(n){return t.style.setProperty(n,r.getPropertyValue(n),r.getPropertyPriority(n))})}function qn(e,t){e.draggable=!1,e.ondragstart=function(){return!1},t?(e.style.userSelect="",e.style.WebkitUserSelect="",e.style.cursor=""):(e.style.userSelect="none",e.style.WebkitUserSelect="none",e.style.cursor="grab")}function Nr(e){e.style.display="none",e.style.position="fixed",e.style.zIndex="-5"}function Kn(e){e.style.visibility="hidden",e.setAttribute(At,"true")}function Xn(e){e.style.visibility="",e.removeAttribute(At)}function mt(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){return[]};e.forEach(function(n){var a=t(n);Object.keys(a).forEach(function(i){n.style[i]=a[i]}),r(n).forEach(function(i){return n.classList.add(i)})})}function yt(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){return[]};e.forEach(function(n){var a=t(n);Object.keys(a).forEach(function(i){n.style[i]=""}),r(n).forEach(function(i){return n.classList.contains(i)&&n.classList.remove(i)})})}function Jn(e){var t=e.style.minHeight;e.style.minHeight=window.getComputedStyle(e).getPropertyValue("height");var r=e.style.minWidth;return e.style.minWidth=window.getComputedStyle(e).getPropertyValue("width"),function(){e.style.minHeight=t,e.style.minWidth=r}}var Qn="--any--",$n=100,ea=20,lr=3,dr={outline:"rgba(255, 255, 102, 0.7) solid 2px"},ur="data-is-dnd-original-dragged-item",Ce,ne,_e,xt,U,St,ze,re,Pe,Ee,Le=!1,Xt=!1,Jt,st=!1,pt=[],tt,xe=new Map,j=new Map,Pt=new WeakMap;function ta(e,t){xe.has(t)||xe.set(t,new Set),xe.get(t).has(e)||(xe.get(t).add(e),wr())}function cr(e,t){xe.get(t).delete(e),Or(),xe.get(t).size===0&&xe.delete(t)}function ra(){var e=xe.get(xt),t=it(e),r;try{for(t.s();!(r=t.n()).done;){var n=r.value;n.addEventListener(Tt,Lr),n.addEventListener(ot,Pr),n.addEventListener(wt,Mr)}}catch(s){t.e(s)}finally{t.f()}window.addEventListener(Vt,Xe);var a=Math.max.apply(Math,we(Array.from(e.keys()).map(function(s){return j.get(s).dropAnimationDurationMs}))),i=a===0?ea:Math.max(a,$n);tt=Gn(e,function(){return Ee}),Mn(ne,e,i*1.07,tt)}function na(){var e=xe.get(xt),t=it(e),r;try{for(t.s();!(r=t.n()).done;){var n=r.value;n.removeEventListener(Tt,Lr),n.removeEventListener(ot,Pr),n.removeEventListener(wt,Mr)}}catch(a){t.e(a)}finally{t.f()}window.removeEventListener(Vt,Xe),tt&&(tt.destroy(),tt=void 0),Fn()}function Ct(e){return e.findIndex(function(t){return!!t[Ot]})}function aa(e){var t;return Re(Re({},e),{},(t={},qe(t,Ot,!0),qe(t,Q,wn),t))}function Lr(e){var t=j.get(e.currentTarget),r=t.items,n=t.dropFromOthersDisabled;if(!(n&&e.currentTarget!==U)){if(st=!1,r=r.filter(function(d){return d[Q]!==ze[Q]}),U!==e.currentTarget){var a=j.get(U).items,i=a.filter(function(d){return!d[Ot]});ke(U,i,{trigger:se.DRAGGED_ENTERED_ANOTHER,id:_e[Q],source:le.POINTER})}var s=e.detail.indexObj,l=s.index,c=s.isProximityBased,v=c&&l===e.currentTarget.children.length-1?l+1:l;re=e.currentTarget,r.splice(v,0,ze),ke(e.currentTarget,r,{trigger:se.DRAGGED_ENTERED,id:_e[Q],source:le.POINTER})}}function Pr(e){if(Le){var t=j.get(e.currentTarget),r=t.items,n=t.dropFromOthersDisabled;if(!(n&&e.currentTarget!==U&&e.currentTarget!==re)){var a=we(r),i=Ct(a);i!==-1&&a.splice(i,1);var s=re;re=void 0;var l=e.detail,c=l.type,v=l.theOtherDz;if(c===_t.OUTSIDE_OF_ANY||c===_t.LEFT_FOR_ANOTHER&&v!==U&&j.get(v).dropFromOthersDisabled){st=!0,re=U;var d=s===U?a:we(j.get(U).items);d.splice(St,0,ze),ke(U,d,{trigger:se.DRAGGED_LEFT_ALL,id:_e[Q],source:le.POINTER})}ke(e.currentTarget,a,{trigger:se.DRAGGED_LEFT,id:_e[Q],source:le.POINTER})}}}function Mr(e){var t=j.get(e.currentTarget),r=t.items,n=t.dropFromOthersDisabled;if(!(n&&e.currentTarget!==U)){var a=we(r);st=!1;var i=e.detail.indexObj.index,s=Ct(a);s!==-1&&a.splice(s,1),a.splice(i,0,ze),ke(e.currentTarget,a,{trigger:se.DRAGGED_OVER_INDEX,id:_e[Q],source:le.POINTER})}}function Dt(e){e.preventDefault();var t=e.touches?e.touches[0]:e;Ee={x:t.clientX,y:t.clientY},ne.style.transform="translate3d(".concat(Ee.x-Pe.x,"px, ").concat(Ee.y-Pe.y,"px, 0)")}function Xe(){Xt=!0,window.removeEventListener("mousemove",Dt),window.removeEventListener("touchmove",Dt),window.removeEventListener("mouseup",Xe),window.removeEventListener("touchend",Xe),na(),Yn(ne),re||(re=U);var e=j.get(re),t=e.items,r=e.type;yt(xe.get(r),function(i){return j.get(i).dropTargetStyle},function(i){return j.get(i).dropTargetClasses});var n=Ct(t);n===-1&&re===U&&(n=St),t=t.map(function(i){return i[Ot]?_e:i});function a(){Jt(),Ke(re,t,{trigger:st?se.DROPPED_OUTSIDE_OF_ANY:se.DROPPED_INTO_ZONE,id:_e[Q],source:le.POINTER}),re!==U&&Ke(U,j.get(U).items,{trigger:se.DROPPED_INTO_ANOTHER,id:_e[Q],source:le.POINTER});var i=Array.from(re.children).find(function(s){return s.getAttribute(At)});i&&Xn(i),sa()}j.get(re).dropAnimationDisabled?a():ia(n,a)}function ia(e,t){var r=e>-1?Bt(re.children[e],!1):Bt(re,!1),n={x:r.left-parseFloat(ne.style.left),y:r.top-parseFloat(ne.style.top)},a=j.get(re),i=a.dropAnimationDurationMs,s="transform ".concat(i,"ms ease");ne.style.transition=ne.style.transition?ne.style.transition+","+s:s,ne.style.transform="translate3d(".concat(n.x,"px, ").concat(n.y,"px, 0)"),window.setTimeout(t,i)}function oa(e,t){pt.push({dz:e,destroy:t}),window.requestAnimationFrame(function(){Nr(e),document.body.appendChild(e)})}function sa(){ne.remove(),Ce.remove(),pt.length&&(pt.forEach(function(e){var t=e.dz,r=e.destroy;r(),t.remove()}),pt=[]),ne=void 0,Ce=void 0,_e=void 0,xt=void 0,U=void 0,St=void 0,ze=void 0,re=void 0,Pe=void 0,Ee=void 0,Le=!1,Xt=!1,Jt=void 0,st=!1}function la(e,t){var r=!1,n={items:void 0,type:void 0,flipDurationMs:0,dragDisabled:!1,morphDisabled:!1,dropFromOthersDisabled:!1,dropTargetStyle:dr,dropTargetClasses:[],transformDraggedElement:function(){},centreDraggedOnCursor:!1,dropAnimationDisabled:!1},a=new Map;function i(){window.addEventListener("mousemove",c,{passive:!1}),window.addEventListener("touchmove",c,{passive:!1,capture:!1}),window.addEventListener("mouseup",l,{passive:!1}),window.addEventListener("touchend",l,{passive:!1})}function s(){window.removeEventListener("mousemove",c),window.removeEventListener("touchmove",c),window.removeEventListener("mouseup",l),window.removeEventListener("touchend",l)}function l(u){s(),Ce=void 0,Pe=void 0,Ee=void 0,u.type==="touchend"&&u.target.click()}function c(u){u.preventDefault();var f=u.touches?u.touches[0]:u;Ee={x:f.clientX,y:f.clientY},(Math.abs(Ee.x-Pe.x)>=lr||Math.abs(Ee.y-Pe.y)>=lr)&&(s(),d())}function v(u){if(!(u.target!==u.currentTarget&&(u.target.value!==void 0||u.target.isContentEditable))&&!u.button&&!Le){u.preventDefault(),u.stopPropagation();var f=u.touches?u.touches[0]:u;Pe={x:f.clientX,y:f.clientY},Ee=Re({},Pe),Ce=u.currentTarget,i()}}function d(){Le=!0;var u=a.get(Ce);St=u,U=Ce.parentElement;var f=U.closest("dialog")||U.closest("[popover]")||U.getRootNode(),E=f.body||f,y=n.items,b=n.type,R=n.centreDraggedOnCursor,w=we(y);_e=w[u],xt=b,ze=aa(_e),ne=jn(Ce,R&&Ee),Ce.setAttribute(ur,!0);function X(){ne.parentElement?window.requestAnimationFrame(X):(E.appendChild(ne),ne.focus(),ra(),Nr(Ce),E.appendChild(Ce),ze[Q]=_e[Q])}window.requestAnimationFrame(X),mt(Array.from(xe.get(n.type)).filter(function(k){return k===U||!j.get(k).dropFromOthersDisabled}),function(k){return j.get(k).dropTargetStyle},function(k){return j.get(k).dropTargetClasses}),w.splice(u,1,ze),Jt=Jn(U),ke(U,w,{trigger:se.DRAG_STARTED,id:_e[Q],source:le.POINTER}),window.addEventListener("mousemove",Dt,{passive:!1}),window.addEventListener("touchmove",Dt,{passive:!1,capture:!1}),window.addEventListener("mouseup",Xe,{passive:!1}),window.addEventListener("touchend",Xe,{passive:!1})}function h(u){var f=u.items,E=f===void 0?void 0:f,y=u.flipDurationMs,b=y===void 0?0:y,R=u.type,w=R===void 0?Qn:R,X=u.dragDisabled,k=X===void 0?!1:X,me=u.morphDisabled,de=me===void 0?!1:me,ue=u.dropFromOthersDisabled,ae=ue===void 0?!1:ue,m=u.dropTargetStyle,o=m===void 0?dr:m,p=u.dropTargetClasses,D=p===void 0?[]:p,F=u.transformDraggedElement,x=F===void 0?function(){}:F,S=u.centreDraggedOnCursor,Y=S===void 0?!1:S,_=u.dropAnimationDisabled,L=_===void 0?!1:_;n.dropAnimationDurationMs=b,n.type&&w!==n.type&&cr(e,n.type),n.type=w,n.items=we(E),n.dragDisabled=k,n.morphDisabled=de,n.transformDraggedElement=x,n.centreDraggedOnCursor=Y,n.dropAnimationDisabled=L,r&&Le&&!Xt&&(!Nn(o,n.dropTargetStyle)||!Ln(D,n.dropTargetClasses))&&(yt([e],function(){return n.dropTargetStyle},function(){return D}),mt([e],function(){return o},function(){return D})),n.dropTargetStyle=o,n.dropTargetClasses=we(D);function q(T,W){return j.get(T)?j.get(T)[W]:n[W]}r&&Le&&n.dropFromOthersDisabled!==ae&&(ae?yt([e],function(T){return q(T,"dropTargetStyle")},function(T){return q(T,"dropTargetClasses")}):mt([e],function(T){return q(T,"dropTargetStyle")},function(T){return q(T,"dropTargetClasses")})),n.dropFromOthersDisabled=ae,j.set(e,n),ta(e,w);for(var ce=Le?Ct(n.items):-1,A=0;A<e.children.length;A++){var O=e.children[A];if(qn(O,k),A===ce){de||Vn(ne,O,Ee.x,Ee.y),n.transformDraggedElement(ne,_e,A),Kn(O);continue}O.removeEventListener("mousedown",Pt.get(O)),O.removeEventListener("touchstart",Pt.get(O)),k||(O.addEventListener("mousedown",v),O.addEventListener("touchstart",v),Pt.set(O,v)),a.set(O,A),r||(r=!0)}}return h(t),{update:function(f){h(f)},destroy:function(){function f(){cr(e,j.get(e).type),j.delete(e)}Le&&!e.closest("[".concat(ur,"]"))?oa(e,f):f()}}}var vt,Wt={DND_ZONE_ACTIVE:"dnd-zone-active",DND_ZONE_DRAG_DISABLED:"dnd-zone-drag-disabled"},Fr=(vt={},qe(vt,Wt.DND_ZONE_ACTIVE,"Tab to one the items and press space-bar or enter to start dragging it"),qe(vt,Wt.DND_ZONE_DRAG_DISABLED,"This is a disabled drag and drop list"),vt),da="dnd-action-aria-alert",V;function Zt(){V||(V=document.createElement("div"),function(){V.id=da,V.style.position="fixed",V.style.bottom="0",V.style.left="0",V.style.zIndex="-5",V.style.opacity="0",V.style.height="0",V.style.width="0",V.setAttribute("role","alert")}(),document.body.prepend(V),Object.entries(Fr).forEach(function(e){var t=dn(e,2),r=t[0],n=t[1];return document.body.prepend(fa(r,n))}))}function ua(){return qt?null:(document.readyState==="complete"?Zt():window.addEventListener("DOMContentLoaded",Zt),Re({},Wt))}function ca(){qt||!V||(Object.keys(Fr).forEach(function(e){var t;return(t=document.getElementById(e))===null||t===void 0?void 0:t.remove()}),V.remove(),V=void 0)}function fa(e,t){var r=document.createElement("div");return r.id=e,r.innerHTML="<p>".concat(t,"</p>"),r.style.display="none",r.style.position="fixed",r.style.zIndex="-5",r}function Ve(e){if(!qt){V||Zt(),V.innerHTML="";var t=document.createTextNode(e);V.appendChild(t),V.style.display="none",V.style.display="inline"}}var va="--any--",fr={outline:"rgba(255, 255, 102, 0.7) solid 2px"},Te=!1,Ht,oe,We="",Ue,Ne,Fe="",Et=new WeakSet,vr=new WeakMap,gr=new WeakMap,jt=new Map,te=new Map,Ie=new Map,bt;function ga(e,t){Ie.size===0&&(bt=ua(),window.addEventListener("keydown",zr),window.addEventListener("click",kr)),Ie.has(t)||Ie.set(t,new Set),Ie.get(t).has(e)||(Ie.get(t).add(e),wr())}function mr(e,t){oe===e&&at(),Ie.get(t).delete(e),Or(),Ie.get(t).size===0&&Ie.delete(t),Ie.size===0&&(window.removeEventListener("keydown",zr),window.removeEventListener("click",kr),bt=void 0,ca())}function zr(e){if(Te)switch(e.key){case"Escape":{at();break}}}function kr(){Te&&(Et.has(document.activeElement)||at())}function ma(e){if(Te){var t=e.currentTarget;if(t!==oe){We=t.getAttribute("aria-label")||"";var r=te.get(oe),n=r.items,a=n.find(function(h){return h[Q]===Ne}),i=n.indexOf(a),s=n.splice(i,1)[0],l=te.get(t),c=l.items,v=l.autoAriaDisabled;t.getBoundingClientRect().top<oe.getBoundingClientRect().top||t.getBoundingClientRect().left<oe.getBoundingClientRect().left?(c.push(s),v||Ve("Moved item ".concat(Fe," to the end of the list ").concat(We))):(c.unshift(s),v||Ve("Moved item ".concat(Fe," to the beginning of the list ").concat(We)));var d=oe;Ke(d,n,{trigger:se.DROPPED_INTO_ANOTHER,id:Ne,source:le.KEYBOARD}),Ke(t,c,{trigger:se.DROPPED_INTO_ZONE,id:Ne,source:le.KEYBOARD}),oe=t}}}function Gr(){jt.forEach(function(e,t){var r=e.update;return r(te.get(t))})}function at(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;te.get(oe).autoAriaDisabled||Ve("Stopped dragging item ".concat(Fe)),Et.has(document.activeElement)&&document.activeElement.blur(),e&&ke(oe,te.get(oe).items,{trigger:se.DRAG_STOPPED,id:Ne,source:le.KEYBOARD}),yt(Ie.get(Ht),function(t){return te.get(t).dropTargetStyle},function(t){return te.get(t).dropTargetClasses}),Ue=null,Ne=null,Fe="",Ht=null,oe=null,We="",Te=!1,Gr()}function pa(e,t){var r={items:void 0,type:void 0,dragDisabled:!1,zoneTabIndex:0,zoneItemTabIndex:0,dropFromOthersDisabled:!1,dropTargetStyle:fr,dropTargetClasses:[],autoAriaDisabled:!1};function n(d,h,u){d.length<=1||d.splice(u,1,d.splice(h,1,d[u])[0])}function a(d){switch(d.key){case"Enter":case" ":{if((d.target.disabled!==void 0||d.target.href||d.target.isContentEditable)&&!Et.has(d.target))return;d.preventDefault(),d.stopPropagation(),Te?at():i(d);break}case"ArrowDown":case"ArrowRight":{if(!Te)return;d.preventDefault(),d.stopPropagation();var h=te.get(e),u=h.items,f=Array.from(e.children),E=f.indexOf(d.currentTarget);E<f.length-1&&(r.autoAriaDisabled||Ve("Moved item ".concat(Fe," to position ").concat(E+2," in the list ").concat(We)),n(u,E,E+1),Ke(e,u,{trigger:se.DROPPED_INTO_ZONE,id:Ne,source:le.KEYBOARD}));break}case"ArrowUp":case"ArrowLeft":{if(!Te)return;d.preventDefault(),d.stopPropagation();var y=te.get(e),b=y.items,R=Array.from(e.children),w=R.indexOf(d.currentTarget);w>0&&(r.autoAriaDisabled||Ve("Moved item ".concat(Fe," to position ").concat(w," in the list ").concat(We)),n(b,w,w-1),Ke(e,b,{trigger:se.DROPPED_INTO_ZONE,id:Ne,source:le.KEYBOARD}));break}}}function i(d){l(d.currentTarget),oe=e,Ht=r.type,Te=!0;var h=Array.from(Ie.get(r.type)).filter(function(f){return f===oe||!te.get(f).dropFromOthersDisabled});if(mt(h,function(f){return te.get(f).dropTargetStyle},function(f){return te.get(f).dropTargetClasses}),!r.autoAriaDisabled){var u="Started dragging item ".concat(Fe,". Use the arrow keys to move it within its list ").concat(We);h.length>1&&(u+=", or tab to another list in order to move the item into it"),Ve(u)}ke(e,te.get(e).items,{trigger:se.DRAG_STARTED,id:Ne,source:le.KEYBOARD}),Gr()}function s(d){Te&&d.currentTarget!==Ue&&(d.stopPropagation(),at(!1),i(d))}function l(d){var h=te.get(e),u=h.items,f=Array.from(e.children),E=f.indexOf(d);Ue=d,Ue.tabIndex=r.zoneItemTabIndex,Ne=u[E][Q],Fe=f[E].getAttribute("aria-label")||""}function c(d){var h=d.items,u=h===void 0?[]:h,f=d.type,E=f===void 0?va:f,y=d.dragDisabled,b=y===void 0?!1:y,R=d.zoneTabIndex,w=R===void 0?0:R,X=d.zoneItemTabIndex,k=X===void 0?0:X,me=d.dropFromOthersDisabled,de=me===void 0?!1:me,ue=d.dropTargetStyle,ae=ue===void 0?fr:ue,m=d.dropTargetClasses,o=m===void 0?[]:m,p=d.autoAriaDisabled,D=p===void 0?!1:p;r.items=we(u),r.dragDisabled=b,r.dropFromOthersDisabled=de,r.zoneTabIndex=w,r.zoneItemTabIndex=k,r.dropTargetStyle=ae,r.dropTargetClasses=o,r.autoAriaDisabled=D,r.type&&E!==r.type&&mr(e,r.type),r.type=E,ga(e,E),D||(e.setAttribute("aria-disabled",b),e.setAttribute("role","list"),e.setAttribute("aria-describedby",b?bt.DND_ZONE_DRAG_DISABLED:bt.DND_ZONE_ACTIVE)),te.set(e,r),Te?e.tabIndex=e===oe||Ue.contains(e)||r.dropFromOthersDisabled||oe&&r.type!==te.get(oe).type?-1:0:e.tabIndex=r.zoneTabIndex,e.addEventListener("focus",ma);for(var F=function(Y){var _=e.children[Y];Et.add(_),_.tabIndex=Te?-1:r.zoneItemTabIndex,D||_.setAttribute("role","listitem"),_.removeEventListener("keydown",vr.get(_)),_.removeEventListener("click",gr.get(_)),b||(_.addEventListener("keydown",a),vr.set(_,a),_.addEventListener("click",s),gr.set(_,s)),Te&&r.items[Y][Q]===Ne&&(Ue=_,Ue.tabIndex=r.zoneItemTabIndex,_.focus())},x=0;x<e.children.length;x++)F(x)}c(t);var v={update:function(h){c(h)},destroy:function(){mr(e,r.type),te.delete(e),jt.delete(e)}};return jt.set(e,v),v}var _a=["items","flipDurationMs","type","dragDisabled","morphDisabled","dropFromOthersDisabled","zoneTabIndex","zoneItemTabIndex","dropTargetStyle","dropTargetClasses","transformDraggedElement","autoAriaDisabled","centreDraggedOnCursor","dropAnimationDisabled"];function ha(e,t){if(ya(e))return{update:function(){},destroy:function(){}};pr(t);var r=la(e,t),n=pa(e,t);return{update:function(i){pr(i),r.update(i),n.update(i)},destroy:function(){r.destroy(),n.destroy()}}}function ya(e){return!!e.closest("[".concat(Tn,'="true"]'))}function pr(e){var t=e.items;e.flipDurationMs,e.type,e.dragDisabled,e.morphDisabled,e.dropFromOthersDisabled;var r=e.zoneTabIndex,n=e.zoneItemTabIndex;e.dropTargetStyle;var a=e.dropTargetClasses;e.transformDraggedElement,e.autoAriaDisabled,e.centreDraggedOnCursor,e.dropAnimationDisabled;var i=ln(e,_a);if(Object.keys(i).length>0&&console.warn("dndzone will ignore unknown options",i),!t)throw new Error("no 'items' key provided to dndzone");var s=t.find(function(l){return!{}.hasOwnProperty.call(l,Q)});if(s)throw new Error("missing '".concat(Q,"' property for item ").concat(ft(s)));if(a&&!Array.isArray(a))throw new Error("dropTargetClasses should be an array but instead it is a ".concat(et(a),", ").concat(ft(a)));if(r&&!_r(r))throw new Error("zoneTabIndex should be a number but instead it is a ".concat(et(r),", ").concat(ft(r)));if(n&&!_r(n))throw new Error("zoneItemTabIndex should be a number but instead it is a ".concat(et(n),", ").concat(ft(n)))}function _r(e){return!isNaN(e)&&function(t){return(t|0)===t}(parseFloat(e))}function Da(e){var t=e,r=new Set;return{get:function(){return t},set:function(a){t=a,Array.from(r).forEach(function(i){return i(t)})},subscribe:function(a){r.add(a),a(t)},unsubscribe:function(a){r.delete(a)}}}var Me=Da(!0);function Mt(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return{dragDisabled:e,zoneItemTabIndex:-1}}function Ft(e,t){var r=t,n=ha(e,Re(Re({},r),Mt()));function a(l){n.update(Re(Re({},r),Mt(l)))}Me.subscribe(a);function i(l){var c=l.detail.info,v=c.source,d=c.trigger;v===le.KEYBOARD&&d===se.DRAG_STOPPED&&Me.set(!0)}function s(l){var c=l.detail.info.source;c===le.POINTER&&Me.set(!0)}return e.addEventListener("consider",i),e.addEventListener("finalize",s),{update:function(c){r=c,n.update(Re(Re({},r),Mt(Me.get())))},destroy:function(){e.removeEventListener("consider",i),e.removeEventListener("finalize",s),Me.unsubscribe(a)}}}function zt(e){e.setAttribute("role","button");function t(n){n.preventDefault(),Me.set(!1)}function r(n){(n.key==="Enter"||n.key===" ")&&Me.set(!1)}return Me.subscribe(function(n){e.tabIndex=n?0:-1,e.style.cursor=n?"grab":"grabbing"}),e.addEventListener("mousedown",t),e.addEventListener("touchstart",t),e.addEventListener("keydown",r),{update:function(){},destroy:function(){e.removeEventListener("mousedown",t),e.removeEventListener("touchstart",t),e.removeEventListener("keydown",r)}}}function Ea(e,t){const r=br(t,["children","$$slots","$$events","$$legacy"]);Dr(e,Tr({name:"grip"},()=>r,{iconNode:[["circle",{cx:"12",cy:"5",r:"1"}],["circle",{cx:"19",cy:"5",r:"1"}],["circle",{cx:"5",cy:"5",r:"1"}],["circle",{cx:"12",cy:"12",r:"1"}],["circle",{cx:"19",cy:"12",r:"1"}],["circle",{cx:"5",cy:"12",r:"1"}],["circle",{cx:"12",cy:"19",r:"1"}],["circle",{cx:"19",cy:"19",r:"1"}],["circle",{cx:"5",cy:"19",r:"1"}]],children:(a,i)=>{var s=ge(),l=Z(s);Er(l,t,"default",{},null),g(a,s)},$$slots:{default:!0}}))}function ba(e,t){const r=br(t,["children","$$slots","$$events","$$legacy"]);Dr(e,Tr({name:"palette"},()=>r,{iconNode:[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z"}]],children:(a,i)=>{var s=ge(),l=Z(s);Er(l,t,"default",{},null),g(a,s)},$$slots:{default:!0}}))}var Ta=M("<!> <span>artist</span>",1),wa=M("<!> <span>album</span>",1),Oa=M("<!> <span>track</span>",1),Aa=M("<!> <span>mix</span>",1),Ia=M("<span>item</span>"),xa=M('<span class="inline-block svelte-1gm6lgu"><div class="collection-item-tag svelte-1gm6lgu"><!></div></span>');function gt(e,t){hr(t,!0);let r=je(t,"display",3,!0);var n=ge(),a=Z(n);{var i=s=>{var l=xa(),c=B(l),v=B(c);{var d=u=>{var f=Ta(),E=Z(f);ba(E,{size:"12",color:"var(--freq-color-text-medium-dark)"}),lt(2),g(u,f)},h=(u,f)=>{{var E=b=>{var R=wa(),w=Z(R);en(w,{size:"12",color:"var(--freq-color-text-medium-dark)"}),lt(2),g(b,R)},y=(b,R)=>{{var w=k=>{var me=Oa(),de=Z(me);tn(de,{size:"12",color:"var(--freq-color-text-medium-dark)"}),lt(2),g(k,me)},X=(k,me)=>{{var de=ae=>{var m=Aa(),o=Z(m);rn(o,{size:"12",color:"var(--freq-color-text-medium-dark)"}),lt(2),g(ae,m)},ue=ae=>{var m=Ia();g(ae,m)};I(k,ae=>{t.itemType&&t.itemType.includes("episode")?ae(de):ae(ue,!1)},me)}};I(b,k=>{t.itemType&&t.itemType.includes("recording")?k(w):k(X,!1)},R)}};I(u,b=>{t.itemType&&t.itemType.includes("release_group")?b(E):b(y,!1)},f)}};I(v,u=>{t.itemType&&t.itemType.includes("artist")?u(d):u(h,!1)})}z(c),z(l),g(s,l)};I(a,s=>{r()&&s(i)})}g(e,n),yr()}const Sa=(e,t=be,r=be)=>{var n=ge(),a=Z(n);{var i=s=>{var l=ja(),c=B(l,!0);z(l),H(()=>{De(l,"href",`/user/${t().inserted_by_username??""}`),ve(c,t().inserted_by_display_name)}),g(s,l)};I(a,s=>{r()=="open"&&s(i)})}g(e,n)};var Ca=(e,t,r)=>t(r()),Ra=M('<div class="editor-interactions svelte-917sxt"><button class="standard svelte-917sxt">x remove</button> <div class="handle"><!></div></div>'),Na=M("<img>"),La=M('<img alt="loading cover art">'),Pa=M("<a> </a>"),Ma=M('<span class="artist"><!> <!></span>'),Fa=M("<a> </a>"),za=M("<a> </a>"),ka=M('<!> <span class="title"><!></span> <span class="artist"><!></span>',1),Ga=M("<a> </a>"),Ba=M("<a> </a>"),Ua=M('<!> <span class="title"><!></span> <span class="artist"><!></span>',1),Wa=M("<a> </a>"),Za=M("<a> </a>"),Ha=M('<!> <span class="title"><!></span> <span class="artist"><!></span>',1),ja=M('<a class="attribution svelte-917sxt"> </a>'),Ya=M('<div class="media-grid-item"></div>'),Va=M('<li><!> <div class="metadata-blurb"><!></div> <!></li>'),qa=M('<ul aria-label="collection items"></ul>'),Ka=M('<li><!> <div class="metadata-blurb"><!></div> <!></li>'),Xa=M('<ul aria-label="collection items"><!> <!></ul>');function gi(e,t){hr(t,!0);const r=(m,o=be,p=be)=>{var D=Ra(),F=B(D);F.__click=[Ca,X,o];var x=ye(F,2),S=B(x);Ea(S,{size:"20",color:"var(--freq-color-text-muted)"}),z(x),tr(x,Y=>zt==null?void 0:zt(Y)),z(D),H(()=>De(x,"aria-label",`drag-handle for ${p()??""}`)),g(m,D)},n=(m,o=be,p=be)=>{var D=ge(),F=Z(D);$t(F,h,x=>{var S=La();De(S,"src",nr),g(x,S)},x=>{var S=Na();H(()=>{De(S,"src",o().img_url??o().last_fm_img_url??nr),De(S,"alt",`${(o().img_url?p():"no available")??""} cover art`)}),g(x,S)}),g(m,D)},a=(m,o=be,p=be,D=be)=>{var F=ge(),x=Z(F);{var S=_=>{var L=ge(),q=Z(L);ar(q,()=>N(y).length,ce=>{var A=ge(),O=Z(A);{var T=C=>{const $=dt(()=>`"${o().release_group_name}" by ${o().artist_name}`);Qe(C,{get item(){return o()},get altText(){return N($)}})},W=(C,$)=>{{var pe=J=>{n(J,o,()=>o().release_group_name)};I(C,J=>{o().img_url==null&&o().last_fm_img_url==null&&J(pe)},$)}};I(O,C=>{o().img_url!=null||o().last_fm_img_url!=null?C(T):C(W,!1)})}g(ce,A)}),g(_,L)},Y=(_,L)=>{{var q=A=>{Qe(A,{get item(){return o()},get altText(){return o().release_group_name}})},ce=(A,O)=>{{var T=C=>{var $=ge(),pe=Z($);ar(pe,()=>N(y).length,J=>{var ie=ge(),Se=Z(ie);{var Oe=P=>{const Ae=dt(()=>E(o(),t.collectionType??o().item_type));Qe(P,{get item(){return o()},get altText(){return N(Ae)}})},G=(P,Ae)=>{{var Ze=K=>{n(K,o,()=>o().recording_name)};I(P,K=>{o().img_url==null&&o().last_fm_img_url==null&&K(Ze)},Ae)}};I(Se,P=>{o().img_url!=null||o().last_fm_img_url!=null?P(Oe):P(G,!1)})}g(J,ie)}),g(C,$)},W=(C,$)=>{{var pe=ie=>{Qe(ie,{get item(){return o()},get altText(){return o().recording_name}})},J=(ie,Se)=>{{var Oe=G=>{Qe(G,{get item(){return o()},get altText(){return o().episode_title}})};I(ie,G=>{p().includes("episode")&&G(Oe)},Se)}};I(C,ie=>{p().includes("recording")&&D()=="view"?ie(pe):ie(J,!1)},$)}};I(A,C=>{p().includes("recording")&&D()=="edit"?C(T):C(W,!1)},O)}};I(_,A=>{p().includes("release_group")&&D()=="view"?A(q):A(ce,!1)},L)}};I(x,_=>{p().includes("release_group")&&D()=="edit"?_(S):_(Y,!1)})}g(m,F)},i=(m,o=be,p=be,D=be)=>{var F=ge(),x=Z(F);{var S=_=>{var L=Ma(),q=B(L);gt(q,{get display(){return d()},get itemType(){return p()}});var ce=ye(q,2);{var A=T=>{var W=Pa(),C=B(W,!0);z(W),H(()=>{De(W,"href",`https://musicbrainz.org/artist/${o().artist_mbid}`),ve(C,o().artist_name)}),g(T,W)},O=T=>{var W=Ge();H(()=>ve(W,o().artist_name??o().user_added_artist_name)),g(T,W)};I(ce,T=>{o().artist_mbid&&o().artist_mbid.length>0&&D()=="view"?T(A):T(O,!1)})}z(L),g(_,L)},Y=(_,L)=>{{var q=A=>{var O=ka(),T=Z(O);gt(T,{get display(){return d()},get itemType(){return p()}});var W=ye(T,2),C=B(W);{var $=G=>{var P=Fa(),Ae=B(P,!0);z(P),H(()=>{De(P,"href",`https://musicbrainz.org/release-group/${o().release_group_mbid}`),ve(Ae,o().release_group_name)}),g(G,P)},pe=G=>{var P=Ge();H(()=>ve(P,o().release_group_name??o().user_added_release_group_name)),g(G,P)};I(C,G=>{o().release_group_mbid&&o().release_group_mbid.length>0&&D()=="view"?G($):G(pe,!1)})}z(W);var J=ye(W,2),ie=B(J);{var Se=G=>{var P=za(),Ae=B(P,!0);z(P),H(()=>{De(P,"href",`https://musicbrainz.org/artist/${o().artist_mbid}`),ve(Ae,o().artist_name)}),g(G,P)},Oe=G=>{var P=Ge();H(()=>ve(P,o().artist_name??o().user_added_artist_name)),g(G,P)};I(ie,G=>{o().artist_mbid&&o().artist_mbid.length>0&&D()=="view"?G(Se):G(Oe,!1)})}z(J),g(A,O)},ce=(A,O)=>{{var T=C=>{var $=Ua(),pe=Z($);gt(pe,{get display(){return d()},get itemType(){return p()}});var J=ye(pe,2),ie=B(J);{var Se=K=>{var ee=Ga(),Je=B(ee,!0);z(ee),H(()=>{De(ee,"href",`https://musicbrainz.org/recording/${o().recording_mbid}`),ve(Je,o().recording_name)}),g(K,ee)},Oe=K=>{var ee=Ge();H(()=>ve(ee,o().recording_name??o().user_added_recording_name)),g(K,ee)};I(ie,K=>{o().recording_mbid&&o().recording_mbid.length>0&&D()=="view"?K(Se):K(Oe,!1)})}z(J);var G=ye(J,2),P=B(G);{var Ae=K=>{var ee=Ba(),Je=B(ee,!0);z(ee),H(()=>{De(ee,"href",`https://musicbrainz.org/artist/${o().artist_mbid}`),ve(Je,o().artist_name)}),g(K,ee)},Ze=K=>{var ee=Ge();H(()=>ve(ee,o().artist_name??o().user_added_artist_name)),g(K,ee)};I(P,K=>{o().artist_mbid&&o().artist_mbid.length>0&&D()=="view"?K(Ae):K(Ze,!1)})}z(G),g(C,$)},W=(C,$)=>{{var pe=J=>{var ie=Ha(),Se=Z(ie);gt(Se,{get display(){return d()},get itemType(){return p()}});var Oe=ye(Se,2),G=B(Oe);{var P=he=>{var fe=Wa(),Rt=B(fe,!0);z(fe),H(()=>{De(fe,"href",o().user_added_listen_url),ve(Rt,o().episode_title??o().user_added_episode_title)}),g(he,fe)},Ae=he=>{var fe=Ge();H(()=>ve(fe,o().episode_title??o().user_added_episode_title)),g(he,fe)};I(G,he=>{o().user_added_listen_url&&o().user_added_listen_url.length>0&&nn(o().user_added_listen_url)&&D()=="view"?he(P):he(Ae,!1)})}z(Oe);var Ze=ye(Oe,2),K=B(Ze);{var ee=he=>{var fe=Za(),Rt=B(fe,!0);z(fe),H(()=>{De(fe,"href",`https://musicbrainz.org/artist/${o().artist_mbid}`),ve(Rt,o().artist_name)}),g(he,fe)},Je=he=>{var fe=Ge();H(()=>ve(fe,o().artist_name??o().user_added_artist_name)),g(he,fe)};I(K,he=>{o().artist_mbid&&o().artist_mbid.length>0&&D()=="view"?he(ee):he(Je,!1)})}z(Ze),g(J,ie)};I(C,J=>{p().includes("episode")&&J(pe)},$)}};I(A,C=>{p().includes("recording")?C(T):C(W,!1)},O)}};I(_,A=>{p().includes("release_group")?A(q):A(ce,!1)},L)}};I(x,_=>{p().includes("artist")?_(S):_(Y,!1)})}g(m,F)},s=m=>{var o=ge(),p=Z(o);{var D=F=>{var x=ge(),S=Z(x);Lt(S,17,()=>N(de),er,(Y,_)=>{var L=Ya();g(Y,L)}),g(F,x)};I(p,F=>{N(k)&&F(D)})}g(m,o)};let l=je(t,"collectionContents",31,()=>He([])),c=je(t,"deletedItems",27,()=>He([])),v=je(t,"collectionStatus",3,"public"),d=je(t,"showTags",3,!0),h=je(t,"imgPromise",11,null);const u={grid:["media-grid","media-grid-item"],list:["media-list","media-list-item"],"condensed-grid":["media-grid-condensed","media-grid-item"]};function f(m,o){let p="";return o.includes("artist")?p=m.artistName:o.includes("release_group")?p=`${m.release_group_name} by ${m.artist_name}`:o.includes("recording")&&(p=`${m.recording_name} by ${m.artist_name}`),p}function E(m,o){let p="";return o.includes("release_group")?p=`${m.release_group_name}" by ${m.artist_name}`:o.includes("recording")&&(p=`"${m.recording_name}" by ${m.artist_name}`),p}let y=Kr(He(l()));Xr(()=>{Nt(y,He(l()))});const b=300;function R(m){Nt(y,He(m.detail.items))}function w(m){const{items:o}=m.detail;l(o)}function X(m){Nt(y,He(N(y).filter(o=>o!=m))),m.inserted_at&&(m.item_position=null,c().push(m));for(const o of N(y)){const p=N(y).indexOf(o);o.id=p,o.item_position=p}l(N(y))}const k=dt(()=>t.mode=="view"&&t.layout=="grid"&&l().length<6||t.layout=="condensed-grid"&&l().length<4);function me(m,o){const p=[];if(!N(k)||o=="list")return p;const D=o=="grid"?m.length%6:m.length%4;let F=0;for(;F<D;)p.push(F),F++;return p}const de=dt(()=>me(N(y),t.layout));var ue=ge(),ae=Z(ue);$t(ae,()=>l().length>0,null,m=>{var o=ge(),p=Z(o);{var D=x=>{var S=qa();Lt(S,29,()=>N(y),Y=>Y.id,(Y,_)=>{var L=Va(),q=B(L);a(q,()=>N(_),()=>N(_).item_type??t.collectionType,()=>t.mode);var ce=ye(q,2),A=B(ce);i(A,()=>N(_),()=>N(_).item_type??t.collectionType,()=>t.mode),z(ce);var O=ye(ce,2);r(O,()=>N(_),()=>N(_).recording_name),z(L),H(T=>{De(L,"aria-label",T),ut(L,1,ct(u[t.layout][1]),"svelte-917sxt")},[()=>f(N(_),N(_).item_type??t.collectionType)]),Qr(L,()=>an,()=>({duration:b})),g(Y,L)}),z(S),tr(S,(Y,_)=>Ft==null?void 0:Ft(Y,_),()=>({items:N(y),flipDurationMs:b})),H(()=>ut(S,1,ct(u[t.layout][0]),"svelte-917sxt")),rr("consider",S,R),rr("finalize",S,w),g(x,S)},F=(x,S)=>{{var Y=_=>{var L=Xa(),q=B(L);Lt(q,17,l,er,(A,O)=>{var T=Ka(),W=B(T);a(W,()=>N(O),()=>N(O).item_type??t.collectionType,()=>t.mode);var C=ye(W,2),$=B(C);i($,()=>N(O),()=>N(O).item_type??t.collectionType,()=>t.mode),z(C);var pe=ye(C,2);Sa(pe,()=>N(O),v),z(T),H(()=>ut(T,1,ct(u[t.layout][1]),"svelte-917sxt")),g(A,T)});var ce=ye(q,2);s(ce),z(L),H(()=>ut(L,1,ct(u[t.layout][0]),"svelte-917sxt")),g(_,L)};I(x,_=>{t.mode=="view"&&_(Y)},S)}};I(p,x=>{t.mode=="edit"?x(D):x(F,!1)})}g(m,o)}),g(e,ue),yr()}Jr(["click"]);export{gt as C,gi as G,ar as k};
